import{a as Mr,i as gt,n as st,r as uo,t as je}from"./rolldown-runtime-Dq6TatWD.js";import{$ as po,A as Ht,B as Ar,C as Ye,D as mo,E as ur,F as ho,G as Te,H as rt,I as Gt,J as qt,K as er,L as tr,M as zr,N as xo,O as go,P as bo,Q as St,R as pr,S as ut,T as Er,U as fo,V as kt,W as yo,X as vo,Y as rr,Z as ot,_ as ht,_t as wo,a as ko,at as Lr,b as Dr,c as Pr,ct as _o,d as mr,dt as Ie,et as hr,f as $e,ft as Co,g as xr,gt as jo,h as ve,ht as or,i as ze,it as Tt,j as No,k as So,l as To,lt as ar,m as Fo,mt as Io,n as Bo,nt as _t,o as Mo,ot as Ao,p as gr,pt as zo,q as Eo,r as Je,rt as Lo,s as Et,st as Do,t as Po,tt as Oo,u as Ve,ut as Ut,v as Wo,vt as Ro,w as sr,x as Yt,y as nr,yt as Ho,z as Or}from"./vendor-ZjyYDl76.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerPolicy&&(c.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?c.credentials="include":d.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(d){if(d.ep)return;d.ep=!0;const c=r(d);fetch(d.href,c)}})();var Go=Ro(),h=Mr(Ho(),1),Ct=function(t,o){return t<o?-1:t>o?1:0},br=function(t){return t.reduce(function(o,r){return o+r},0)},qo=(function(){function t(r){this.colors=r}var o=t.prototype;return o.palette=function(){return this.colors},o.map=function(r){return r},t})(),Uo=(function(){function t(c,a,m){return(c<<10)+(a<<5)+m}function o(c){var a=[],m=!1;function l(){a.sort(c),m=!0}return{push:function(g){a.push(g),m=!1},peek:function(g){return m||l(),g===void 0&&(g=a.length-1),a[g]},pop:function(){return m||l(),a.pop()},size:function(){return a.length},map:function(g){return a.map(g)},debug:function(){return m||l(),a}}}function r(c,a,m,l,g,n,u){var b=this;b.r1=c,b.r2=a,b.g1=m,b.g2=l,b.b1=g,b.b2=n,b.histo=u}function s(){this.vboxes=new o(function(c,a){return Ct(c.vbox.count()*c.vbox.volume(),a.vbox.count()*a.vbox.volume())})}function d(c,a){if(a.count()){var m=a.r2-a.r1+1,l=a.g2-a.g1+1,g=Math.max.apply(null,[m,l,a.b2-a.b1+1]);if(a.count()==1)return[a.copy()];var n,u,b,w,T=0,C=[],y=[];if(g==m)for(n=a.r1;n<=a.r2;n++){for(w=0,u=a.g1;u<=a.g2;u++)for(b=a.b1;b<=a.b2;b++)w+=c[t(n,u,b)]||0;C[n]=T+=w}else if(g==l)for(n=a.g1;n<=a.g2;n++){for(w=0,u=a.r1;u<=a.r2;u++)for(b=a.b1;b<=a.b2;b++)w+=c[t(u,n,b)]||0;C[n]=T+=w}else for(n=a.b1;n<=a.b2;n++){for(w=0,u=a.r1;u<=a.r2;u++)for(b=a.g1;b<=a.g2;b++)w+=c[t(u,b,n)]||0;C[n]=T+=w}return C.forEach(function(x,_){y[_]=T-x}),(function(x){var _,k,N,v,z,G=x+"1",W=x+"2",re=0;for(n=a[G];n<=a[W];n++)if(C[n]>T/2){for(N=a.copy(),v=a.copy(),z=(_=n-a[G])<=(k=a[W]-n)?Math.min(a[W]-1,~~(n+k/2)):Math.max(a[G],~~(n-1-_/2));!C[z];)z++;for(re=y[z];!re&&C[z-1];)re=y[--z];return N[W]=z,v[G]=N[W]+1,[N,v]}})(g==m?"r":g==l?"g":"b")}}return r.prototype={volume:function(c){var a=this;return a._volume&&!c||(a._volume=(a.r2-a.r1+1)*(a.g2-a.g1+1)*(a.b2-a.b1+1)),a._volume},count:function(c){var a=this,m=a.histo;if(!a._count_set||c){var l,g,n,u=0;for(l=a.r1;l<=a.r2;l++)for(g=a.g1;g<=a.g2;g++)for(n=a.b1;n<=a.b2;n++)u+=m[t(l,g,n)]||0;a._count=u,a._count_set=!0}return a._count},copy:function(){var c=this;return new r(c.r1,c.r2,c.g1,c.g2,c.b1,c.b2,c.histo)},avg:function(c){var a=this,m=a.histo;if(!a._avg||c){var l,g,n,u,b=0,w=0,T=0,C=0;if(a.r1===a.r2&&a.g1===a.g2&&a.b1===a.b2)a._avg=[a.r1<<3,a.g1<<3,a.b1<<3];else{for(g=a.r1;g<=a.r2;g++)for(n=a.g1;n<=a.g2;n++)for(u=a.b1;u<=a.b2;u++)b+=l=m[t(g,n,u)]||0,w+=l*(g+.5)*8,T+=l*(n+.5)*8,C+=l*(u+.5)*8;a._avg=b?[~~(w/b),~~(T/b),~~(C/b)]:[~~(8*(a.r1+a.r2+1)/2),~~(8*(a.g1+a.g2+1)/2),~~(8*(a.b1+a.b2+1)/2)]}}return a._avg},contains:function(c){var a=this,m=c[0]>>3;return gval=c[1]>>3,bval=c[2]>>3,m>=a.r1&&m<=a.r2&&gval>=a.g1&&gval<=a.g2&&bval>=a.b1&&bval<=a.b2}},s.prototype={push:function(c){this.vboxes.push({vbox:c,color:c.avg()})},palette:function(){return this.vboxes.map(function(c){return c.color})},size:function(){return this.vboxes.size()},map:function(c){for(var a=this.vboxes,m=0;m<a.size();m++)if(a.peek(m).vbox.contains(c))return a.peek(m).color;return this.nearest(c)},nearest:function(c){for(var a,m,l,g=this.vboxes,n=0;n<g.size();n++)((m=Math.sqrt(Math.pow(c[0]-g.peek(n).color[0],2)+Math.pow(c[1]-g.peek(n).color[1],2)+Math.pow(c[2]-g.peek(n).color[2],2)))<a||a===void 0)&&(a=m,l=g.peek(n).color);return l},forcebw:function(){var c=this.vboxes;c.sort(function(g,n){return Ct(br(g.color),br(n.color))});var a=c[0].color;a[0]<5&&a[1]<5&&a[2]<5&&(c[0].color=[0,0,0]);var m=c.length-1,l=c[m].color;l[0]>251&&l[1]>251&&l[2]>251&&(c[m].color=[255,255,255])}},{quantize:function(c,a){if(!Number.isInteger(a)||a<1||a>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!c.length||a<2||a>256||!c.length||a<2||a>256)return!1;for(var m=[],l=new Set,g=0;g<c.length;g++){var n=c[g],u=n.join(",");l.has(u)||(l.add(u),m.push(n))}if(m.length<=a)return new qo(m);var b=(function(_){var k,N=new Array(32768);return _.forEach(function(v){k=t(v[0]>>3,v[1]>>3,v[2]>>3),N[k]=(N[k]||0)+1}),N})(c);b.forEach(function(){});var w=(function(_,k){var N,v,z,G=1e6,W=0,re=1e6,$=0,ce=1e6,U=0;return _.forEach(function(P){(N=P[0]>>3)<G?G=N:N>W&&(W=N),(v=P[1]>>3)<re?re=v:v>$&&($=v),(z=P[2]>>3)<ce?ce=z:z>U&&(U=z)}),new r(G,W,re,$,ce,U,k)})(c,b),T=new o(function(_,k){return Ct(_.count(),k.count())});function C(_,k){for(var N,v=_.size(),z=0;z<1e3;){if(v>=k||z++>1e3)return;if((N=_.pop()).count()){var G=d(b,N),W=G[0],re=G[1];if(!W)return;_.push(W),re&&(_.push(re),v++)}else _.push(N),z++}}T.push(w),C(T,.75*a);for(var y=new o(function(_,k){return Ct(_.count()*_.volume(),k.count()*k.volume())});T.size();)y.push(T.pop());C(y,a);for(var x=new s;y.size();)x.push(y.pop());return x}}})().quantize,Wr=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};Wr.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var tt=function(){};tt.prototype.getColor=function(t,o){return o===void 0&&(o=10),this.getPalette(t,5,o)[0]},tt.prototype.getPalette=function(t,o,r){var s=(function(a){var m=a.colorCount,l=a.quality;if(m!==void 0&&Number.isInteger(m)){if(m===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");m=Math.max(m,2),m=Math.min(m,20)}else m=10;return(l===void 0||!Number.isInteger(l)||l<1)&&(l=10),{colorCount:m,quality:l}})({colorCount:o,quality:r}),d=new Wr(t),c=Uo((function(a,m,l){for(var g,n,u,b,w,T=a,C=[],y=0;y<m;y+=l)n=T[0+(g=4*y)],u=T[g+1],b=T[g+2],((w=T[g+3])===void 0||w>=125)&&(n>250&&u>250&&b>250||C.push([n,u,b]));return C})(d.getImageData().data,d.width*d.height,s.quality),s.colorCount);return c?c.palette():null},tt.prototype.getColorFromUrl=function(t,o,r){var s=this,d=document.createElement("img");d.addEventListener("load",function(){o(s.getPalette(d,5,r)[0],t)}),d.src=t},tt.prototype.getImageData=function(t,o){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var s=new Uint8Array(this.response);i=s.length;for(var d=new Array(i),c=0;c<s.length;c++)d[c]=String.fromCharCode(s[c]);var a=d.join("");o("data:image/png;base64,"+window.btoa(a))}},r.send()},tt.prototype.getColorAsync=function(t,o,r){var s=this;this.getImageData(t,function(d){var c=document.createElement("img");c.addEventListener("load",function(){o(s.getPalette(c,5,r)[0],this)}),c.src=d})};var e=Po();function fr({items:t=[],className:o=""}){return t.length===0?null:(0,e.jsx)("nav",{"aria-label":"Breadcrumb",className:`flex items-center gap-2 text-sm ${o}`,children:(0,e.jsx)("ol",{className:"flex items-center gap-2",children:t.map((r,s)=>{const d=s===t.length-1,c=s===0&&r.label==="Home";return(0,e.jsxs)("li",{className:"flex items-center gap-2",children:[s>0&&(0,e.jsx)(ar,{className:"w-4 h-4 text-neutral-500","aria-hidden":"true"}),d?(0,e.jsxs)("span",{className:"text-white font-medium flex items-center gap-1.5","aria-current":"page",children:[c&&(0,e.jsx)(pr,{className:"w-4 h-4"}),r.label]}):(0,e.jsxs)("button",{onClick:r.onClick,className:"text-neutral-400 hover:text-white transition-colors flex items-center gap-1.5 focus-ring rounded px-1 -mx-1",type:"button",children:[c&&(0,e.jsx)(pr,{className:"w-4 h-4"}),r.label]})]},s)})})})}function Yo({currentView:t,onNavigateHome:o,onNavigateBuilder:r,onNavigateBrand:s,onOpenHelp:d,selectedWidgetId:c,selectedWidgetLabel:a,hasBrandTheme:m,brandLabel:l}){const g=[{id:"landing",label:"Widgets",action:o},{id:"builder",label:"Builder",action:r,disabled:!c},{id:"brand-generator",label:"Brand Kit",action:s}],[n,u]=(0,h.useState)(!1),[b,w]=(0,h.useState)(!0),T=(0,h.useRef)(null);(0,h.useEffect)(()=>{const y=()=>{w(window.innerWidth>=1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),(0,h.useEffect)(()=>{if(!n)return;const y=x=>{T.current&&(T.current.contains(x.target)||u(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[n]);const C=h.useMemo(()=>{const y=[{label:"Home",onClick:o}];return t==="builder"&&c&&a?(y.push({label:a,onClick:null}),y.push({label:"Builder",onClick:null})):t==="brand-generator"&&y.push({label:"Brand Generator",onClick:null}),y},[t,c,a,o]);return(0,e.jsx)("header",{className:"w-full border-b border-subtle bg-[#0B0E12]/90 backdrop-blur-md sticky top-0 z-30 shadow-lg",children:(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4",children:[(0,e.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("button",{onClick:o,className:"flex items-center gap-3 focus-ring rounded-lg group","aria-label":"Go to home",children:[(0,e.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600 flex items-center justify-center font-black text-white shadow-lg group-hover:scale-105 transition-transform",children:"NW"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-neutral-400",children:"Widget"}),(0,e.jsx)("p",{className:"text-base font-semibold text-white",children:"Notion Wiz"})]})]}),!b&&(0,e.jsx)("button",{type:"button",onClick:()=>u(y=>!y),className:"md:hidden p-2 rounded-lg border border-interactive text-neutral-200 hover:border-purple-300 hover:text-white transition focus-ring","aria-label":"Toggle navigation menu","aria-expanded":n,children:(0,e.jsx)(Er,{className:"w-5 h-5"})})]}),(0,e.jsxs)("nav",{className:"flex-1 flex flex-col md:flex-row md:items-center gap-4",children:[b?(0,e.jsx)("div",{className:"flex items-center gap-2",children:g.map(y=>{const x=t===y.id;return(0,e.jsx)("button",{type:"button",onClick:y.action,disabled:y.disabled,className:`
                        px-4 py-2 rounded-lg text-sm font-semibold transition-all focus-ring
                        ${x?"bg-purple-500/20 text-white border-2 border-purple-400 shadow-lg":"text-neutral-300 hover:text-white hover:bg-white/5 border-2 border-transparent"}
                        ${y.disabled?"opacity-40 cursor-not-allowed":""}
                      `,"aria-current":x?"page":void 0,children:y.label},y.id)})}):(0,e.jsx)("div",{className:"relative",ref:T,children:n&&(0,e.jsx)("div",{className:"absolute left-0 top-0 min-w-[200px] bg-[#0C0F16] border border-interactive rounded-xl shadow-2xl p-2 space-y-1 animate-fadeIn",children:g.map(y=>{const x=t===y.id;return(0,e.jsx)("button",{type:"button",onClick:()=>{y.action(),u(!1)},disabled:y.disabled,className:`
                            w-full px-4 py-2.5 rounded-lg text-left text-sm font-medium transition
                            ${x?"bg-purple-500/20 border border-purple-400 text-white":"bg-white/5 border border-subtle text-neutral-200 hover:border-purple-300 hover:text-white"}
                            ${y.disabled?"opacity-40 cursor-not-allowed":""}
                          `,children:y.label},y.id)})})}),b&&C.length>1&&(0,e.jsx)("div",{className:"hidden lg:block",children:(0,e.jsx)(fr,{items:C})}),(0,e.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,e.jsx)("span",{className:"hidden sm:inline uppercase tracking-widest text-neutral-500",children:"Brand"}),(0,e.jsxs)("span",{className:`
                  px-3 py-1.5 rounded-full border text-xs font-semibold flex items-center gap-1.5
                  ${m?"border-emerald-400/50 bg-emerald-500/10 text-emerald-200":"border-interactive bg-white/5 text-neutral-300"}
                `,children:[m&&(0,e.jsx)(ve,{className:"w-3 h-3"}),(0,e.jsx)("span",{className:"hidden sm:inline",children:m?l:"Neon"}),(0,e.jsx)("span",{className:"sm:hidden",children:m?"✓":"–"})]})]}),d&&(0,e.jsx)("button",{onClick:d,className:"p-2 rounded-lg border border-interactive text-neutral-300 hover:border-purple-300 hover:text-white transition focus-ring","aria-label":"Open help and shortcuts",title:"Keyboard shortcuts",children:(0,e.jsx)(Lr,{className:"w-4 h-4"})})]})]})]}),!b&&C.length>1&&(0,e.jsx)("div",{className:"mt-3 pt-3 border-t border-subtle",children:(0,e.jsx)(fr,{items:C})})]})})}function Jo(t={},o=!0){const r=(0,h.useCallback)(s=>{if(!o)return;const d=[];(s.ctrlKey||s.metaKey)&&d.push("cmd"),s.altKey&&d.push("alt"),s.shiftKey&&d.push("shift");const c=s.key.toLowerCase();d.push(c);const a=d.join("+"),m=s.key,l=t[a]||t[m];l&&(s.preventDefault(),s.stopPropagation(),l(s))},[t,o]);(0,h.useEffect)(()=>{if(o)return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[r,o])}function Qo(t){const o=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;return t.split("+").map(r=>{switch(r.toLowerCase()){case"cmd":return o?"⌘":"Ctrl";case"alt":return o?"⌥":"Alt";case"shift":return o?"⇧":"Shift";case"escape":return"Esc";default:return r.toUpperCase()}}).join(o?"":"+")}function Zo({isOpen:t,onClose:o}){if(!t)return null;const r=[{category:"Navigation",items:[{keys:"cmd+k",description:"Open quick widget switcher"},{keys:"cmd+/",description:"Focus search input"},{keys:"Escape",description:"Close modals and overlays"}]},{category:"Actions",items:[{keys:"cmd+e",description:"Open export modal"},{keys:"cmd+b",description:"Go to brand generator"},{keys:"cmd+s",description:"Quick save (export)"}]},{category:"Help",items:[{keys:"?",description:"Show this help dialog"}]}];return(0,e.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",children:(0,e.jsxs)("div",{className:"bg-[#0B0E12] border-2 border-purple-400/30 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:s=>s.stopPropagation(),children:[(0,e.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,e.jsx)(bo,{className:"w-5 h-5 text-purple-400"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{id:"shortcuts-title",className:"text-xl font-bold text-white",children:"Keyboard Shortcuts"}),(0,e.jsx)("p",{className:"text-sm text-neutral-400",children:"Boost your productivity with these shortcuts"})]})]}),(0,e.jsx)("button",{onClick:o,className:"p-2 hover:bg-white/10 rounded-lg transition-colors focus-ring","aria-label":"Close shortcuts dialog",children:(0,e.jsx)(Je,{className:"w-5 h-5 text-neutral-400"})})]}),(0,e.jsx)("div",{className:"px-6 py-6 overflow-y-auto max-h-[calc(80vh-120px)] space-y-6",children:r.map(s=>(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-xs uppercase tracking-wider font-bold text-purple-400 mb-3",children:s.category}),(0,e.jsx)("div",{className:"space-y-2",children:s.items.map((d,c)=>(0,e.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[(0,e.jsx)("span",{className:"text-sm text-neutral-300",children:d.description}),(0,e.jsx)("kbd",{className:"px-3 py-1.5 bg-[#1F2937] border border-white/20 rounded-lg text-xs font-mono text-white shadow-sm",children:Qo(d.keys)})]},c))})]},s.category))}),(0,e.jsx)("div",{className:"px-6 py-4 border-t border-white/10 bg-white/5",children:(0,e.jsxs)("p",{className:"text-xs text-neutral-400 text-center",children:["Press ",(0,e.jsx)("kbd",{className:"px-2 py-0.5 bg-[#1F2937] border border-white/20 rounded text-[10px] font-mono",children:"?"})," anytime to see this dialog"]})})]})})}var Ko=(0,h.createContext)(null);function Xo({children:t}){const[o,r]=(0,h.useState)([]),s=(0,h.useCallback)((a,m="info",l=3e3)=>{const g=Date.now()+Math.random(),n={id:g,message:a,type:m,duration:l};return r(u=>[...u,n]),l>0&&setTimeout(()=>{r(u=>u.filter(b=>b.id!==g))},l),g},[]),d=(0,h.useCallback)(a=>{r(m=>m.filter(l=>l.id!==a))},[]),c=(0,h.useMemo)(()=>({success:(a,m)=>s(a,"success",m),error:(a,m)=>s(a,"error",m),info:(a,m)=>s(a,"info",m),warning:(a,m)=>s(a,"warning",m)}),[s]);return(0,e.jsxs)(Ko.Provider,{value:{toast:c,addToast:s,removeToast:d},children:[t,(0,e.jsx)($o,{toasts:o,onRemove:d})]})}function $o({toasts:t,onRemove:o}){return t.length===0?null:(0,e.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2 max-w-sm",children:t.map(r=>(0,e.jsx)(Vo,{...r,onClose:()=>o(r.id)},r.id))})}function Vo({id:t,message:o,type:r,onClose:s}){const d={success:Ao,error:Do,warning:Et,info:Gt},c={success:"bg-green-500/20 border-green-400 text-green-100",error:"bg-red-500/20 border-red-400 text-red-100",warning:"bg-amber-500/20 border-amber-400 text-amber-100",info:"bg-blue-500/20 border-blue-400 text-blue-100"},a=d[r]||Gt;return(0,e.jsxs)("div",{className:`
        flex items-start gap-3 p-4 rounded-xl border backdrop-blur-sm
        shadow-lg animate-fadeIn
        ${c[r]}
      `,role:"alert",children:[(0,e.jsx)(a,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,e.jsx)("p",{className:"flex-1 text-sm font-medium",children:o}),(0,e.jsx)("button",{onClick:s,className:"flex-shrink-0 hover:opacity-70 transition-opacity focus-ring rounded","aria-label":"Close notification",children:(0,e.jsx)(Je,{className:"w-4 h-4"})})]})}var ie={electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},Rr={deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},pt={heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},Jt='"Montserrat", system-ui, sans-serif',mt={h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},Fe={letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)"},Ft={gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)"},Hr={minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/logo.svg",gif:"/logo.svg",favicon:"/icon.svg"}};const et={colors:ie,ui:Rr,fonts:pt,fontFamily:Jt,sizes:mt,glowBlur:Fe.glowBlur,glowBlurSubtle:Fe.glowBlurSubtle,glow:Fe.glow,glowStrong:Fe.glowStrong,gradient:Ft.gradient,borderGradient:Ft.borderGradient,logo:Hr},q={id:"jazer-neon",name:"Neon",colors:ie,ui:Rr,fonts:pt,fontFamily:Jt,sizes:mt,effects:Fe,gradients:Ft,logo:Hr,fontLinks:`
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
  `,cssVariables:`:root {
    --jazer-electric-purple: ${ie.electricPurple};
    --jazer-cosmic-blue: ${ie.cosmicBlue};
    --jazer-neon-pink: ${ie.neonPink};
    --jazer-sunburst-gold: ${ie.sunburstGold};
    --jazer-aether-teal: ${ie.aetherTeal};
    --jazer-ultraviolet: ${ie.ultraviolet};
    --jazer-night-black: ${ie.nightBlack};
    --jazer-stardust-white: ${ie.stardustWhite};
    --jazer-graphite: ${ie.graphite};
    --jazer-soft-slate: ${ie.softSlate};
    
    --jazer-glow-blur: ${Fe.glowBlur};
    --jazer-glow-purple: ${Fe.glow};
  }`,extraCSS:`
  body {
    background-color: ${ie.nightBlack};
    color: ${ie.stardustWhite};
    font-family: ${Jt};
  }

  .neon-text { 
    font-family: "${pt.heading}", system-ui, sans-serif; 
    color: ${ie.stardustWhite}; 
    text-shadow: ${Fe.glow}; 
    letter-spacing: ${Fe.letterSpacing}; 
  }
  .neon-gradient-text { 
    font-family: "${pt.heading}", system-ui, sans-serif; 
    background: ${Ft.gradient}; 
    -webkit-background-clip: text; 
    background-clip: text; 
    color: transparent; 
    text-shadow: ${Fe.glow}; 
    letter-spacing: ${Fe.letterSpacing}; 
  }
  h1, h2, h3 { letter-spacing: ${Fe.letterSpacing}; font-family: "${pt.heading}", system-ui, sans-serif; } 
  h1 { font-size: ${mt.h1}; }
  h2 { font-size: ${mt.h2}; color: ${ie.electricPurple}; }
  h3 { font-size: ${mt.h3}; color: ${ie.cosmicBlue}; } 
  
  button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${ie.cosmicBlue}; outline-offset: 2px; }
  
  /* Scrollbar */
  ::-webkit-scrollbar { width: 10px; }
  ::-webkit-scrollbar-track { background: ${ie.nightBlack}; }
  ::-webkit-scrollbar-thumb { background: ${ie.graphite}; border-radius: 5px; border: 1px solid ${ie.nightBlack}; }
  ::-webkit-scrollbar-thumb:hover { background: ${ie.softSlate}; }
  
  @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
  @keyframes roulette { 
    0% { transform: translateY(-20px); opacity: 0; } 
    100% { transform: translateY(0); opacity: 1; } 
  }
  `},ea={id:"counter",label:"Counter",description:"Track habits and count things",defaultConfig:{counterTitle:"Counter",preferredIcons:"plusMinus",counterSize:"medium",centerText:!0,textShadows:!1,transparentBg:!1,backgroundColor:q.colors.stardustWhite,hideResetButton:!1,step:1,minValue:null,maxValue:null,resetValue:0,textColorLight:q.colors.nightBlack,textColorDark:q.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"counterTitle",label:"Counter Title",type:"text",section:"settings"},{name:"preferredIcons",label:"Preferred Icons",type:"select",section:"settings",options:[{label:"Plus and Minus",value:"plusMinus"},{label:"Arrows",value:"arrows"}]},{name:"counterSize",label:"Counter Size",type:"select",section:"settings",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"centerText",label:"Center Text",type:"boolean",section:"style"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"style"},{name:"transparentBg",label:"Use Transparent Background",type:"boolean",section:"style"},{name:"backgroundColor",label:"Background Color",type:"color",section:"style"},{name:"hideResetButton",label:"Hide Reset Button",type:"boolean",section:"behavior"},{name:"step",label:"Step",type:"number",section:"behavior"},{name:"minValue",label:"Min Value",type:"number",section:"behavior"},{name:"maxValue",label:"Max Value",type:"number",section:"behavior"},{name:"resetValue",label:"Reset Value",type:"number",section:"behavior"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Gr=(0,h.createContext)(),bt=()=>{const t=(0,h.useContext)(Gr);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},ta=({config:t,onCustomizeRequest:o})=>{const{getColor:r}=bt(),[s,d]=(0,h.useState)(t.resetValue||0),[c,a]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{if(t.appearanceMode!=="system"||typeof window>"u")return;const T=window.matchMedia("(prefers-color-scheme: dark)"),C=y=>a(y.matches);return T.addEventListener("change",C),()=>T.removeEventListener("change",C)},[t.appearanceMode]);const m=(0,h.useMemo)(()=>t.appearanceMode==="system"?c:t.appearanceMode==="dark",[t.appearanceMode,c]),l={small:{container:"text-4xl p-4",button:"text-2xl px-3 py-1",title:"text-sm"},medium:{container:"text-6xl p-6",button:"text-3xl px-4 py-2",title:"text-base"},large:{container:"text-8xl p-8",button:"text-4xl px-5 py-2",title:"text-lg"},xlarge:{container:"text-9xl p-10",button:"text-5xl px-6 py-3",title:"text-xl"}},g=l[t.counterSize]||l.medium,n=m?t.textColorDark||r("stardustWhite"):t.textColorLight||r("graphite"),u=t.transparentBg?"transparent":t.backgroundColor||r("stardustWhite"),b={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"↑",decrement:"↓"}},w=b[t.preferredIcons]||b.plusMinus;return(0,e.jsxs)("div",{style:{backgroundColor:u,color:n,textAlign:t.centerText?"center":"left",textShadow:t.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none",borderRadius:"8px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:t.centerText?"center":"flex-start"},className:`${g.container} relative`,children:[(0,e.jsx)("div",{className:`font-bold mb-4 ${g.title}`,children:t.counterTitle}),(0,e.jsx)("div",{className:"font-bold mb-6",children:s}),(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("button",{onClick:()=>d(T=>{const C=T-(t.step||1);return t.minValue!==null&&C<t.minValue?t.minValue:C}),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:n,border:`2px solid ${n}`},children:w.decrement}),(0,e.jsx)("button",{onClick:()=>d(T=>{const C=T+(t.step||1);return t.maxValue!==null&&C>t.maxValue?t.maxValue:C}),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:n,border:`2px solid ${n}`},children:w.increment}),!t.hideResetButton&&(0,e.jsx)("button",{onClick:()=>d(t.resetValue||0),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity text-sm`,style:{backgroundColor:m?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:n,border:`1px solid ${n}`},children:"Reset"})]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-xs font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>o?.("features"),children:"Customize"})]})};var yr=t=>typeof t!="string"?t:t.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const ra=t=>{const o={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"↑",decrement:"↓"}},r=o[t.preferredIcons]||o.plusMinus;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${yr(t.counterTitle)}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: system-ui, -apple-system, sans-serif; 
      background: ${t.transparentBg?"transparent":t.backgroundColor};
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .counter-container {
      text-align: ${t.centerText?"center":"left"};
      color: ${t.textColorLight};
      padding: ${t.counterSize==="small"?"1rem":t.counterSize==="large"?"2rem":t.counterSize==="xlarge"?"2.5rem":"1.5rem"};
    }
    .counter-title {
      font-size: ${t.counterSize==="small"?"0.875rem":t.counterSize==="large"?"1.125rem":t.counterSize==="xlarge"?"1.25rem":"1rem"};
      font-weight: bold;
      margin-bottom: 1rem;
      text-shadow: ${t.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-value {
      font-size: ${t.counterSize==="small"?"2.25rem":t.counterSize==="large"?"6rem":t.counterSize==="xlarge"?"8rem":"3.75rem"};
      font-weight: bold;
      margin-bottom: 1.5rem;
      text-shadow: ${t.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-buttons {
      display: flex;
      gap: 1rem;
      justify-content: ${t.centerText?"center":"flex-start"};
    }
    button {
      font-size: ${t.counterSize==="small"?"1.5rem":t.counterSize==="large"?"2.25rem":t.counterSize==="xlarge"?"3rem":"1.875rem"};
      padding: ${t.counterSize==="small"?"0.25rem 0.75rem":t.counterSize==="large"?"0.5rem 1.25rem":t.counterSize==="xlarge"?"0.75rem 1.5rem":"0.5rem 1rem"};
      border-radius: 0.5rem;
      border: 2px solid currentColor;
      background: rgba(0,0,0,0.1);
      cursor: pointer;
      transition: opacity 0.2s;
    }
    button:hover { opacity: 0.8; }
    button.reset {
      font-size: 0.875rem;
      border-width: 1px;
      background: rgba(0,0,0,0.05);
    }
    @media (prefers-color-scheme: dark) {
      .counter-container { color: ${t.textColorDark}; }
      button { background: rgba(255,255,255,0.2); }
      button.reset { background: rgba(255,255,255,0.1); }
    }
  </style>
</head>
<body>
  <div class="counter-container">
    <div class="counter-title">${yr(t.counterTitle)}</div>
    <div class="counter-value" id="count">0</div>
    <div class="counter-buttons">
      <button onclick="changeCount(-1)">${r.decrement}</button>
      <button onclick="changeCount(1)">${r.increment}</button>
      ${t.hideResetButton?"":'<button class="reset" onclick="resetCount()">Reset</button>'}
    </div>
  </div>
  <script>
    let count = parseInt(localStorage.getItem('counter_value') || '0');
    document.getElementById('count').textContent = count;
    
    function changeCount(delta) {
      count += delta;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
    
    function resetCount() {
      count = 0;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
  <\/script>
</body>
</html>`},oa=()=>"",aa={id:"imageGallery",label:"Image Gallery",description:"Dynamic image gallery with advanced controls.",defaultConfig:{images:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e","https://images.unsplash.com/photo-1506744038136-462a42ee7a1b"],captions:[],minImagesRequired:1,sizingMode:"cover",animateGallerySpeedToggle:!1,scrollSpeed:"1s",dotsIndicator:!0,overlayArrows:!1,slideBackgroundColor:q.colors.stardustWhite,textColor:q.colors.nightBlack,dropShadows:!1,transparentBackground:!1,setBackgroundColor:!0,arrowColorLight:q.colors.graphite,arrowColorDark:q.colors.stardustWhite,dotsColorLight:q.colors.graphite,dotsColorDark:q.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"images",label:"Image URLs (one per line)",type:"textarea",section:"imageManagement"},{name:"captions",label:"Image Captions (one per line)",type:"textarea",section:"imageManagement"},{name:"sizingMode",label:"Image Sizing Mode",type:"select",section:"imageDisplay",options:[{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"Wrap Around Image Size",value:"wrap"}]},{name:"animateGallerySpeedToggle",label:"Animate Gallery Speed",type:"boolean",section:"animationControls"},{name:"scrollSpeed",label:"Scroll Speed",type:"select",section:"animationControls",options:[{label:"Very Slow (3s)",value:"3s"},{label:"Slow (2s)",value:"2s"},{label:"Regular (1s)",value:"1s"},{label:"Fast (0.5s)",value:"0.5s"},{label:"Very Fast (0.3s)",value:"0.3s"},{label:"Extremely Fast (0.2s)",value:"0.2s"},{label:"Warp Speed (0.1s)",value:"0.1s"}]},{name:"dotsIndicator",label:"Show Dots Indicator",type:"boolean",section:"navigation"},{name:"overlayArrows",label:"Show Overlay Arrows",type:"boolean",section:"navigation"},{name:"slideBackgroundColor",label:"Slide Background Color",type:"color",section:"style"},{name:"textColor",label:"Text Color",type:"color",section:"style"},{name:"dropShadows",label:"Drop Shadows",type:"boolean",section:"style"},{name:"transparentBackground",label:"Transparent Background",type:"boolean",section:"style"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"style"},{name:"arrowColorLight",label:"Arrow Color (Light Mode)",type:"color",section:"colors"},{name:"arrowColorDark",label:"Arrow Color (Dark Mode)",type:"color",section:"colors"},{name:"dotsColorLight",label:"Dots Color (Light Mode)",type:"color",section:"colors"},{name:"dotsColorDark",label:"Dots Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},sa=({config:t,onCustomizeRequest:o})=>{const r=(t.images||[]).filter(Boolean),[s,d]=(0,h.useState)(0),[c,a]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[m,l]=(0,h.useState)(!1),g=(0,h.useMemo)(()=>{const y=parseFloat(t.scrollSpeed);return(Number.isFinite(y)&&y>0?y:5)*1e3},[t.scrollSpeed]);(0,h.useEffect)(()=>{if(typeof window>"u")return;const y=window.matchMedia("(prefers-color-scheme: dark)"),x=_=>a(_.matches);return y.addEventListener("change",x),()=>y.removeEventListener("change",x)},[]);const n=(0,h.useMemo)(()=>t.appearanceMode==="dark"?!0:t.appearanceMode==="light"?!1:c,[t.appearanceMode,c]);if((0,h.useEffect)(()=>{let y=requestAnimationFrame(()=>{});return r.length===0?y=requestAnimationFrame(()=>d(0)):y=requestAnimationFrame(()=>{d(x=>Math.min(x,r.length-1))}),()=>cancelAnimationFrame(y)},[r.length]),(0,h.useEffect)(()=>{if(t.animateGallerySpeedToggle&&r.length>1){const x=setInterval(()=>{d(_=>(_+1)%r.length)},g);return()=>clearInterval(x)}},[t.animateGallerySpeedToggle,r.length,g]),r.length===0)return(0,e.jsx)("div",{className:"flex items-center justify-center h-full w-full text-neutral-500",children:"No images configured. Please add at least one image URL."});const u=()=>{l(!1),d(y=>(y+1)%r.length)},b=()=>{l(!1),d(y=>(y-1+r.length)%r.length)},w=r[s],T=n?t.arrowColorDark:t.arrowColorLight,C=n?t.dotsColorDark:t.dotsColorLight;return(0,e.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",style:{backgroundColor:t.transparentBackground?"transparent":t.slideBackgroundColor,boxShadow:t.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none"},children:[m?(0,e.jsx)("div",{className:"flex items-center justify-center h-full w-full bg-neutral-200 text-neutral-500",children:"Error loading image."}):(0,e.jsx)("img",{src:w,alt:"Gallery Image",className:"max-w-full max-h-full transition-opacity duration-500",style:{objectFit:t.sizingMode==="wrap"?"unset":t.sizingMode,height:"100%"},onError:()=>l(!0),onLoad:()=>l(!1)}),t.overlayArrows&&r.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:T},children:"<"}),(0,e.jsx)("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:T},children:">"})]}),t.dotsIndicator&&r.length>1&&(0,e.jsx)("div",{className:"absolute bottom-4 flex gap-2",children:r.map((y,x)=>(0,e.jsx)("span",{className:`block w-3 h-3 rounded-full ${x===s?"opacity-100":"opacity-50"}`,style:{backgroundColor:C,cursor:"pointer"},onClick:()=>d(x)},x))}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 text-white",onClick:()=>o?.("imageManagement"),children:"Customize"})]})};var na=t=>typeof t!="string"?t:t.replace(/[&<>'"]/,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const la=t=>{const o=t.images.filter(Boolean);if(o.length===0)return`<div style="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; color: ${q.colors.softSlate};">No images configured.</div>`;const r=t.appearanceMode==="dark"?t.arrowColorDark:t.arrowColorLight,s=t.appearanceMode==="dark"?t.dotsColorDark:t.dotsColorLight,d=t.transparentBackground?"transparent":t.slideBackgroundColor,c=t.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none",a=parseFloat(t.scrollSpeed)*1e3;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery Widget</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        .gallery-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: ${d};
            box-shadow: ${c};
            overflow: hidden;
        }
        .gallery-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: ${t.sizingMode==="wrap"?"unset":t.sizingMode};
            display: none; /* Controlled by JS */
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            height: 100%;
        }
        .gallery-image.active { display: block; opacity: 1; }
        .gallery-nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: ${r};
            padding: 8px 12px;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 1.5rem;
            line-height: 1;
            border: none;
            z-index: 10;
        }
        .gallery-nav-arrow.left { left: 1rem; }
        .gallery-nav-arrow.right { right: 1rem; }
        .gallery-dots {
            position: absolute;
            bottom: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .gallery-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
            background-color: ${s};
            opacity: 0.5;
            cursor: pointer;
        }
        .gallery-dot.active { opacity: 1; }
    </style>
</head>
<body>
    <div class="gallery-container">
        ${o.map((m,l)=>`<img src="${na(m)}" class="gallery-image ${l===0?"active":""}" alt="Gallery Image ${l+1}">`).join("")}
        
        ${t.overlayArrows&&o.length>1?`
          <button class="gallery-nav-arrow left" onclick="prevImage()"></button>
          <button class="gallery-nav-arrow right" onclick="nextImage()">></button>
        `:""}

        ${t.dotsIndicator&&o.length>1?`
          <div class="gallery-dots">
            ${o.map((m,l)=>`<span class="gallery-dot ${l===0?"active":""}" onclick="goToImage(${l})"></span>`).join("")}
          </div>
        `:""}
    </div>
    <script>
        const images = ${JSON.stringify(o)};
        let currentIndex = 0;
        const galleryImages = document.querySelectorAll('.gallery-image');
        const galleryDots = document.querySelectorAll('.gallery-dot');
        const animateGallery = ${t.animateGallerySpeedToggle};
        const scrollSpeed = ${a};
        let intervalId;

        function updateGallery() {
            galleryImages.forEach((img, idx) => {
                img.classList.toggle('active', idx === currentIndex);
            });
            galleryDots.forEach((dot, idx) => {
                dot.classList.toggle('active', idx === currentIndex);
            });
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            updateGallery();
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateGallery();
        }

        function goToImage(index) {
            currentIndex = index;
            updateGallery();
        }

        if (animateGallery && images.length > 1) {
            intervalId = setInterval(nextImage, scrollSpeed);
        }

        // Initial display
        updateGallery();

        // Clear interval on window unload to prevent memory leaks (important for iframes)
        window.addEventListener('beforeunload', () => {
          if (intervalId) clearInterval(intervalId);
        });
    <\/script>
</body>
</html>`},ia=()=>"",ca={id:"quotes",label:"Quotes",description:"Dynamic quotes from Instagram with custom styling and typography.",defaultConfig:{instagramAccount:"positivemindsetdaily",quoteText:"Design is how it works.",author:"Steve Jobs",showRefreshIcon:!0,autoRefreshInterval:0,useQuoteAPI:!0,useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:"jazerNeonTheme.colors.stardustWhite",quoteTextFont:"body",attributionFont:"heading",textAlign:"center",textShadows:!1,textColorLight:"jazerNeonTheme.colors.nightBlack",textColorDark:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundLight:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundDark:"jazerNeonTheme.ui.deepSpace",refreshIconColor:"jazerNeonTheme.colors.electricPurple",authorColor:"jazerNeonTheme.colors.aetherTeal",appearanceMode:"system",gradientQuoteText:!1,gradientQuoteCardBorder:!1,glowQuoteCard:!1,glowRefreshIconHover:!1,useGradientRefreshIcon:!1,showHoverMenu:!0,showCustomizeButton:!0,fontSize:32,glowEffect:!1,gradientText:!1},fields:[{name:"instagramAccount",label:"Instagram Account",type:"text",section:"contentSource",placeholder:"positivemindsetdaily"},{name:"quoteText",label:"Quote Text",type:"textarea",section:"contentSource"},{name:"author",label:"Author",type:"text",section:"contentSource"},{name:"showRefreshIcon",label:"Show Refresh Icon",type:"boolean",section:"displayOptions"},{name:"useQuoteAPI",label:"Fetch Quotes from API",type:"boolean",section:"displayOptions"},{name:"autoRefreshInterval",label:"Auto-refresh Interval",type:"select",section:"displayOptions",options:[{label:"Disabled",value:0},{label:"1 Minute",value:1},{label:"5 Minutes",value:5},{label:"15 Minutes",value:15},{label:"30 Minutes",value:30},{label:"60 Minutes",value:60}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"background"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"background"},{name:"backgroundColor",label:"Background Color",type:"color",section:"background"},{name:"quoteTextFont",label:"Quote Text Font",type:"select",section:"typography",options:[{label:"Default (Body)",value:"body"},{label:"Heading",value:"heading"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"attributionFont",label:"Attribution Font",type:"select",section:"typography",options:[{label:"Default (Heading)",value:"heading"},{label:"Body",value:"body"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"quoteBackgroundLight",label:"Quote Background (Light)",type:"color",section:"colors"},{name:"quoteBackgroundDark",label:"Quote Background (Dark)",type:"color",section:"colors"},{name:"refreshIconColor",label:"Refresh Icon Color",type:"color",section:"colors"},{name:"authorColor",label:"Author Color",type:"color",section:"colors"},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"do-nothing"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"gradientQuoteText",label:"Gradient Quote Text",type:"boolean",section:"effects"},{name:"gradientQuoteCardBorder",label:"Gradient Quote Card Border",type:"boolean",section:"effects"},{name:"glowQuoteCard",label:"Glow Effect on Quote Card",type:"boolean",section:"effects"},{name:"glowRefreshIconHover",label:"Glow on Refresh Icon Hover",type:"boolean",section:"effects"},{name:"useGradientRefreshIcon",label:"Use Gradient for Refresh Icon",type:"boolean",section:"effects"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},da=({config:t,onCustomizeRequest:o})=>{const{theme:r}=bt(),[s,d]=(0,h.useState)({text:t.quoteText,author:t.author}),[c,a]=(0,h.useState)(()=>t.appearanceMode==="dark"?!0:t.appearanceMode==="light"?!1:t.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[m,l]=(0,h.useState)(!1),g=(0,h.useRef)(!0);(0,h.useEffect)(()=>()=>{g.current=!1},[]),(0,h.useEffect)(()=>{if(t.appearanceMode==="system"){const v=window.matchMedia("(prefers-color-scheme: dark)"),z=G=>a(G.matches);return v.addEventListener("change",z),()=>v.removeEventListener("change",z)}else t.appearanceMode==="dark"?a(!0):t.appearanceMode==="light"&&a(!1)},[t.appearanceMode]),(0,h.useEffect)(()=>{d({text:t.quoteText,author:t.author})},[t.quoteText,t.author]);const n=(0,h.useCallback)(async v=>{if(t.useQuoteAPI){l(!0);try{const z=await fetch("https://api.quotable.io/random",{signal:v});if(!z.ok)throw new Error("Failed to fetch quote");const G=await z.json();!v?.aborted&&g.current&&d({text:G.content,author:G.author})}catch(z){z.name}finally{!v?.aborted&&g.current&&l(!1)}}},[t.useQuoteAPI]);(0,h.useEffect)(()=>{if(!t.useQuoteAPI)return;const v=new AbortController;return n(v.signal),()=>v.abort()},[t.useQuoteAPI,n]),(0,h.useEffect)(()=>{if(!t.useQuoteAPI||t.autoRefreshInterval<=0)return;const v=setInterval(()=>{n()},t.autoRefreshInterval*60*1e3);return()=>clearInterval(v)},[t.autoRefreshInterval,t.useQuoteAPI,n]);const u=v=>({body:r.fonts.body,heading:r.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[v]||r.fonts.body,b=c?t.textColorDark:t.textColorLight,w=c?t.quoteBackgroundDark:t.quoteBackgroundLight,T=t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:w,C=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",y={fontSize:`${t.fontSize}px`,fontFamily:u(t.quoteTextFont),fontStyle:"italic",lineHeight:"1.6",textShadow:C,...t.gradientQuoteText&&{background:r.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},x={fontFamily:u(t.attributionFont),color:t.authorColor,fontSize:"14px",fontWeight:"bold",opacity:.7,textTransform:"uppercase",letterSpacing:"2px",textShadow:C},_={background:T,color:(t.gradientQuoteText,b),textAlign:t.textAlign,padding:"48px",borderRadius:"16px",...t.gradientQuoteCardBorder&&{border:"2px solid transparent",backgroundImage:`${r.gradients.gradient}, ${T}`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},...t.glowQuoteCard&&{boxShadow:r.effects.glow}},k={marginTop:"16px",padding:"12px",borderRadius:"50%",backgroundColor:t.useGradientRefreshIcon?"transparent":`${t.refreshIconColor}20`,border:t.useGradientRefreshIcon?`2px solid ${t.refreshIconColor}`:"none",color:t.refreshIconColor,cursor:"pointer",transition:"all 0.3s ease",...t.useGradientRefreshIcon&&{background:r.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},N=t.glowRefreshIconHover?{filter:`drop-shadow(${r.effects.glow})`}:{};return(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 relative",style:{background:T,color:b},children:[m&&(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 backdrop-blur-sm z-10 rounded-lg",children:(0,e.jsx)("span",{className:"text-xl font-bold",style:{fontFamily:r.fonts.heading},children:"Loading..."})}),(0,e.jsxs)("div",{style:_,className:"max-w-3xl w-full",children:[(0,e.jsxs)("p",{className:"mb-6",style:y,children:['"',s.text,'"']}),(0,e.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,e.jsxs)("span",{style:x,children:["— ",s.author]}),t.instagramAccount&&(0,e.jsxs)("a",{href:`https://www.instagram.com/${t.instagramAccount}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs opacity-50 hover:opacity-100 hover:underline transition-opacity",style:{color:b},children:[(0,e.jsx)(ho,{className:"w-3 h-3"}),"@",t.instagramAccount]})]}),t.showRefreshIcon&&(0,e.jsx)("button",{onClick:()=>n(),className:"mx-auto hover:scale-110 transition-transform",style:k,onMouseEnter:v=>{t.glowRefreshIconHover&&Object.assign(v.currentTarget.style,N)},onMouseLeave:v=>{t.glowRefreshIconHover&&(v.currentTarget.style.filter="none")},"aria-label":"Refresh Quote",disabled:m||!t.useQuoteAPI,children:(0,e.jsx)(nr,{className:`w-5 h-5 ${m?"animate-spin":""}`})})]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:r.colors.cosmicBlue,color:r.colors.stardustWhite,fontFamily:r.fonts.heading},onClick:()=>o?.("contentSource"),children:"Customize"})]})};var Ce=q,it=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])},vr=t=>({body:Ce.fonts.body,heading:Ce.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[t]||Ce.fonts.body;const ua=t=>{const o=t.appearanceMode==="dark",r=o?t.textColorDark:t.textColorLight,s=o?t.quoteBackgroundDark:t.quoteBackgroundLight,d=t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:s,c=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",a=`
    font-size: ${t.fontSize}px;
    font-family: ${vr(t.quoteTextFont)};
    font-style: italic;
    line-height: 1.6;
    text-shadow: ${c};
    ${t.gradientQuoteText?`
      background: ${Ce.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:`color: ${r};`}
  `,m=`
    background: ${d};
    color: ${r};
    text-align: ${t.textAlign};
    padding: 48px;
    border-radius: 16px;
    max-width: 768px;
    width: 100%;
    ${t.gradientQuoteCardBorder?`
      border: 2px solid transparent;
      background-image: ${Ce.gradients.gradient}, ${d};
      background-origin: border-box;
      background-clip: padding-box, border-box;
    `:""}
    ${t.glowQuoteCard?`box-shadow: ${Ce.effects.glow};`:""}
  `,l=`
    margin-top: 16px;
    padding: 12px;
    border-radius: 50%;
    background-color: ${t.useGradientRefreshIcon?"transparent":`${t.refreshIconColor}20`};
    border: ${t.useGradientRefreshIcon?`2px solid ${t.refreshIconColor}`:"none"};
    color: ${t.refreshIconColor};
    cursor: pointer;
    transition: all 0.3s ease;
    ${t.useGradientRefreshIcon?`
      background: ${Ce.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:""}
  `;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${it(t.author)} - Quote Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: ${d};
      font-family: ${Ce.fonts.body};
      padding: 32px;
    }

    .quote-card {
      ${m}
    }

    .quote-text {
      ${a}
      margin-bottom: 24px;
    }

    .attribution {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .author {
      font-family: ${vr(t.attributionFont)};
      color: ${t.authorColor};
      font-size: 14px;
      font-weight: bold;
      opacity: 0.7;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: ${c};
    }

    .instagram-link {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      opacity: 0.5;
      color: ${r};
      text-decoration: none;
      transition: opacity 0.3s ease;
    }

    .instagram-link:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .refresh-button {
      ${l}
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .refresh-button:hover {
      transform: scale(1.1);
      ${t.glowRefreshIconHover?`filter: drop-shadow(${Ce.effects.glow});`:""}
    }

    .refresh-button:active {
      transform: scale(0.95);
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      background-color: ${Ce.colors.cosmicBlue};
      color: ${Ce.colors.stardustWhite};
      font-family: ${Ce.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 16px;
      z-index: 10;
    }

    .loading-text {
      font-size: 20px;
      font-weight: bold;
      font-family: ${Ce.fonts.heading};
    }

    @media (prefers-color-scheme: dark) {
      ${t.appearanceMode==="system"?`
        body { background: ${t.quoteBackgroundDark}; }
        .quote-card { background: ${t.quoteBackgroundDark}; color: ${t.textColorDark}; }
        .instagram-link { color: ${t.textColorDark}; }
      `:""}
    }
  </style>
</head>
<body>
  <div class="quote-card" id="quote-card">
    <div id="loading" class="loading" style="display: none;">
      <span class="loading-text">Loading...</span>
    </div>

    <p class="quote-text" id="quote-text">
      "${it(t.quoteText)}"
    </p>

    <div class="attribution">
      <span class="author" id="author">
        — ${it(t.author)}
      </span>

      ${t.instagramAccount?`
        <a href="https://www.instagram.com/${it(t.instagramAccount)}"
           target="_blank"
           rel="noopener noreferrer"
           class="instagram-link">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
          @${it(t.instagramAccount)}
        </a>
      `:""}
    </div>

    ${t.showRefreshIcon?`
      <button class="refresh-button" id="refresh-btn" onclick="fetchQuote()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.8L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.8L21 16"/><path d="M21 21v-5h-5"/></svg>
      </button>
    `:""}
  </div>

  ${t.showCustomizeButton?`
    <button class="customize-button">
      Customize
    </button>
  `:""}

  <script>
    ${qr(t)}
  <\/script>
</body>
</html>`},qr=()=>`
    const exampleQuotes = [
      { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
      { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
      { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
      { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
      { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
      { text: "Strive not to be a success, but rather to be of value.", author: "Albert Einstein" },
      { text: "Life is 10% what happens to you and 90% how you react to it.", author: "Charles R. Swindoll" },
      { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" }
    ];

    function fetchQuote() {
      const loading = document.getElementById('loading');
      const quoteText = document.getElementById('quote-text');
      const author = document.getElementById('author');

      loading.style.display = 'flex';

      setTimeout(() => {
        const randomQuote = exampleQuotes[Math.floor(Math.random() * exampleQuotes.length)];
        quoteText.textContent = '"' + randomQuote.text + '"';
        author.textContent = '— ' + randomQuote.author;
        loading.style.display = 'none';
      }, 500);
    }
  `,pa={id:"weather",label:"Weather",description:"Dynamic weather widget with forecast and customization.",sections:[{id:"locationSettings",label:"Location Settings",icon:"📍",order:1},{id:"displayConfiguration",label:"Display Configuration",icon:"📊",order:2},{id:"forecastOptions",label:"Forecast Options",icon:"📅",order:3},{id:"layoutOptions",label:"Layout Options",icon:"📐",order:4},{id:"appearance",label:"Appearance",icon:"🎨",order:5},{id:"typography",label:"Typography",icon:"🔤",order:6},{id:"background",label:"Background",icon:"🖼️",order:7},{id:"theme",label:"Preset Themes",icon:"🎭",order:8},{id:"effects",label:"Effects",icon:"✨",order:9},{id:"features",label:"Additional Features",icon:"⚙️",order:10}],defaultConfig:{weatherLocation:"Austin, TX",useGeolocation:!0,preferredUnits:"imperial",numberOfDays:5,currentWeatherFields:["temperature","condition","humidity","wind"],dailyWeatherFields:["high","low","condition","precipitation"],hideTodayInForecast:!1,displayDates:!1,orientation:"auto",widgetSize:"medium",animateIcons:!0,greyscaleIcons:!1,textShadows:!1,fontScale:1,appearanceMode:"system",useTransparentBackground:!1,textColorLight:q.colors.graphite,textColorDark:q.colors.stardustWhite,backgroundColor:q.colors.nightBlack,setBackgroundColor:!1,theme:{light:{textColor:q.colors.graphite,backgroundColor:q.colors.stardustWhite},dark:{textColor:q.colors.stardustWhite,backgroundColor:q.colors.nightBlack}},textFontFamily:"default",googleFont:"none",textAlign:"center",backgroundTexture:"none",presetTheme:"none",glowEffect:!1,gradientText:!1,visuallyGroupForecast:!1,showHoverMenu:!0,showCustomizeButton:!0,timeFormat:"12h",showSevereAlerts:!0},validation:{weatherLocation:{required:!0,type:"string",minLength:2},currentWeatherFields:{required:!0,type:"array",minItems:1,maxItems:6},dailyWeatherFields:{required:!0,type:"array",minItems:1},numberOfDays:{type:"number",min:3,max:10},fontScale:{type:"number",min:.8,max:1.2,step:.1}},fields:[{name:"weatherLocation",label:"Weather Location",type:"text",section:"locationSettings",placeholder:"City, State or ZIP",helpText:"Uses free Open-Meteo API - no key required",required:!0},{name:"useGeolocation",label:"Auto-Detect Location",type:"boolean",section:"locationSettings",helpText:"Automatically detect user location (requires permission)"},{name:"preferredUnits",label:"Preferred Units",type:"select",section:"locationSettings",options:[{label:"Imperial (°F, mph)",value:"imperial"},{label:"Metric (°C, km/h)",value:"metric"}]},{name:"numberOfDays",label:"Number of Days",type:"select",section:"locationSettings",options:[{label:"3 Days",value:3},{label:"5 Days",value:5},{label:"7 Days",value:7},{label:"10 Days",value:10}]},{name:"currentWeatherFields",label:"Current Weather Fields",type:"multiselect",section:"displayConfiguration",helpText:"Select 1-6 fields to display",maxItems:6,options:[{label:"Temperature",value:"temperature"},{label:"Condition",value:"condition"},{label:"Humidity",value:"humidity"},{label:"Wind Speed",value:"wind"},{label:"Feels Like",value:"feelsLike"},{label:"UV Index",value:"uvIndex"},{label:"Cloud Cover",value:"cloudCover"},{label:"Pressure",value:"pressure"},{label:"Visibility",value:"visibility"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"dailyWeatherFields",label:"Daily Weather Fields",type:"multiselect",section:"displayConfiguration",options:[{label:"High Temp",value:"high"},{label:"Low Temp",value:"low"},{label:"Condition",value:"condition"},{label:"Precipitation",value:"precipitation"},{label:"Wind",value:"wind"},{label:"UV Index",value:"uvIndex"},{label:"Humidity",value:"humidity"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"hideTodayInForecast",label:"Hide Today in Forecast",type:"boolean",section:"forecastOptions",helpText:"Show forecast starting from tomorrow"},{name:"displayDates",label:"Display Dates",type:"boolean",section:"forecastOptions",helpText:"Show dates alongside day names"},{name:"orientation",label:"Orientation",type:"select",section:"layoutOptions",options:[{label:"Auto (Responsive)",value:"auto"},{label:"Horizontal",value:"horizontal"},{label:"Compact",value:"compact"},{label:"Wide",value:"wide"}]},{name:"widgetSize",label:"Widget Size",type:"select",section:"layoutOptions",helpText:"Control the overall dimensions of the widget",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}]},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",helpText:"Control light/dark mode behavior",options:[{label:"Use System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"appearance",helpText:"Override background colors with transparency"},{name:"theme.light.textColor",label:"Light Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.light.backgroundColor",label:"Light Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.textColor",label:"Dark Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.backgroundColor",label:"Dark Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"animateIcons",label:"Animate Weather Icons",type:"boolean",section:"appearance"},{name:"greyscaleIcons",label:"Greyscale Icons",type:"boolean",section:"appearance"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"appearance",helpText:"Add subtle shadows for better readability"},{name:"fontScale",label:"Font Scale",type:"range",section:"appearance",min:.8,max:1.2,step:.1},{name:"textFontFamily",label:"Base Font Style",type:"select",section:"typography",options:[{label:"Default (Sans-serif)",value:"default"},{label:"Serif",value:"serif"},{label:"Monospace",value:"mono"}]},{name:"googleFont",label:"Google Font Override",type:"select",section:"typography",helpText:"Apply a custom Google Font (overrides base font)",options:[{label:"None",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",helpText:"Add a subtle pattern overlay",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",helpText:"Quick-apply a pre-designed theme (overrides custom colors)",options:[{label:"None (Use Custom Settings)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects",helpText:"Add a subtle glow around elements"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects",helpText:"Apply color gradients to text"},{name:"visuallyGroupForecast",label:"Visually Group Forecast",type:"boolean",section:"features",helpText:"Add visual separation between forecast days"},{name:"timeFormat",label:"Time Format",type:"select",section:"features",options:[{label:"12-hour (AM/PM)",value:"12h"},{label:"24-hour",value:"24h"}]},{name:"showSevereAlerts",label:"Show Severe Weather Alerts",type:"boolean",section:"features",helpText:"Display warnings for severe weather conditions"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features",helpText:"Display interactive menu on hover"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features",helpText:"Show button to open customization panel"}]};var ma=je({"node_modules/prop-types/lib/ReactPropTypesSecret.js":((t,o)=>{var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=r})}),ha=je({"node_modules/prop-types/factoryWithThrowingShims.js":((t,o)=>{var r=ma();function s(){}function d(){}d.resetWarningCache=s,o.exports=function(){function c(l,g,n,u,b,w){if(w!==r){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}c.isRequired=c;function a(){return c}var m={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:a,element:c,elementType:c,instanceOf:a,node:c,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:d,resetWarningCache:s};return m.PropTypes=m,m}})}),xa=je({"node_modules/prop-types/index.js":((t,o)=>{o.exports=ha()()})}),ga,ba,fa,ya,lr=st({"node_modules/flatbuffers/mjs/constants.js":(()=>{ga=2,ba=4,fa=4,ya=4})}),Oe,It,Bt,at,Ur=st({"node_modules/flatbuffers/mjs/utils.js":(()=>{Oe=new Int32Array(2),It=new Float32Array(Oe.buffer),Bt=new Float64Array(Oe.buffer),at=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1})}),Mt,Yr=st({"node_modules/flatbuffers/mjs/encoding.js":(()=>{(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(Mt||(Mt={}))})}),At,Jr=st({"node_modules/flatbuffers/mjs/byte-buffer.js":(()=>{lr(),Yr(),Ur(),At=class Qr{constructor(o){this.bytes_=o,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(o){return new Qr(new Uint8Array(o))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(o){this.position_=o}capacity(){return this.bytes_.length}readInt8(o){return this.readUint8(o)<<24>>24}readUint8(o){return this.bytes_[o]}readInt16(o){return this.readUint16(o)<<16>>16}readUint16(o){return this.bytes_[o]|this.bytes_[o+1]<<8}readInt32(o){return this.bytes_[o]|this.bytes_[o+1]<<8|this.bytes_[o+2]<<16|this.bytes_[o+3]<<24}readUint32(o){return this.readInt32(o)>>>0}readInt64(o){return BigInt.asIntN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readUint64(o){return BigInt.asUintN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readFloat32(o){return Oe[0]=this.readInt32(o),It[0]}readFloat64(o){return Oe[at?0:1]=this.readInt32(o),Oe[at?1:0]=this.readInt32(o+4),Bt[0]}writeInt8(o,r){this.bytes_[o]=r}writeUint8(o,r){this.bytes_[o]=r}writeInt16(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8}writeUint16(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8}writeInt32(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8,this.bytes_[o+2]=r>>16,this.bytes_[o+3]=r>>24}writeUint32(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8,this.bytes_[o+2]=r>>16,this.bytes_[o+3]=r>>24}writeInt64(o,r){this.writeInt32(o,Number(BigInt.asIntN(32,r))),this.writeInt32(o+4,Number(BigInt.asIntN(32,r>>BigInt(32))))}writeUint64(o,r){this.writeUint32(o,Number(BigInt.asUintN(32,r))),this.writeUint32(o+4,Number(BigInt.asUintN(32,r>>BigInt(32))))}writeFloat32(o,r){It[0]=r,this.writeInt32(o,Oe[0])}writeFloat64(o,r){Bt[0]=r,this.writeInt32(o,Oe[at?0:1]),this.writeInt32(o+4,Oe[at?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let o="";for(let r=0;r<4;r++)o+=String.fromCharCode(this.readInt8(this.position_+4+r));return o}__offset(o,r){const s=o-this.readInt32(o);return r<this.readInt16(s)?this.readInt16(s+r):0}__union(o,r){return o.bb_pos=r+this.readInt32(r),o.bb=this,o}__string(o,r){o+=this.readInt32(o);const s=this.readInt32(o);o+=4;const d=this.bytes_.subarray(o,o+s);return r===Mt.UTF8_BYTES?d:this.text_decoder_.decode(d)}__union_with_string(o,r){return typeof o=="string"?this.__string(r):this.__union(o,r)}__indirect(o){return o+this.readInt32(o)}__vector(o){return o+this.readInt32(o)+4}__vector_len(o){return this.readInt32(o+this.readInt32(o))}__has_identifier(o){if(o.length!=4)throw new Error("FlatBuffers: file identifier must be length 4");for(let r=0;r<4;r++)if(o.charCodeAt(r)!=this.readInt8(this.position()+4+r))return!1;return!0}createScalarList(o,r){const s=[];for(let d=0;d<r;++d){const c=o(d);c!==null&&s.push(c)}return s}createObjList(o,r){const s=[];for(let d=0;d<r;++d){const c=o(d);c!==null&&s.push(c.unpack())}return s}}})}),Zr,va=st({"node_modules/flatbuffers/mjs/builder.js":(()=>{Jr(),lr(),Zr=class Kr{constructor(o){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let r;o?r=o:r=1024,this.bb=At.allocate(r),this.space=r}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(o){this.force_defaults=o}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(o,r){o>this.minalign&&(this.minalign=o);const s=~(this.bb.capacity()-this.space+r)+1&o-1;for(;this.space<s+o+r;){const d=this.bb.capacity();this.bb=Kr.growByteBuffer(this.bb),this.space+=this.bb.capacity()-d}this.pad(s)}pad(o){for(let r=0;r<o;r++)this.bb.writeInt8(--this.space,0)}writeInt8(o){this.bb.writeInt8(this.space-=1,o)}writeInt16(o){this.bb.writeInt16(this.space-=2,o)}writeInt32(o){this.bb.writeInt32(this.space-=4,o)}writeInt64(o){this.bb.writeInt64(this.space-=8,o)}writeFloat32(o){this.bb.writeFloat32(this.space-=4,o)}writeFloat64(o){this.bb.writeFloat64(this.space-=8,o)}addInt8(o){this.prep(1,0),this.writeInt8(o)}addInt16(o){this.prep(2,0),this.writeInt16(o)}addInt32(o){this.prep(4,0),this.writeInt32(o)}addInt64(o){this.prep(8,0),this.writeInt64(o)}addFloat32(o){this.prep(4,0),this.writeFloat32(o)}addFloat64(o){this.prep(8,0),this.writeFloat64(o)}addFieldInt8(o,r,s){(this.force_defaults||r!=s)&&(this.addInt8(r),this.slot(o))}addFieldInt16(o,r,s){(this.force_defaults||r!=s)&&(this.addInt16(r),this.slot(o))}addFieldInt32(o,r,s){(this.force_defaults||r!=s)&&(this.addInt32(r),this.slot(o))}addFieldInt64(o,r,s){(this.force_defaults||r!==s)&&(this.addInt64(r),this.slot(o))}addFieldFloat32(o,r,s){(this.force_defaults||r!=s)&&(this.addFloat32(r),this.slot(o))}addFieldFloat64(o,r,s){(this.force_defaults||r!=s)&&(this.addFloat64(r),this.slot(o))}addFieldOffset(o,r,s){(this.force_defaults||r!=s)&&(this.addOffset(r),this.slot(o))}addFieldStruct(o,r,s){r!=s&&(this.nested(r),this.slot(o))}nested(o){if(o!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(o){this.vtable!==null&&(this.vtable[o]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(o){const r=o.capacity();if(r&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const s=r<<1,d=At.allocate(s);return d.setPosition(s-r),d.bytes().set(o.bytes(),s-r),d}addOffset(o){this.prep(4,0),this.writeInt32(this.offset()-o+4)}startObject(o){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=o;for(let r=0;r<o;r++)this.vtable[r]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const o=this.offset();let r=this.vtable_in_use-1;for(;r>=0&&this.vtable[r]==0;r--);const s=r+1;for(;r>=0;r--)this.addInt16(this.vtable[r]!=0?o-this.vtable[r]:0);const d=2;this.addInt16(o-this.object_start);const c=(s+d)*2;this.addInt16(c);let a=0;const m=this.space;e:for(r=0;r<this.vtables.length;r++){const l=this.bb.capacity()-this.vtables[r];if(c==this.bb.readInt16(l)){for(let g=2;g<c;g+=2)if(this.bb.readInt16(m+g)!=this.bb.readInt16(l+g))continue e;a=this.vtables[r];break}}return a?(this.space=this.bb.capacity()-o,this.bb.writeInt32(this.space,a-o)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-o,this.offset()-o)),this.isNested=!1,o}finish(o,r,s){const d=s?4:0;if(r){const c=r;if(this.prep(this.minalign,8+d),c.length!=4)throw new TypeError("FlatBuffers: file identifier must be length 4");for(let a=3;a>=0;a--)this.writeInt8(c.charCodeAt(a))}this.prep(this.minalign,4+d),this.addOffset(o),d&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(o,r){this.finish(o,r,!0)}requiredField(o,r){const s=this.bb.capacity()-o,d=s-this.bb.readInt32(s);if(!(r<this.bb.readInt16(d)&&this.bb.readInt16(d+r)!=0))throw new TypeError("FlatBuffers: field "+r+" must be set")}startVector(o,r,s){this.notNested(),this.vector_num_elems=r,this.prep(4,o*r),this.prep(s,o*r)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(o){if(!o)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(o))return this.string_maps.get(o);const r=this.createString(o);return this.string_maps.set(o,r),r}createString(o){if(o==null)return 0;let r;return o instanceof Uint8Array?r=o:r=this.text_encoder.encode(o),this.addInt8(0),this.startVector(1,r.length,1),this.bb.setPosition(this.space-=r.length),this.bb.bytes().set(r,this.space),this.endVector()}createByteVector(o){return o==null?0:(this.startVector(1,o.length,1),this.bb.setPosition(this.space-=o.length),this.bb.bytes().set(o,this.space),this.endVector())}createObjectOffset(o){return o===null?0:typeof o=="string"?this.createString(o):o.pack(this)}createObjectOffsetList(o){const r=[];for(let s=0;s<o.length;++s){const d=o[s];if(d!==null)r.push(this.createObjectOffset(d));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return r}createStructOffsetList(o,r){return r(this,o.length),this.createObjectOffsetList(o.slice().reverse()),this.endVector()}}})}),ft=uo({Builder:()=>Zr,ByteBuffer:()=>At,Encoding:()=>Mt,FILE_IDENTIFIER_LENGTH:()=>4,SIZEOF_INT:()=>4,SIZEOF_SHORT:()=>2,SIZE_PREFIX_LENGTH:()=>4,float32:()=>It,float64:()=>Bt,int32:()=>Oe,isLittleEndian:()=>at}),yt=st({"node_modules/flatbuffers/mjs/flatbuffers.js":(()=>{lr(),Ur(),va(),Jr(),Yr()})}),wa=je({"node_modules/@openmeteo/sdk/model.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.best_match=1]="best_match",r[r.gfs_seamless=2]="gfs_seamless",r[r.gfs_global=3]="gfs_global",r[r.gfs_hrrr=4]="gfs_hrrr",r[r.meteofrance_seamless=5]="meteofrance_seamless",r[r.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",r[r.meteofrance_arpege_world=7]="meteofrance_arpege_world",r[r.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",r[r.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",r[r.meteofrance_arome_france=10]="meteofrance_arome_france",r[r.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",r[r.jma_seamless=12]="jma_seamless",r[r.jma_msm=13]="jma_msm",r[r.jms_gsm=14]="jms_gsm",r[r.jma_gsm=15]="jma_gsm",r[r.gem_seamless=16]="gem_seamless",r[r.gem_global=17]="gem_global",r[r.gem_regional=18]="gem_regional",r[r.gem_hrdps_continental=19]="gem_hrdps_continental",r[r.icon_seamless=20]="icon_seamless",r[r.icon_global=21]="icon_global",r[r.icon_eu=22]="icon_eu",r[r.icon_d2=23]="icon_d2",r[r.ecmwf_ifs04=24]="ecmwf_ifs04",r[r.metno_nordic=25]="metno_nordic",r[r.era5_seamless=26]="era5_seamless",r[r.era5=27]="era5",r[r.cerra=28]="cerra",r[r.era5_land=29]="era5_land",r[r.ecmwf_ifs=30]="ecmwf_ifs",r[r.gwam=31]="gwam",r[r.ewam=32]="ewam",r[r.glofas_seamless_v3=33]="glofas_seamless_v3",r[r.glofas_forecast_v3=34]="glofas_forecast_v3",r[r.glofas_consolidated_v3=35]="glofas_consolidated_v3",r[r.glofas_seamless_v4=36]="glofas_seamless_v4",r[r.glofas_forecast_v4=37]="glofas_forecast_v4",r[r.glofas_consolidated_v4=38]="glofas_consolidated_v4",r[r.gfs025=39]="gfs025",r[r.gfs05=40]="gfs05",r[r.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",r[r.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",r[r.FGOALS_f3_H=43]="FGOALS_f3_H",r[r.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",r[r.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",r[r.EC_Earth3P_HR=46]="EC_Earth3P_HR",r[r.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",r[r.NICAM16_8S=48]="NICAM16_8S",r[r.cams_europe=49]="cams_europe",r[r.cams_global=50]="cams_global",r[r.cfsv2=51]="cfsv2",r[r.era5_ocean=52]="era5_ocean",r[r.cma_grapes_global=53]="cma_grapes_global",r[r.bom_access_global=54]="bom_access_global",r[r.bom_access_global_ensemble=55]="bom_access_global_ensemble",r[r.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",r[r.arpae_cosmo_2i=57]="arpae_cosmo_2i",r[r.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",r[r.arpae_cosmo_5m=59]="arpae_cosmo_5m",r[r.ecmwf_ifs025=60]="ecmwf_ifs025",r[r.ecmwf_aifs025=61]="ecmwf_aifs025",r[r.gfs013=62]="gfs013",r[r.gfs_graphcast025=63]="gfs_graphcast025",r[r.ecmwf_wam025=64]="ecmwf_wam025",r[r.meteofrance_wave=65]="meteofrance_wave",r[r.meteofrance_currents=66]="meteofrance_currents",r[r.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",r[r.ncep_gfswave025=68]="ncep_gfswave025",r[r.ncep_gefswave025=69]="ncep_gefswave025",r[r.knmi_seamless=70]="knmi_seamless",r[r.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",r[r.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",r[r.dmi_seamless=73]="dmi_seamless",r[r.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",r[r.metno_seamless=75]="metno_seamless",r[r.era5_ensemble=76]="era5_ensemble",r[r.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",r[r.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",r[r.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",r[r.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",r[r.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",r[r.ukmo_seamless=82]="ukmo_seamless",r[r.ncep_gfswave016=83]="ncep_gfswave016",r[r.ncep_nbm_conus=84]="ncep_nbm_conus",r[r.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",r[r.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",r[r.jma_jaxa_himawari=87]="jma_jaxa_himawari",r[r.eumetsat_sarah3=88]="eumetsat_sarah3",r[r.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",r[r.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",r[r.satellite_radiation_seamless=91]="satellite_radiation_seamless",r[r.kma_gdps=92]="kma_gdps",r[r.kma_ldps=93]="kma_ldps",r[r.kma_seamless=94]="kma_seamless",r[r.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",r[r.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",r[r.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",r[r.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",r[r.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",r[r.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",r[r.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",r[r.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",r[r.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",r[r.ncep_nam_conus=104]="ncep_nam_conus",r[r.icon_d2_ruc=105]="icon_d2_ruc",r[r.ecmwf_seas5=106]="ecmwf_seas5",r[r.ecmwf_ec46=107]="ecmwf_ec46",r[r.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",r[r.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",r[r.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",r[r.gem_hrdps_west=111]="gem_hrdps_west"})(o||(t.Model=o={}))})}),ka=je({"node_modules/@openmeteo/sdk/aggregation.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregation=void 0;var o;(function(r){r[r.none=0]="none",r[r.minimum=1]="minimum",r[r.maximum=2]="maximum",r[r.mean=3]="mean",r[r.p10=4]="p10",r[r.p25=5]="p25",r[r.median=6]="median",r[r.p75=7]="p75",r[r.p90=8]="p90",r[r.dominant=9]="dominant",r[r.sum=10]="sum",r[r.spread=11]="spread",r[r.anomaly=12]="anomaly",r[r.sot10=13]="sot10",r[r.sot90=14]="sot90",r[r.efi=15]="efi"})(o||(t.Aggregation=o={}))})}),_a=je({"node_modules/@openmeteo/sdk/probability.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Probability=void 0;var o;(function(r){r[r.none=0]="none",r[r.gt0=1]="gt0",r[r.gt0p1=2]="gt0p1",r[r.gt1=3]="gt1",r[r.gt2=4]="gt2",r[r.gt3=5]="gt3",r[r.gt4=6]="gt4",r[r.gt5=7]="gt5",r[r.gt8=8]="gt8",r[r.gt10=9]="gt10",r[r.gt15=10]="gt15",r[r.gt20=11]="gt20",r[r.gt25=12]="gt25",r[r.gt30=13]="gt30",r[r.gt35=14]="gt35",r[r.gt40=15]="gt40",r[r.gt50=16]="gt50",r[r.gt60=17]="gt60",r[r.gt75=18]="gt75",r[r.gt80=19]="gt80",r[r.gt100=20]="gt100",r[r.lt0=21]="lt0",r[r.lt0p1=22]="lt0p1",r[r.lt1=23]="lt1",r[r.ltm1=24]="ltm1",r[r.ltm2=25]="ltm2",r[r.ltm3=26]="ltm3",r[r.ltm4=27]="ltm4",r[r.ltm5=28]="ltm5",r[r.ltm8=29]="ltm8",r[r.ltm10=30]="ltm10",r[r.ltm15=31]="ltm15",r[r.ltm20=32]="ltm20",r[r.gt1stdev=33]="gt1stdev",r[r.gt1p5stdev=34]="gt1p5stdev",r[r.gt2stdev=35]="gt2stdev",r[r.lt1stdev=36]="lt1stdev",r[r.lt1p5stdev=37]="lt1p5stdev",r[r.lt2stdev=38]="lt2stdev"})(o||(t.Probability=o={}))})}),Ca=je({"node_modules/@openmeteo/sdk/unit.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Unit=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.celsius=1]="celsius",r[r.centimetre=2]="centimetre",r[r.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",r[r.cubic_metre_per_second=4]="cubic_metre_per_second",r[r.degree_direction=5]="degree_direction",r[r.dimensionless_integer=6]="dimensionless_integer",r[r.dimensionless=7]="dimensionless",r[r.european_air_quality_index=8]="european_air_quality_index",r[r.fahrenheit=9]="fahrenheit",r[r.feet=10]="feet",r[r.fraction=11]="fraction",r[r.gdd_celsius=12]="gdd_celsius",r[r.geopotential_metre=13]="geopotential_metre",r[r.grains_per_cubic_metre=14]="grains_per_cubic_metre",r[r.gram_per_kilogram=15]="gram_per_kilogram",r[r.hectopascal=16]="hectopascal",r[r.hours=17]="hours",r[r.inch=18]="inch",r[r.iso8601=19]="iso8601",r[r.joule_per_kilogram=20]="joule_per_kilogram",r[r.kelvin=21]="kelvin",r[r.kilopascal=22]="kilopascal",r[r.kilogram_per_square_metre=23]="kilogram_per_square_metre",r[r.kilometres_per_hour=24]="kilometres_per_hour",r[r.knots=25]="knots",r[r.megajoule_per_square_metre=26]="megajoule_per_square_metre",r[r.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",r[r.metre_per_second=28]="metre_per_second",r[r.metre=29]="metre",r[r.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",r[r.miles_per_hour=31]="miles_per_hour",r[r.millimetre=32]="millimetre",r[r.pascal=33]="pascal",r[r.per_second=34]="per_second",r[r.percentage=35]="percentage",r[r.seconds=36]="seconds",r[r.unix_time=37]="unix_time",r[r.us_air_quality_index=38]="us_air_quality_index",r[r.watt_per_square_metre=39]="watt_per_square_metre",r[r.wmo_code=40]="wmo_code",r[r.parts_per_million=41]="parts_per_million",r[r.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(o||(t.Unit=o={}))})}),ja=je({"node_modules/@openmeteo/sdk/variable.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.apparent_temperature=1]="apparent_temperature",r[r.cape=2]="cape",r[r.cloud_cover=3]="cloud_cover",r[r.cloud_cover_high=4]="cloud_cover_high",r[r.cloud_cover_low=5]="cloud_cover_low",r[r.cloud_cover_mid=6]="cloud_cover_mid",r[r.daylight_duration=7]="daylight_duration",r[r.dew_point=8]="dew_point",r[r.diffuse_radiation=9]="diffuse_radiation",r[r.diffuse_radiation_instant=10]="diffuse_radiation_instant",r[r.direct_normal_irradiance=11]="direct_normal_irradiance",r[r.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",r[r.direct_radiation=13]="direct_radiation",r[r.direct_radiation_instant=14]="direct_radiation_instant",r[r.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",r[r.evapotranspiration=16]="evapotranspiration",r[r.freezing_level_height=17]="freezing_level_height",r[r.growing_degree_days=18]="growing_degree_days",r[r.is_day=19]="is_day",r[r.latent_heat_flux=20]="latent_heat_flux",r[r.leaf_wetness_probability=21]="leaf_wetness_probability",r[r.lifted_index=22]="lifted_index",r[r.lightning_potential=23]="lightning_potential",r[r.precipitation=24]="precipitation",r[r.precipitation_hours=25]="precipitation_hours",r[r.precipitation_probability=26]="precipitation_probability",r[r.pressure_msl=27]="pressure_msl",r[r.rain=28]="rain",r[r.relative_humidity=29]="relative_humidity",r[r.runoff=30]="runoff",r[r.sensible_heat_flux=31]="sensible_heat_flux",r[r.shortwave_radiation=32]="shortwave_radiation",r[r.shortwave_radiation_instant=33]="shortwave_radiation_instant",r[r.showers=34]="showers",r[r.snow_depth=35]="snow_depth",r[r.snow_height=36]="snow_height",r[r.snowfall=37]="snowfall",r[r.snowfall_height=38]="snowfall_height",r[r.snowfall_water_equivalent=39]="snowfall_water_equivalent",r[r.sunrise=40]="sunrise",r[r.sunset=41]="sunset",r[r.soil_moisture=42]="soil_moisture",r[r.soil_moisture_index=43]="soil_moisture_index",r[r.soil_temperature=44]="soil_temperature",r[r.surface_pressure=45]="surface_pressure",r[r.surface_temperature=46]="surface_temperature",r[r.temperature=47]="temperature",r[r.terrestrial_radiation=48]="terrestrial_radiation",r[r.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",r[r.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",r[r.updraft=51]="updraft",r[r.uv_index=52]="uv_index",r[r.uv_index_clear_sky=53]="uv_index_clear_sky",r[r.vapour_pressure_deficit=54]="vapour_pressure_deficit",r[r.visibility=55]="visibility",r[r.weather_code=56]="weather_code",r[r.wind_direction=57]="wind_direction",r[r.wind_gusts=58]="wind_gusts",r[r.wind_speed=59]="wind_speed",r[r.vertical_velocity=60]="vertical_velocity",r[r.geopotential_height=61]="geopotential_height",r[r.wet_bulb_temperature=62]="wet_bulb_temperature",r[r.river_discharge=63]="river_discharge",r[r.wave_height=64]="wave_height",r[r.wave_period=65]="wave_period",r[r.wave_direction=66]="wave_direction",r[r.wind_wave_height=67]="wind_wave_height",r[r.wind_wave_period=68]="wind_wave_period",r[r.wind_wave_peak_period=69]="wind_wave_peak_period",r[r.wind_wave_direction=70]="wind_wave_direction",r[r.swell_wave_height=71]="swell_wave_height",r[r.swell_wave_period=72]="swell_wave_period",r[r.swell_wave_peak_period=73]="swell_wave_peak_period",r[r.swell_wave_direction=74]="swell_wave_direction",r[r.pm10=75]="pm10",r[r.pm2p5=76]="pm2p5",r[r.dust=77]="dust",r[r.aerosol_optical_depth=78]="aerosol_optical_depth",r[r.carbon_monoxide=79]="carbon_monoxide",r[r.nitrogen_dioxide=80]="nitrogen_dioxide",r[r.ammonia=81]="ammonia",r[r.ozone=82]="ozone",r[r.sulphur_dioxide=83]="sulphur_dioxide",r[r.alder_pollen=84]="alder_pollen",r[r.birch_pollen=85]="birch_pollen",r[r.grass_pollen=86]="grass_pollen",r[r.mugwort_pollen=87]="mugwort_pollen",r[r.olive_pollen=88]="olive_pollen",r[r.ragweed_pollen=89]="ragweed_pollen",r[r.european_aqi=90]="european_aqi",r[r.european_aqi_pm2p5=91]="european_aqi_pm2p5",r[r.european_aqi_pm10=92]="european_aqi_pm10",r[r.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",r[r.european_aqi_ozone=94]="european_aqi_ozone",r[r.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",r[r.us_aqi=96]="us_aqi",r[r.us_aqi_pm2p5=97]="us_aqi_pm2p5",r[r.us_aqi_pm10=98]="us_aqi_pm10",r[r.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",r[r.us_aqi_ozone=100]="us_aqi_ozone",r[r.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",r[r.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",r[r.sunshine_duration=103]="sunshine_duration",r[r.convective_inhibition=104]="convective_inhibition",r[r.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",r[r.global_tilted_irradiance=106]="global_tilted_irradiance",r[r.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",r[r.ocean_current_velocity=108]="ocean_current_velocity",r[r.ocean_current_direction=109]="ocean_current_direction",r[r.cloud_base=110]="cloud_base",r[r.cloud_top=111]="cloud_top",r[r.mass_density=112]="mass_density",r[r.boundary_layer_height=113]="boundary_layer_height",r[r.formaldehyde=114]="formaldehyde",r[r.glyoxal=115]="glyoxal",r[r.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",r[r.pm10_wildfires=117]="pm10_wildfires",r[r.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",r[r.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",r[r.residential_elementary_carbon=120]="residential_elementary_carbon",r[r.total_elementary_carbon=121]="total_elementary_carbon",r[r.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",r[r.sea_salt_aerosol=123]="sea_salt_aerosol",r[r.nitrogen_monoxide=124]="nitrogen_monoxide",r[r.thunderstorm_probability=125]="thunderstorm_probability",r[r.rain_probability=126]="rain_probability",r[r.freezing_rain_probability=127]="freezing_rain_probability",r[r.ice_pellets_probability=128]="ice_pellets_probability",r[r.snowfall_probability=129]="snowfall_probability",r[r.carbon_dioxide=130]="carbon_dioxide",r[r.methane=131]="methane",r[r.sea_level_height_msl=132]="sea_level_height_msl",r[r.sea_surface_temperature=133]="sea_surface_temperature",r[r.invert_barometer_height=134]="invert_barometer_height",r[r.hail=135]="hail",r[r.albedo=136]="albedo",r[r.precipitation_type=137]="precipitation_type",r[r.convective_cloud_base=138]="convective_cloud_base",r[r.convective_cloud_top=139]="convective_cloud_top",r[r.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",r[r.secondary_swell_wave_height=141]="secondary_swell_wave_height",r[r.secondary_swell_wave_period=142]="secondary_swell_wave_period",r[r.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",r[r.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",r[r.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",r[r.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",r[r.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",r[r.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",r[r.wind_u_component=149]="wind_u_component",r[r.wind_v_component=150]="wind_v_component",r[r.temperature_max24h=151]="temperature_max24h",r[r.temperature_min24h=152]="temperature_min24h",r[r.temperature_mean24h=153]="temperature_mean24h",r[r.snow_density=154]="snow_density",r[r.longwave_radiation=155]="longwave_radiation",r[r.sea_ice_cover=156]="sea_ice_cover",r[r.k_index=157]="k_index",r[r.roughness_length=158]="roughness_length",r[r.potential_evapotranspiration=159]="potential_evapotranspiration",r[r.wave_peak_period=160]="wave_peak_period",r[r.temperature_max6h=161]="temperature_max6h",r[r.temperature_min6h=162]="temperature_min6h"})(o||(t.Variable=o={}))})}),Xr=je({"node_modules/@openmeteo/sdk/variable-with-values.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(n,u,b,w){w===void 0&&(w=b);var T=Object.getOwnPropertyDescriptor(u,b);(!T||("get"in T?!u.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return u[b]}}),Object.defineProperty(n,w,T)}):(function(n,u,b,w){w===void 0&&(w=b),n[w]=u[b]})),r=t&&t.__setModuleDefault||(Object.create?(function(n,u){Object.defineProperty(n,"default",{enumerable:!0,value:u})}):function(n,u){n.default=u}),s=t&&t.__importStar||(function(){var n=function(u){return n=Object.getOwnPropertyNames||function(b){var w=[];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(w[w.length]=T);return w},n(u)};return function(u){if(u&&u.__esModule)return u;var b={};if(u!=null)for(var w=n(u),T=0;T<w.length;T++)w[T]!=="default"&&o(b,u,w[T]);return r(b,u),b}})();Object.defineProperty(t,"__esModule",{value:!0}),t.VariableWithValues=void 0;var d=s((yt(),gt(ft))),c=ka(),a=_a(),m=Ca(),l=ja(),g=class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(u,b){return this.bb_pos=u,this.bb=b,this}static getRootAsVariableWithValues(u,b){return(b||new Qt).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsVariableWithValues(u,b){return u.setPosition(u.position()+d.SIZE_PREFIX_LENGTH),(b||new Qt).__init(u.readInt32(u.position())+u.position(),u)}variable(){const u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint8(this.bb_pos+u):l.Variable.undefined}unit(){const u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint8(this.bb_pos+u):m.Unit.undefined}value(){const u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readFloat32(this.bb_pos+u):0}values(u){const b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+u*4):0}valuesLength(){const u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__vector_len(this.bb_pos+u):0}valuesArray(){const u=this.bb.__offset(this.bb_pos,10);return u?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}valuesInt64(u){const b=this.bb.__offset(this.bb_pos,12);return b?this.bb.readInt64(this.bb.__vector(this.bb_pos+b)+u*8):BigInt(0)}valuesInt64Length(){const u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__vector_len(this.bb_pos+u):0}altitude(){const u=this.bb.__offset(this.bb_pos,14);return u?this.bb.readInt16(this.bb_pos+u):0}aggregation(){const u=this.bb.__offset(this.bb_pos,16);return u?this.bb.readUint8(this.bb_pos+u):c.Aggregation.none}pressureLevel(){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.readInt16(this.bb_pos+u):0}depth(){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readInt16(this.bb_pos+u):0}depthTo(){const u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt16(this.bb_pos+u):0}ensembleMember(){const u=this.bb.__offset(this.bb_pos,24);return u?this.bb.readInt16(this.bb_pos+u):0}previousDay(){const u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt16(this.bb_pos+u):0}probability(){const u=this.bb.__offset(this.bb_pos,28);return u?this.bb.readUint8(this.bb_pos+u):a.Probability.none}};t.VariableWithValues=g})}),Na=je({"node_modules/@openmeteo/sdk/variables-with-month.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(m,l,g,n){n===void 0&&(n=g);var u=Object.getOwnPropertyDescriptor(l,g);(!u||("get"in u?!l.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return l[g]}}),Object.defineProperty(m,n,u)}):(function(m,l,g,n){n===void 0&&(n=g),m[n]=l[g]})),r=t&&t.__setModuleDefault||(Object.create?(function(m,l){Object.defineProperty(m,"default",{enumerable:!0,value:l})}):function(m,l){m.default=l}),s=t&&t.__importStar||(function(){var m=function(l){return m=Object.getOwnPropertyNames||function(g){var n=[];for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(n[n.length]=u);return n},m(l)};return function(l){if(l&&l.__esModule)return l;var g={};if(l!=null)for(var n=m(l),u=0;u<n.length;u++)n[u]!=="default"&&o(g,l,n[u]);return r(g,l),g}})();Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesWithMonth=void 0;var d=s((yt(),gt(ft))),c=Xr(),a=class Zt{constructor(){this.bb=null,this.bb_pos=0}__init(l,g){return this.bb_pos=l,this.bb=g,this}static getRootAsVariablesWithMonth(l,g){return(g||new Zt).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsVariablesWithMonth(l,g){return l.setPosition(l.position()+d.SIZE_PREFIX_LENGTH),(g||new Zt).__init(l.readInt32(l.position())+l.position(),l)}year(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):0}month(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readInt8(this.bb_pos+l):0}count(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readInt32(this.bb_pos+l):0}variables(l,g){const n=this.bb.__offset(this.bb_pos,10);return n?(g||new c.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+l*4),this.bb):null}variablesLength(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.__vector_len(this.bb_pos+l):0}};t.VariablesWithMonth=a})}),Sa=je({"node_modules/@openmeteo/sdk/variables-with-time.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(m,l,g,n){n===void 0&&(n=g);var u=Object.getOwnPropertyDescriptor(l,g);(!u||("get"in u?!l.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return l[g]}}),Object.defineProperty(m,n,u)}):(function(m,l,g,n){n===void 0&&(n=g),m[n]=l[g]})),r=t&&t.__setModuleDefault||(Object.create?(function(m,l){Object.defineProperty(m,"default",{enumerable:!0,value:l})}):function(m,l){m.default=l}),s=t&&t.__importStar||(function(){var m=function(l){return m=Object.getOwnPropertyNames||function(g){var n=[];for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(n[n.length]=u);return n},m(l)};return function(l){if(l&&l.__esModule)return l;var g={};if(l!=null)for(var n=m(l),u=0;u<n.length;u++)n[u]!=="default"&&o(g,l,n[u]);return r(g,l),g}})();Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesWithTime=void 0;var d=s((yt(),gt(ft))),c=Xr(),a=class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(l,g){return this.bb_pos=l,this.bb=g,this}static getRootAsVariablesWithTime(l,g){return(g||new Kt).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsVariablesWithTime(l,g){return l.setPosition(l.position()+d.SIZE_PREFIX_LENGTH),(g||new Kt).__init(l.readInt32(l.position())+l.position(),l)}time(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt64(this.bb_pos+l):BigInt("0")}timeEnd(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readInt64(this.bb_pos+l):BigInt("0")}interval(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readInt32(this.bb_pos+l):0}variables(l,g){const n=this.bb.__offset(this.bb_pos,10);return n?(g||new c.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+l*4),this.bb):null}variablesLength(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.__vector_len(this.bb_pos+l):0}};t.VariablesWithTime=a})}),Ta=je({"node_modules/@openmeteo/sdk/weather-api-response.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(g,n,u,b){b===void 0&&(b=u);var w=Object.getOwnPropertyDescriptor(n,u);(!w||("get"in w?!n.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return n[u]}}),Object.defineProperty(g,b,w)}):(function(g,n,u,b){b===void 0&&(b=u),g[b]=n[u]})),r=t&&t.__setModuleDefault||(Object.create?(function(g,n){Object.defineProperty(g,"default",{enumerable:!0,value:n})}):function(g,n){g.default=n}),s=t&&t.__importStar||(function(){var g=function(n){return g=Object.getOwnPropertyNames||function(u){var b=[];for(var w in u)Object.prototype.hasOwnProperty.call(u,w)&&(b[b.length]=w);return b},g(n)};return function(n){if(n&&n.__esModule)return n;var u={};if(n!=null)for(var b=g(n),w=0;w<b.length;w++)b[w]!=="default"&&o(u,n,b[w]);return r(u,n),u}})();Object.defineProperty(t,"__esModule",{value:!0}),t.WeatherApiResponse=void 0;var d=s((yt(),gt(ft))),c=wa(),a=Na(),m=Sa(),l=class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(n,u){return this.bb_pos=n,this.bb=u,this}static getRootAsWeatherApiResponse(n,u){return(u||new Xt).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsWeatherApiResponse(n,u){return n.setPosition(n.position()+d.SIZE_PREFIX_LENGTH),(u||new Xt).__init(n.readInt32(n.position())+n.position(),n)}latitude(){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readFloat32(this.bb_pos+n):0}longitude(){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readFloat32(this.bb_pos+n):0}elevation(){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readFloat32(this.bb_pos+n):0}generationTimeMilliseconds(){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readFloat32(this.bb_pos+n):0}locationId(){const n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readInt64(this.bb_pos+n):BigInt("0")}model(){const n=this.bb.__offset(this.bb_pos,14);return n?this.bb.readUint8(this.bb_pos+n):c.Model.undefined}utcOffsetSeconds(){const n=this.bb.__offset(this.bb_pos,16);return n?this.bb.readInt32(this.bb_pos+n):0}timezone(n){const u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,n):null}timezoneAbbreviation(n){const u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,n):null}current(n){const u=this.bb.__offset(this.bb_pos,22);return u?(n||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}daily(n){const u=this.bb.__offset(this.bb_pos,24);return u?(n||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}hourly(n){const u=this.bb.__offset(this.bb_pos,26);return u?(n||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}minutely15(n){const u=this.bb.__offset(this.bb_pos,28);return u?(n||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}monthly(n){const u=this.bb.__offset(this.bb_pos,30);return u?(n||new a.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}};t.WeatherApiResponse=l})}),Fa=je({"node_modules/openmeteo/lib/index.js":(t=>{var o=t&&t.__awaiter||function(m,l,g,n){function u(b){return b instanceof g?b:new g(function(w){w(b)})}return new(g||(g=Promise))(function(b,w){function T(x){try{y(n.next(x))}catch(_){w(_)}}function C(x){try{y(n.throw(x))}catch(_){w(_)}}function y(x){x.done?b(x.value):u(x.value).then(T,C)}y((n=n.apply(m,l||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWeatherApi=a;var r=(yt(),gt(ft)),s=Ta(),d=m=>new Promise(l=>setTimeout(l,m));function c(m){return o(this,arguments,void 0,function*(l,g=3,n=.5,u=2,b={}){const w=[500,502,504],T=[400,429];let C=0,y=yield fetch(l,b);for(;w.includes(y.status);){if(C++,C>=g)throw new Error(y.statusText);yield d(Math.min(n*Math.pow(2,C),u)*1e3),y=yield fetch(l,b)}if(T.includes(y.status)){const x=yield y.json();throw"reason"in x?new Error(x.reason):new Error(y.statusText)}return y})}function a(m,l){return o(this,arguments,void 0,function*(g,n,u=3,b=.2,w=2,T={}){const C=new URLSearchParams(n);C.set("format","flatbuffers");const y=yield c(`${g}?${C.toString()}`,u,b,w,T),x=new r.ByteBuffer(new Uint8Array(yield y.arrayBuffer())),_=[];let k=0;for(;k<x.capacity();){x.setPosition(k);const N=x.readInt32(x.position());_.push(s.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(x)),k+=N+4}return _})}})}),te=Mr(xa(),1),wr=Fa(),Dt={current:{temperature:72,condition:"Partly Cloudy",humidity:65,wind:12,feelsLike:70,uvIndex:6,cloudCover:45,pressure:1013,visibility:10,sunrise:"6:45 AM",sunset:"7:30 PM",icon:"partly-cloudy"},forecast:[{day:"Mon",date:"Jan 6",high:75,low:58,condition:"Sunny",precipitation:0,wind:8,uvIndex:7,humidity:55,sunrise:"6:46 AM",sunset:"7:31 PM",icon:"sunny"},{day:"Tue",date:"Jan 7",high:72,low:60,condition:"Cloudy",precipitation:10,wind:10,uvIndex:4,humidity:70,sunrise:"6:46 AM",sunset:"7:32 PM",icon:"cloudy"},{day:"Wed",date:"Jan 8",high:68,low:55,condition:"Rainy",precipitation:80,wind:15,uvIndex:2,humidity:85,sunrise:"6:47 AM",sunset:"7:33 PM",icon:"rainy"},{day:"Thu",date:"Jan 9",high:70,low:57,condition:"Partly Cloudy",precipitation:20,wind:12,uvIndex:5,humidity:65,sunrise:"6:47 AM",sunset:"7:34 PM",icon:"partly-cloudy"},{day:"Fri",date:"Jan 10",high:74,low:59,condition:"Sunny",precipitation:0,wind:7,uvIndex:8,humidity:50,sunrise:"6:48 AM",sunset:"7:35 PM",icon:"sunny"},{day:"Sat",date:"Jan 11",high:76,low:61,condition:"Sunny",precipitation:0,wind:9,uvIndex:8,humidity:48,sunrise:"6:48 AM",sunset:"7:36 PM",icon:"sunny"},{day:"Sun",date:"Jan 12",high:73,low:60,condition:"Partly Cloudy",precipitation:15,wind:11,uvIndex:6,humidity:60,sunrise:"6:49 AM",sunset:"7:37 PM",icon:"partly-cloudy"}],alerts:[]},kr={0:{condition:"Clear",icon:"clear"},1:{condition:"Partly Cloudy",icon:"partly-cloudy"},2:{condition:"Partly Cloudy",icon:"partly-cloudy"},3:{condition:"Partly Cloudy",icon:"partly-cloudy"},45:{condition:"Fog",icon:"fog"},48:{condition:"Fog",icon:"fog"},51:{condition:"Drizzle",icon:"drizzle"},53:{condition:"Drizzle",icon:"drizzle"},55:{condition:"Drizzle",icon:"drizzle"},56:{condition:"Drizzle",icon:"drizzle"},57:{condition:"Drizzle",icon:"drizzle"},61:{condition:"Rain",icon:"rain"},63:{condition:"Rain",icon:"rain"},65:{condition:"Rain",icon:"rain"},66:{condition:"Rain",icon:"rain"},67:{condition:"Rain",icon:"rain"},71:{condition:"Snow",icon:"snow"},73:{condition:"Snow",icon:"snow"},75:{condition:"Snow",icon:"snow"},77:{condition:"Snow",icon:"snow"},80:{condition:"Rain",icon:"rain"},81:{condition:"Rain",icon:"rain"},82:{condition:"Rain",icon:"rain"},85:{condition:"Snow",icon:"snow"},86:{condition:"Snow",icon:"snow"},95:{condition:"Thunderstorm",icon:"thunderstorm"},96:{condition:"Thunderstorm",icon:"thunderstorm"},99:{condition:"Thunderstorm",icon:"thunderstorm"}},qe=t=>kr[t]?kr[t]:t<=3?{condition:"Partly Cloudy",icon:"partly-cloudy"}:t<=48?{condition:"Fog",icon:"fog"}:t<=57?{condition:"Drizzle",icon:"drizzle"}:t<=67?{condition:"Rain",icon:"rain"}:t<=77?{condition:"Snow",icon:"snow"}:t<=82?{condition:"Rain",icon:"rain"}:t<=86?{condition:"Snow",icon:"snow"}:t>=95?{condition:"Thunderstorm",icon:"thunderstorm"}:{condition:"Cloudy",icon:"clouds"},Ue=({condition:t,animate:o,greyscale:r,size:s=32,theme:d})=>{const c=d||q,a=r?"#94A3B8":"#F59E0B",m=c?.colors?r?c.colors.softSlate||"#94A3B8":c.colors.sunburstGold||"#F59E0B":a,l={size:s,className:`${o?"animate-pulse":""} ${r?"grayscale":""}`,style:{color:m},"aria-hidden":!0},g=(w,T)=>c?.colors?.[w]||T,n={sunny:(0,e.jsx)(mr,{...l}),clear:(0,e.jsx)(mr,{...l}),rainy:(0,e.jsx)(hr,{...l,style:{...l.style,color:g("cosmicBlue","#3B82F6")}}),rain:(0,e.jsx)(hr,{...l,style:{...l.style,color:g("cosmicBlue","#3B82F6")}}),drizzle:(0,e.jsx)(Lo,{...l,style:{...l.style,color:g("aetherTeal","#06B6D4")}}),cloudy:(0,e.jsx)(ot,{...l,style:{...l.style,color:g("softSlate","#94A3B8")}}),clouds:(0,e.jsx)(ot,{...l,style:{...l.style,color:g("softSlate","#94A3B8")}}),"partly-cloudy":(0,e.jsx)(St,{...l,style:{...l.style,color:g("aetherTeal","#06B6D4")}}),snow:(0,e.jsx)(po,{...l,style:{...l.style,color:g("stardustWhite","#F8F9FF")}}),thunderstorm:(0,e.jsx)(Oo,{...l,style:{...l.style,color:g("electricPurple","#8B5CF6")}}),mist:(0,e.jsx)(_t,{...l,style:{...l.style,color:g("softSlate","#94A3B8")}}),fog:(0,e.jsx)(_t,{...l,style:{...l.style,color:g("softSlate","#94A3B8")}}),haze:(0,e.jsx)(_t,{...l,style:{...l.style,color:g("softSlate","#94A3B8")}}),smoke:(0,e.jsx)(_t,{...l,style:{...l.style,color:g("graphite","#1F2937")}}),dust:(0,e.jsx)(ze,{...l,style:{...l.style,color:g("sunburstGold","#F59E0B")}}),sand:(0,e.jsx)(ze,{...l,style:{...l.style,color:g("sunburstGold","#F59E0B")}}),tornado:(0,e.jsx)(ze,{...l,style:{...l.style,color:g("electricPurple","#8B5CF6")}})},u=t?.toLowerCase()||"partly-cloudy",b=`Weather condition: ${t||"Partly Cloudy"}`;return(0,e.jsx)("span",{role:"img","aria-label":b,children:n[u]||(0,e.jsx)(St,{...l,style:{...l.style,color:g("aetherTeal","#06B6D4")}})})},Ia=({orientation:t="auto"})=>t==="compact"?(0,e.jsxs)("div",{className:"animate-pulse flex items-center gap-2 p-2",role:"status","aria-label":"Loading weather data",children:[(0,e.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),(0,e.jsx)("div",{className:"h-6 bg-gray-300 rounded w-16"}),(0,e.jsx)("span",{className:"sr-only",children:"Loading..."})]}):t==="horizontal"?(0,e.jsxs)("div",{className:"animate-pulse flex items-center justify-between w-full p-3",role:"status","aria-label":"Loading weather data",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,e.jsx)("div",{className:"h-8 bg-gray-300 rounded w-20"})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-24"}),(0,e.jsx)("div",{className:"h-3 bg-gray-300 rounded w-20"})]}),(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-28"}),(0,e.jsx)("span",{className:"sr-only",children:"Loading..."})]}):t==="wide"?(0,e.jsxs)("div",{className:"animate-pulse space-y-4 p-4",role:"status","aria-label":"Loading weather data",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-full"}),(0,e.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24"})]}),(0,e.jsx)("div",{className:"h-5 bg-gray-300 rounded w-28"})]}),(0,e.jsx)("div",{className:"flex justify-between gap-4",children:[...Array(5)].map((o,r)=>(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-16"},r))}),(0,e.jsx)("div",{className:"flex gap-2 overflow-hidden",children:[...Array(6)].map((o,r)=>(0,e.jsx)("div",{className:"flex-shrink-0 w-16 h-20 bg-gray-300 rounded"},r))}),(0,e.jsx)("span",{className:"sr-only",children:"Loading..."})]}):(0,e.jsxs)("div",{className:"animate-pulse space-y-4",role:"status","aria-label":"Loading weather data","aria-live":"polite",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,e.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),(0,e.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"})]}),(0,e.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24 mb-2"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),(0,e.jsx)("span",{className:"sr-only",children:"Loading weather data..."})]}),Ba=({alert:t})=>(0,e.jsxs)("div",{className:"flex items-start gap-3 p-4 mb-4 rounded-lg border-l-4",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderLeftColor:"#EF4444",color:"#DC2626"},children:[(0,e.jsx)(Et,{size:24,className:"flex-shrink-0 mt-0.5"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"font-bold text-sm mb-1",children:t.event}),(0,e.jsx)("div",{className:"text-xs opacity-90",children:t.description})]})]});const $r=({config:t,onCustomizeRequest:o})=>{let r;try{r=bt()?.theme||q}catch{r=q}const s=r,[d,c]=(0,h.useState)(null),[a,m]=(0,h.useState)(!0),[l,g]=(0,h.useState)(null),[n,u]=(0,h.useState)(null),[b,w]=(0,h.useState)(t.weatherLocation),[T,C]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{!t.useGeolocation&&t.weatherLocation!==b&&w(t.weatherLocation)},[t.weatherLocation,t.useGeolocation,b]);const y=(0,h.useCallback)(async(F,M={})=>{const{signal:p}=M;m(!0),g(null),u(null);try{const j=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(F)}&count=1&language=en&format=json`,{signal:p});if(!j.ok)throw new Error("Location not found");const S=await j.json();if(!S.results||S.results.length===0)throw new Error("Location not found");const{latitude:E,longitude:B,name:J,admin1:O,country:ee}=S.results[0];w(O?`${J}, ${O}`:`${J}, ${ee}`);const ae=(await(0,wr.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:E,longitude:B,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:t.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:t.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:t.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],Z=ae.current(),K=ae.utcOffsetSeconds(),Ne=ae.timezone(),fe=V=>{if(!V)return null;try{return V.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Ne||void 0})}catch{return V.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},L={current:{temperature:Math.round(Z.variables(0).value()),condition:qe(Z.variables(3).value()).condition,humidity:Math.round(Z.variables(1).value()),wind:Math.round(Z.variables(4).value()),feelsLike:Math.round(Z.variables(2).value()),cloudCover:Math.round(Z.variables(5).value()),pressure:Math.round(Z.variables(6).value()),visibility:Math.round(Z.variables(7).value()/1e3),uvIndex:0,icon:qe(Z.variables(3).value()).icon},forecast:[]},de=ae.daily(),ue=Math.min(t.numberOfDays+1,10),Se=de.variables(7),Ae=de.variables(8);for(let V=0;V<ue;V++){const Re=Number(de.time())+V*de.interval(),Ge=new Date((Re+K)*1e3);let ge=null,lt=null;try{if(Se){const f=Number(Se.valuesInt64(V));f>0&&(ge=new Date(f*1e3))}if(Ae){const f=Number(Ae.valuesInt64(V));f>0&&(lt=new Date(f*1e3))}}catch(f){console.warn("Error parsing sunrise/sunset:",f)}L.forecast.push({day:Ge.toLocaleDateString("en-US",{weekday:"short"}),date:t.displayDates?Ge.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(de.variables(1).valuesArray()[V]),low:Math.round(de.variables(2).valuesArray()[V]),condition:qe(de.variables(0).valuesArray()[V]).condition,precipitation:Math.round(de.variables(3).valuesArray()[V]||0),wind:Math.round(de.variables(4).valuesArray()[V]),uvIndex:Math.round(de.variables(5).valuesArray()[V]||0),humidity:Math.round(de.variables(6).valuesArray()[V]||0),sunrise:fe(ge),sunset:fe(lt),icon:qe(de.variables(0).valuesArray()[V]).icon}),V===0&&(L.current.uvIndex=Math.round(de.variables(5).valuesArray()[V]||0),L.current.sunrise=fe(ge),L.current.sunset=fe(lt))}L.alerts=[],c(L),m(!1)}catch(j){j.name!=="AbortError"&&(console.error("Weather fetch error:",j),g(j.message),c(Dt),m(!1))}},[t.preferredUnits,t.numberOfDays,t.displayDates]),x=(0,h.useCallback)(async(F,M,p,j={})=>{const{signal:S}=j;if(!S?.aborted){m(!0),g(null),u(null);try{const E=(await(0,wr.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:F,longitude:M,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:t.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:t.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:t.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],B=E.current(),J=E.utcOffsetSeconds(),O=E.timezone(),ee=L=>{if(!L)return null;try{return L.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:O||void 0})}catch{return L.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},ae={current:{temperature:Math.round(B.variables(0).value()),condition:qe(B.variables(3).value()).condition,humidity:Math.round(B.variables(1).value()),wind:Math.round(B.variables(4).value()),feelsLike:Math.round(B.variables(2).value()),cloudCover:Math.round(B.variables(5).value()),pressure:Math.round(B.variables(6).value()),visibility:Math.round(B.variables(7).value()/1e3),uvIndex:0,icon:qe(B.variables(3).value()).icon},forecast:[],alerts:[]},Z=E.daily(),K=Math.min(t.numberOfDays+1,10),Ne=Z.variables(7),fe=Z.variables(8);for(let L=0;L<K;L++){const de=Number(Z.time())+L*Z.interval(),ue=new Date((de+J)*1e3);let Se=null,Ae=null;try{if(Ne){const V=Number(Ne.valuesInt64(L));V>0&&(Se=new Date(V*1e3))}if(fe){const V=Number(fe.valuesInt64(L));V>0&&(Ae=new Date(V*1e3))}}catch(V){console.warn("Error parsing sunrise/sunset:",V)}ae.forecast.push({day:ue.toLocaleDateString("en-US",{weekday:"short"}),date:t.displayDates?ue.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(Z.variables(1).valuesArray()[L]),low:Math.round(Z.variables(2).valuesArray()[L]),condition:qe(Z.variables(0).valuesArray()[L]).condition,precipitation:Math.round(Z.variables(3).valuesArray()[L]||0),wind:Math.round(Z.variables(4).valuesArray()[L]),uvIndex:Math.round(Z.variables(5).valuesArray()[L]||0),humidity:Math.round(Z.variables(6).valuesArray()[L]||0),sunrise:ee(Se),sunset:ee(Ae),icon:qe(Z.variables(0).valuesArray()[L]).icon}),L===0&&(ae.current.uvIndex=Math.round(Z.variables(5).valuesArray()[L]||0),ae.current.sunrise=ee(Se),ae.current.sunset=ee(Ae))}w(p),c(ae),m(!1)}catch(E){E.name!=="AbortError"&&(console.error("Weather fetch error:",E),g(E.message),c(Dt),m(!1))}}},[t.preferredUnits,t.numberOfDays,t.displayDates]),_=(0,h.useCallback)((F={})=>{const{signal:M}=F;if(!navigator.geolocation){u("Geolocation is not supported by your browser");return}m(!0),u(null),navigator.geolocation.getCurrentPosition(async p=>{if(!M?.aborted)try{const{latitude:j,longitude:S}=p.coords,E=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${j}&longitude=${S}&localityLanguage=en`,{signal:M});let B=`${j.toFixed(2)}, ${S.toFixed(2)}`;if(E.ok){const J=await E.json(),O=J.city||J.locality||J.principalSubdivision,ee=J.principalSubdivision||J.countryName;O&&ee&&O!==ee?B=`${O}, ${ee}`:O?B=O:J.countryName&&(B=J.countryName)}w(B),x(j,S,B,{signal:M})}catch(j){if(j.name!=="AbortError"){const{latitude:S,longitude:E}=p.coords,B=`${S.toFixed(2)}, ${E.toFixed(2)}`;w(B),x(S,E,B,{signal:M})}}},p=>{let j="Unable to retrieve your location.";switch(p.code){case p.PERMISSION_DENIED:j="Location access denied. Please enable location permissions in your browser settings.";break;case p.POSITION_UNAVAILABLE:j="Location information is unavailable. Please try again later.";break;case p.TIMEOUT:j="Location request timed out. Please try again.";break;default:j="An unknown error occurred while getting your location."}u(j),m(!1)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[x]);(0,h.useEffect)(()=>{const F=new AbortController;return t.useGeolocation?_({signal:F.signal}):y(b,{signal:F.signal}),()=>F.abort()},[t.preferredUnits,t.useGeolocation,b,_,y]),(0,h.useEffect)(()=>{const F=new AbortController,M=setInterval(()=>{t.useGeolocation?_({signal:F.signal}):y(b,{signal:F.signal})},6e5);return()=>{clearInterval(M),F.abort()}},[b,t.useGeolocation,_,y]),(0,h.useEffect)(()=>{if(t.googleFont!=="none"){const F=document.createElement("link");return F.href=`https://fonts.googleapis.com/css2?family=${t.googleFont}&display=swap`,F.rel="stylesheet",document.head.appendChild(F),()=>{try{F&&document.head.contains(F)&&document.head.removeChild(F)}catch{}}}},[t.googleFont]),(0,h.useEffect)(()=>{if(t.appearanceMode!=="system"||typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)"),M=p=>C(p.matches);return F.addEventListener("change",M),()=>F.removeEventListener("change",M)},[t.appearanceMode]);const k=(0,h.useMemo)(()=>t.appearanceMode==="system"?T:t.appearanceMode==="dark",[t.appearanceMode,T]),N=k?t.textColorDark||t.theme?.dark?.textColor||s.colors.stardustWhite:t.textColorLight||t.theme?.light?.textColor||s.colors.graphite,v=(0,h.useMemo)(()=>{if(t.googleFont&&t.googleFont!=="none")return`"${String(t.googleFont).replace(/\+/g," ")}", system-ui, sans-serif`;switch(t.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return s?.fonts?.body||'"Montserrat", system-ui, sans-serif'}},[t.googleFont,t.textFontFamily,s]),z=(0,h.useMemo)(()=>t.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[t.backgroundTexture]||"",[t.backgroundTexture]),G=(0,h.useMemo)(()=>t.presetTheme==="none"?{}:{cyberpunk:{primary:s.colors.neonPink,secondary:s.colors.electricPurple,gradient:`linear-gradient(135deg, ${s.colors.neonPink}, ${s.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{primary:s.colors.graphite,secondary:s.colors.nightBlack,gradient:`linear-gradient(135deg, ${s.colors.graphite}, ${s.colors.nightBlack})`,glow:"none"},ocean:{primary:s.colors.aetherTeal,secondary:s.colors.cosmicBlue,gradient:`linear-gradient(135deg, ${s.colors.aetherTeal}, ${s.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{primary:s.colors.sunburstGold,secondary:s.colors.neonPink,gradient:`linear-gradient(135deg, ${s.colors.sunburstGold}, ${s.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{primary:"#10b981",secondary:"#059669",gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{primary:s.colors.ultraviolet,secondary:s.colors.neonPink,gradient:s.gradients.gradient,glow:s.effects.glow},midnight:{primary:s.colors.nightBlack,secondary:s.colors.ultraviolet,gradient:`linear-gradient(135deg, ${s.colors.nightBlack}, ${s.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[t.presetTheme]||{},[t.presetTheme,s]),W=(0,h.useMemo)(()=>{if(t.useTransparentBackground)return"transparent";if(t.setBackgroundColor&&!d)return t.backgroundColor;if(t.presetTheme!=="none"&&G.gradient)return G.gradient;const F=d?.current?.icon||"clear",M={clear:`linear-gradient(135deg, ${s.colors.sunburstGold} 0%, ${s.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${s.colors.sunburstGold} 0%, ${s.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.graphite} 100%)`,cloudy:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${s.colors.cosmicBlue} 0%, ${s.colors.graphite} 100%)`,rainy:`linear-gradient(135deg, ${s.colors.cosmicBlue} 0%, ${s.colors.graphite} 100%)`,drizzle:`linear-gradient(135deg, ${s.colors.aetherTeal} 0%, ${s.colors.cosmicBlue} 100%)`,thunderstorm:`linear-gradient(135deg, ${s.colors.electricPurple} 0%, ${s.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${s.colors.stardustWhite} 0%, ${s.colors.cosmicBlue} 100%)`,mist:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.stardustWhite} 100%)`,fog:`linear-gradient(135deg, ${s.colors.softSlate} 0%, ${s.colors.stardustWhite} 100%)`};return t.setBackgroundColor?t.backgroundColor:M[F]||(k?s.colors.nightBlack:s.colors.stardustWhite)},[t.useTransparentBackground,t.setBackgroundColor,t.backgroundColor,t.presetTheme,G,d,k,s]),re=(0,h.useMemo)(()=>t.useTransparentBackground?{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",backgroundColor:k?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)",borderRadius:"12px",border:`1px solid ${k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"}`}:{},[t.useTransparentBackground,k]),$=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",ce=t.glowEffect?G.glow||s.effects.glow:"none",U=(0,h.useMemo)(()=>t.gradientText?{background:G.gradient||s.gradients?.gradient||"linear-gradient(135deg, #EC4899, #8B5CF6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{},[t.gradientText,G.gradient,s.gradients]),P=F=>Math.round(F),ne=t.preferredUnits==="metric"?"°C":"°F",we=t.preferredUnits==="metric"?"km/h":"mph",xe=d||Dt,me=xe.forecast.slice(t.hideTodayInForecast?1:0).slice(0,t.numberOfDays),ke=F=>{const{current:M}=xe;switch(F){case"temperature":return(0,e.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,e.jsxs)("span",{className:"text-4xl font-bold",style:{fontFamily:s.fonts.heading,fontSize:`${48*t.fontScale}px`},children:[P(M.temperature),ne]})});case"condition":return(0,e.jsx)("div",{className:"text-lg opacity-80 text-center",style:{fontSize:`${18*t.fontScale}px`},children:M.condition});case"humidity":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(Te,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Humidity: ",M.humidity,"%"]})]});case"wind":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(ze,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Wind: ",M.wind," ",we]})]});case"feelsLike":return(0,e.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*t.fontScale}px`},children:["Feels like: ",P(M.feelsLike),ne]});case"uvIndex":return(0,e.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*t.fontScale}px`},children:["UV Index: ",M.uvIndex]});case"cloudCover":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(ot,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Cloud Cover: ",M.cloudCover,"%"]})]});case"pressure":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(kt,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Pressure: ",M.pressure," hPa"]})]});case"visibility":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(rt,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Visibility: ",M.visibility," ",t.preferredUnits==="metric"?"km":"mi"]})]});case"sunrise":return M.sunrise?(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)($e,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Sunrise: ",M.sunrise]})]}):null;case"sunset":return M.sunset?(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(Ve,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Sunset: ",M.sunset]})]}):null;default:return null}},pe=()=>{switch(t.orientation){case"horizontal":return"flex-row items-start justify-center";case"compact":return"flex-col items-center max-w-sm mx-auto";case"wide":return"flex-row items-start justify-between w-full";default:return"flex-col items-center md:flex-row md:items-start md:justify-center"}},D=()=>{const{current:F}=xe;return(0,e.jsxs)("div",{className:"space-y-3 w-full",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between w-full gap-4 px-2",style:{minHeight:"60px"},children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,e.jsx)(Ue,{condition:F.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:40*t.fontScale,theme:s}),(0,e.jsxs)("span",{className:"text-3xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${36*t.fontScale}px`,textShadow:$,...U},children:[P(F.temperature),ne]})]}),(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 min-w-0 px-4",children:[(0,e.jsx)("h2",{className:"text-lg font-bold truncate max-w-full",style:{fontFamily:s.fonts.heading,fontSize:`${18*t.fontScale}px`,textShadow:$,...U},title:b,children:b}),(0,e.jsx)("span",{className:"text-sm opacity-80 truncate max-w-full",style:{fontSize:`${14*t.fontScale}px`},title:F.condition,children:F.condition})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0 flex-wrap",children:[(t.currentWeatherFields||[]).includes("feelsLike")&&(0,e.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:["Feels ",P(F.feelsLike),ne]}),(t.currentWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(Te,{size:13*t.fontScale}),F.humidity,"%"]}),(t.currentWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(ze,{size:13*t.fontScale}),F.wind," ",we]}),(t.currentWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:["UV: ",F.uvIndex]}),(t.currentWeatherFields||[]).includes("cloudCover")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(ot,{size:13*t.fontScale}),F.cloudCover,"%"]}),(t.currentWeatherFields||[]).includes("pressure")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(kt,{size:13*t.fontScale}),F.pressure," hPa"]}),(t.currentWeatherFields||[]).includes("visibility")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(rt,{size:13*t.fontScale}),F.visibility," ",t.preferredUnits==="metric"?"km":"mi"]}),(t.currentWeatherFields||[]).includes("sunrise")&&F.sunrise&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)($e,{size:13*t.fontScale}),F.sunrise]}),(t.currentWeatherFields||[]).includes("sunset")&&F.sunset&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(Ve,{size:13*t.fontScale}),F.sunset]})]})]}),t.numberOfDays>0&&me.length>0&&(0,e.jsx)("div",{className:"border-t pt-3",style:{borderColor:k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:(0,e.jsx)("div",{className:"overflow-x-auto pb-2 px-2",children:(0,e.jsx)("div",{className:"flex gap-4",style:{minWidth:"min-content"},children:me.map((M,p)=>(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",style:{minWidth:"120px"},children:[(0,e.jsxs)("div",{className:"text-center",style:{minWidth:"45px"},children:[(0,e.jsx)("div",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*t.fontScale}px`},children:M.day}),(0,e.jsx)(Ue,{condition:M.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:20*t.fontScale,theme:s})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${14*t.fontScale}px`},children:[P(M.high),"°"]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("span",{className:"text-xs opacity-60",style:{fontSize:`${12*t.fontScale}px`},children:[P(M.low),"°"]})]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*t.fontScale}px`,maxWidth:"100px"},children:M.condition}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("precipitation")&&M.precipitation>0&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:10*t.fontScale}),M.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:10*t.fontScale}),M.wind]}),(t.dailyWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:10*t.fontScale}),M.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV: ",M.uvIndex]})]}),((t.dailyWeatherFields||[]).includes("sunrise")||(t.dailyWeatherFields||[]).includes("sunset"))&&(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("sunrise")&&M.sunrise&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)($e,{size:10*t.fontScale}),M.sunrise]}),(t.dailyWeatherFields||[]).includes("sunset")&&M.sunset&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Ve,{size:10*t.fontScale}),M.sunset]})]})]})]},p))})})})]})},Y=()=>{const{current:F}=xe;return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,e.jsx)(Ue,{condition:F.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:32*t.fontScale,theme:s}),(0,e.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,e.jsxs)("span",{className:"text-2xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${28*t.fontScale}px`,textShadow:$,...U},children:[P(F.temperature),ne]}),t.currentWeatherFields?.includes("feelsLike")&&(0,e.jsxs)("span",{className:"text-xs opacity-60 whitespace-nowrap",style:{fontSize:`${11*t.fontScale}px`},children:["(",P(F.feelsLike),ne,")"]})]}),t.currentWeatherFields?.includes("condition")&&(0,e.jsx)("span",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*t.fontScale}px`},title:F.condition,children:F.condition}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-1 text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.currentWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:10*t.fontScale}),F.humidity,"%"]}),(t.currentWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:10*t.fontScale}),F.wind]}),(t.currentWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV:",F.uvIndex]}),(t.currentWeatherFields||[]).includes("cloudCover")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ot,{size:10*t.fontScale}),F.cloudCover,"%"]}),(t.currentWeatherFields||[]).includes("pressure")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(kt,{size:10*t.fontScale}),F.pressure]}),(t.currentWeatherFields||[]).includes("visibility")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(rt,{size:10*t.fontScale}),F.visibility]})]})]})]}),t.numberOfDays>0&&me.length>0&&(0,e.jsx)("div",{className:"flex gap-2 px-2 overflow-x-auto",children:me.slice(0,3).map((M,p)=>(0,e.jsxs)("div",{className:"flex flex-col items-center flex-shrink-0 p-1.5 rounded",style:{minWidth:"50px",backgroundColor:k?"rgba(248, 249, 255, 0.05)":"rgba(11, 14, 18, 0.03)"},children:[(0,e.jsx)("span",{className:"text-xs font-semibold opacity-60",style:{fontSize:`${10*t.fontScale}px`},children:M.day}),(0,e.jsx)(Ue,{condition:M.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:16*t.fontScale,theme:s}),(0,e.jsxs)("div",{className:"text-xs mt-0.5 space-y-0.5",style:{fontSize:`${11*t.fontScale}px`},children:[(0,e.jsxs)("div",{children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("span",{className:"font-bold",children:[P(M.high),"°"]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("span",{className:"opacity-60 ml-0.5",children:[P(M.low),"°"]})]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"opacity-70 truncate",style:{fontSize:`${9*t.fontScale}px`,maxWidth:"50px"},children:M.condition}),(0,e.jsxs)("div",{className:"flex flex-col gap-0.5 items-center opacity-70",style:{fontSize:`${9*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("precipitation")&&M.precipitation>0&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:8*t.fontScale}),M.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:8*t.fontScale}),M.wind]}),(t.dailyWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:8*t.fontScale}),M.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV:",M.uvIndex]})]})]})]},p))})]})},le=()=>{const{current:F}=xe,M=[{key:"feelsLike",label:"Feels Like",value:`${P(F.feelsLike)}${ne}`,icon:null},{key:"humidity",label:"Humidity",value:`${F.humidity}%`,icon:Te},{key:"wind",label:"Wind",value:`${F.wind} ${we}`,icon:ze},{key:"uvIndex",label:"UV Index",value:F.uvIndex,icon:null},{key:"pressure",label:"Pressure",value:`${F.pressure} hPa`,icon:kt},{key:"visibility",label:"Visibility",value:`${F.visibility} ${t.preferredUnits==="metric"?"km":"mi"}`,icon:rt},{key:"cloudCover",label:"Clouds",value:`${F.cloudCover}%`,icon:ot},{key:"sunrise",label:"Sunrise",value:F.sunrise,icon:$e},{key:"sunset",label:"Sunset",value:F.sunset,icon:Ve}].filter(p=>(t.currentWeatherFields||[]).includes(p.key)&&p.value);return(0,e.jsxs)("div",{className:"w-full space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h2",{className:"text-xl font-bold truncate",style:{fontFamily:s.fonts.heading,fontSize:`${22*t.fontScale}px`,textShadow:$,...U},title:b,children:b}),t.useGeolocation&&(0,e.jsxs)("button",{onClick:()=>_(),className:"flex items-center gap-1 text-xs opacity-60 hover:opacity-100 transition-opacity mt-1",style:{fontSize:`${11*t.fontScale}px`},"aria-label":"Detect your current location",children:[(0,e.jsx)(ur,{size:10*t.fontScale,"aria-hidden":"true"}),"Update"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0 px-6",children:[(0,e.jsx)(Ue,{condition:F.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:56*t.fontScale,theme:s}),(0,e.jsxs)("span",{className:"text-5xl font-bold whitespace-nowrap",style:{fontFamily:s.fonts.heading,fontSize:`${52*t.fontScale}px`,textShadow:$,...U},children:[P(F.temperature),ne]})]}),(0,e.jsxs)("div",{className:"flex-1 min-w-0 text-right",children:[(0,e.jsx)("div",{className:"text-lg opacity-90 truncate",style:{fontSize:`${18*t.fontScale}px`},title:F.condition,children:F.condition}),me[0]&&(0,e.jsxs)("div",{className:"text-sm opacity-70",style:{fontSize:`${14*t.fontScale}px`},children:["H: ",P(me[0].high),ne," / L: ",P(me[0].low),ne]})]})]}),M.length>0&&(0,e.jsx)("div",{className:"grid gap-4 py-3 border-t border-b",style:{gridTemplateColumns:M.length<=5?`repeat(${M.length}, 1fr)`:"repeat(auto-fit, minmax(120px, 1fr))",borderColor:k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:M.map(p=>(0,e.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,e.jsx)("span",{className:"text-xs opacity-60 uppercase tracking-wider mb-1",style:{fontSize:`${10*t.fontScale}px`},children:p.label}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[p.icon&&(0,e.jsx)(p.icon,{size:14*t.fontScale,className:"opacity-70"}),(0,e.jsx)("span",{className:"font-semibold",style:{fontSize:`${14*t.fontScale}px`},children:p.value})]})]},p.key))}),t.numberOfDays>0&&me.length>0&&(0,e.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,e.jsx)("div",{className:"flex gap-3",style:{minWidth:"min-content"},children:me.slice(0,7).map((p,j)=>(0,e.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center p-3 rounded-lg",style:{minWidth:"70px",backgroundColor:k?"rgba(248, 249, 255, 0.08)":"rgba(11, 14, 18, 0.04)"},children:[(0,e.jsx)("span",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*t.fontScale}px`},children:p.day}),(0,e.jsx)(Ue,{condition:p.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:20*t.fontScale,theme:s}),(0,e.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,e.jsxs)("div",{className:"text-center",children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${13*t.fontScale}px`},children:[P(p.high),"°"]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("span",{className:"text-xs opacity-60 ml-1",style:{fontSize:`${11*t.fontScale}px`},children:[P(p.low),"°"]})]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"text-xs opacity-70 text-center truncate",style:{fontSize:`${10*t.fontScale}px`},children:p.condition}),(0,e.jsxs)("div",{className:"flex flex-col items-center gap-0.5 text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("precipitation")&&p.precipitation>0&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:10*t.fontScale}),p.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:10*t.fontScale}),p.wind]}),(t.dailyWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Te,{size:10*t.fontScale}),p.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV: ",p.uvIndex]})]}),((t.dailyWeatherFields||[]).includes("sunrise")||(t.dailyWeatherFields||[]).includes("sunset"))&&(0,e.jsxs)("div",{className:"flex items-center gap-2 justify-center text-xs opacity-70",style:{fontSize:`${9*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("sunrise")&&p.sunrise&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)($e,{size:9*t.fontScale}),p.sunrise]}),(t.dailyWeatherFields||[]).includes("sunset")&&p.sunset&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Ve,{size:9*t.fontScale}),p.sunset]})]})]})]},j))})})]})},be=()=>{switch(t.orientation){case"horizontal":return"auto-cols-fr grid-flow-col";case"compact":return"grid-cols-2 sm:grid-cols-3";case"wide":return"auto-cols-fr grid-flow-col";default:return"grid-cols-3 md:grid-cols-5"}},Ze=()=>{const F=Math.min(t.numberOfDays||5,10);switch(t.orientation){case"horizontal":case"wide":return{gridTemplateColumns:`repeat(${F}, minmax(0, 1fr))`};default:return{}}},He=(0,h.useMemo)(()=>{const F={};return typeof W=="string"&&W.includes("gradient")?z?F.backgroundImage=`${z}, ${W}`:F.backgroundImage=W:(F.backgroundColor=W,z&&(F.backgroundImage=z)),F.backgroundSize=t.backgroundTexture==="dots"||t.backgroundTexture==="grid"?"20px 20px":"auto",F},[W,z,t.backgroundTexture]),Ee=()=>(0,e.jsxs)("div",{className:`flex gap-6 ${pe()}`,children:[(0,e.jsxs)("div",{className:`text-center ${t.orientation==="wide"?"flex-shrink-0 min-w-[200px]":t.orientation==="compact"?"w-full":"flex-shrink-0"}`,children:[(0,e.jsxs)("div",{className:"flex flex-col items-center gap-3 mb-4",children:[(0,e.jsx)(Ue,{condition:xe.current.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:48*t.fontScale,theme:s}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:s.fonts.heading,textShadow:$,fontSize:`${20*t.fontScale}px`,...U},children:b}),t.useGeolocation&&(0,e.jsxs)("button",{onClick:()=>_(),className:"flex items-center justify-center gap-1 text-xs opacity-70 hover:opacity-100 transition-opacity mt-1 mx-auto",style:{fontSize:`${12*t.fontScale}px`},"aria-label":"Detect your current location",children:[(0,e.jsx)(ur,{size:12*t.fontScale,"aria-hidden":"true"}),"Detect Location"]})]})]}),(0,e.jsx)("div",{className:"space-y-2",style:{textShadow:$},children:(t.currentWeatherFields||[]).slice(0,6).map((F,M)=>(0,e.jsx)("div",{children:ke(F)},M))})]}),(0,e.jsxs)("div",{className:`text-center ${t.orientation==="compact"?"w-full mt-4":"flex-1"}`,role:"region","aria-label":"Weather forecast",children:[(0,e.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-wider opacity-70 mb-3",style:{textShadow:$,fontSize:`${14*t.fontScale}px`},children:[t.numberOfDays,"-Day Forecast"]}),(0,e.jsx)("div",{className:`grid gap-3 ${be()} justify-items-center`,style:Ze(),children:me.map((F,M)=>(0,e.jsxs)("div",{className:`p-3 rounded-lg ${t.visuallyGroupForecast?"bg-opacity-10 bg-current":""}`,style:{textAlign:"center",textShadow:$,...t.visuallyGroupForecast&&{backgroundColor:k?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"}},children:[(0,e.jsxs)("div",{className:"text-xs font-semibold mb-2 opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:[F.day,t.displayDates&&F.date&&(0,e.jsx)("div",{className:"text-xs opacity-50",style:{fontSize:`${10*t.fontScale}px`},children:F.date})]}),(0,e.jsx)(Ue,{condition:F.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:24*t.fontScale,theme:s}),(0,e.jsxs)("div",{className:"mt-2 space-y-1",children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("div",{className:"text-sm font-bold",style:{fontSize:`${14*t.fontScale}px`},children:[P(F.high),ne]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("div",{className:"text-xs opacity-60",style:{fontSize:`${12*t.fontScale}px`},children:[P(F.low),ne]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:F.condition}),(t.dailyWeatherFields||[]).includes("precipitation")&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1",style:{fontSize:`${12*t.fontScale}px`},children:[(0,e.jsx)(Te,{size:10*t.fontScale,"aria-hidden":"true"}),F.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:[(0,e.jsx)(ze,{size:10*t.fontScale,"aria-hidden":"true"}),F.wind," ",we]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&F.uvIndex!==void 0&&(0,e.jsxs)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:["UV: ",F.uvIndex]}),(t.dailyWeatherFields||[]).includes("humidity")&&F.humidity!==void 0&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:[(0,e.jsx)(Te,{size:10*t.fontScale,"aria-hidden":"true"}),F.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("sunrise")&&F.sunrise&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(0,e.jsx)($e,{size:10*t.fontScale,"aria-hidden":"true"}),F.sunrise]}),(t.dailyWeatherFields||[]).includes("sunset")&&F.sunset&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(0,e.jsx)(Ve,{size:10*t.fontScale,"aria-hidden":"true"}),F.sunset]})]})]},M))})]})]}),Me=()=>{switch(console.log("[WeatherWidget] orientation:",t.orientation),t.orientation){case"horizontal":return D();case"compact":return Y();case"wide":return le();default:return Ee()}},nt=()=>{switch(t.orientation){case"horizontal":return"p-3";case"compact":return"p-2";case"wide":return"p-5";default:return"p-6"}},Le={small:.85,medium:1,large:1.15,xlarge:1.3}[t.widgetSize]||1;return(0,e.jsx)("div",{className:`h-full w-full ${nt()}`,style:{...He,color:N,fontFamily:v,textAlign:t.orientation==="horizontal"||t.orientation==="compact"?"left":t.textAlign,boxShadow:ce,transform:`scale(${Le})`,transformOrigin:"top left",...re},role:"region","aria-label":"Weather widget",children:a?(0,e.jsx)(Ia,{orientation:t.orientation}):(0,e.jsxs)(e.Fragment,{children:[n&&(0,e.jsxs)("div",{className:`${t.orientation==="compact"?"mb-2 p-2 text-xs":"mb-4 p-3 text-sm"} bg-yellow-100 text-yellow-800 rounded-lg`,role:"alert","aria-live":"polite",children:[(0,e.jsx)(Et,{size:t.orientation==="compact"?12:16,className:"inline mr-2","aria-hidden":"true"}),t.orientation==="compact"?"Location error":n]}),t.orientation!=="compact"&&t.showSevereAlerts&&d?.alerts&&d.alerts.length>0&&(0,e.jsx)("div",{className:"mb-4",children:d.alerts.slice(0,t.orientation==="horizontal"?1:2).map((F,M)=>(0,e.jsx)(Ba,{alert:F},M))}),Me(),l&&(0,e.jsxs)("div",{className:`mt-4 ${t.orientation==="compact"?"p-2 text-xs":"p-3 text-sm"} bg-red-100 text-red-800 rounded-lg flex items-center justify-between`,role:"alert","aria-live":"assertive",children:[(0,e.jsx)("span",{children:t.orientation==="compact"?"Error":l}),(0,e.jsx)("button",{onClick:()=>{t.useGeolocation?_():y(b)},className:`ml-3 ${t.orientation==="compact"?"px-2 py-0.5":"px-3 py-1"} bg-red-200 hover:bg-red-300 rounded text-red-800 text-xs font-medium transition-colors`,"aria-label":"Retry fetching weather data",children:"Retry"})]}),t.orientation!=="compact"&&t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:s.colors.cosmicBlue,color:s.colors.stardustWhite,fontFamily:s.fonts.heading,fontSize:`${14*t.fontScale}px`},"aria-label":"Customize weather widget settings",onClick:()=>o?.("appearance"),children:"Customize"})]})})};$r.propTypes={config:te.default.shape({weatherLocation:te.default.string,useGeolocation:te.default.bool,preferredUnits:te.default.oneOf(["metric","imperial"]),numberOfDays:te.default.number,displayDates:te.default.bool,hideTodayInForecast:te.default.bool,currentWeatherFields:te.default.arrayOf(te.default.string),dailyWeatherFields:te.default.arrayOf(te.default.string),showSevereAlerts:te.default.bool,showCustomizeButton:te.default.bool,appearanceMode:te.default.oneOf(["light","dark","system"]),textColorLight:te.default.string,textColorDark:te.default.string,textFontFamily:te.default.oneOf(["sans","serif","mono"]),googleFont:te.default.string,fontScale:te.default.number,textAlign:te.default.oneOf(["left","center","right"]),textShadows:te.default.bool,gradientText:te.default.bool,glowEffect:te.default.bool,animateIcons:te.default.bool,greyscaleIcons:te.default.bool,useTransparentBackground:te.default.bool,setBackgroundColor:te.default.bool,backgroundColor:te.default.string,backgroundTexture:te.default.oneOf(["none","noise","stars","dots","grid","waves"]),presetTheme:te.default.oneOf(["none","cyberpunk","stealth","ocean","sunset","forest","neon","midnight"]),orientation:te.default.oneOf(["auto","horizontal","compact","wide"]),visuallyGroupForecast:te.default.bool}).isRequired,onCustomizeRequest:te.default.func};var X=q,Ma=6e5,Aa=1,za=14,Ea=5,Vr=.5,eo=2,to=1,La=100,Da=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])},Pa=t=>typeof t!="string"?"New York, NY":t.replace(/[^a-zA-Z0-9\s,.\-']/g,"").replace(/'/g,"\\'").trim().slice(0,La)||"New York, NY",Oa={sunny:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',clear:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',cloudy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',clouds:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rainy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rain:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',"partly-cloudy":'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2m6.4 1.4l-1.4 1.4M20 12h2M6 18H4m9.4 3.6L12 20m6.4-11.6L20 6.6"/><circle cx="12" cy="12" r="4"/><path d="M13 19a2 2 0 0 0 0-4H3a4 4 0 1 0 0 8h10Z"/></svg>',drizzle:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 19v1m8-1v1m-4-1v1m-4-5v1m8-1v1m-4-1v1"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',snow:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"/><path d="M8 16h.01M8 12h.01M12 16h.01M12 12h.01M16 16h.01M16 12h.01"/></svg>',thunderstorm:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"/><path d="m13 11-4 6h6l-4 6"/></svg>',mist:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',fog:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',haze:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',smoke:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9m-2-8h10"/></svg>',dust:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',sand:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',tornado:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H3m15 4H6m11 4H9m7 4h-7m5 4h-3"/></svg>'};const Wa=t=>{const o=t.appearanceMode==="dark",r=o?t.textColorDark:t.textColorLight,s=()=>{if(t.googleFont!=="none")return`"${t.googleFont.replace(/\+/g," ")}", system-ui, sans-serif`;switch(t.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return X.fonts.body}},d=()=>t.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[t.backgroundTexture]||"",a=t.presetTheme==="none"?{}:{cyberpunk:{gradient:`linear-gradient(135deg, ${X.colors.neonPink}, ${X.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{gradient:`linear-gradient(135deg, ${X.colors.graphite}, ${X.colors.nightBlack})`,glow:"none"},ocean:{gradient:`linear-gradient(135deg, ${X.colors.aetherTeal}, ${X.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{gradient:`linear-gradient(135deg, ${X.colors.sunburstGold}, ${X.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{gradient:`linear-gradient(90deg, ${X.colors.neonPink} 0%, ${X.colors.sunburstGold} 28%, ${X.colors.aetherTeal} 50%, ${X.colors.cosmicBlue} 74%, ${X.colors.electricPurple} 100%)`,glow:"0 0 4px rgba(139, 92, 246, 0.5)"},midnight:{gradient:`linear-gradient(135deg, ${X.colors.nightBlack}, ${X.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[t.presetTheme]||{},l=((_="clear")=>t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:t.presetTheme!=="none"&&a.gradient?a.gradient:{clear:`linear-gradient(135deg, ${X.colors.sunburstGold} 0%, ${X.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${X.colors.sunburstGold} 0%, ${X.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${X.colors.softSlate} 0%, ${X.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${X.colors.cosmicBlue} 0%, ${X.colors.graphite} 100%)`,thunderstorm:`linear-gradient(135deg, ${X.colors.electricPurple} 0%, ${X.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${X.colors.stardustWhite} 0%, ${X.colors.cosmicBlue} 100%)`}[_]||(o?X.colors.nightBlack:X.colors.stardustWhite))(),g=d(),n=t.backgroundTexture==="dots"||t.backgroundTexture==="grid"?"20px 20px":"auto",u=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",b=t.glowEffect?a.glow||"0 0 4px rgba(139, 92, 246, 0.5)":"none",w=t.gradientText?`
    background: ${a.gradient||`linear-gradient(90deg, ${X.colors.neonPink} 0%, ${X.colors.sunburstGold} 28%, ${X.colors.aetherTeal} 50%, ${X.colors.cosmicBlue} 74%, ${X.colors.electricPurple} 100%)`};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  `:"",T=s(),C=t.textAlign||"center",y=Math.max(Vr,Math.min(eo,t.fontScale||to)),x=t.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${t.googleFont}&display=swap`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Widget - ${Da(t.weatherLocation)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  ${x?`<link href="${x}" rel="stylesheet">`:""}
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${l};
      ${g?`background-image: ${g};`:""}
      ${g?`background-size: ${n};`:""}
      color: ${r};
      font-family: ${T};
      text-align: ${C};
      padding: 24px;
      ${b!=="none"?`box-shadow: ${b};`:""}
      ${t.useTransparentBackground?`
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      `:""}
    }

    h2 {
      ${w}
    }

    .weather-container {
      ${t.useTransparentBackground?`
        background: ${o?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)"};
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"};
        padding: 24px;
      `:""}
      display: flex;
      gap: 24px;
      ${t.orientation==="horizontal"?"flex-direction: row;":"flex-direction: column;"}
    }

    .loading-skeleton {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .skeleton-circle {
      width: ${48*y}px;
      height: ${48*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 50%;
    }

    .skeleton-line {
      height: ${16*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 4px;
      margin: 8px 0;
    }

    .alert-banner {
      display: flex;
      align-items: start;
      gap: 12px;
      padding: 16px;
      margin-bottom: 16px;
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #EF4444;
      border-radius: 8px;
      color: #DC2626;
    }

    .alert-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .current-weather {
      flex-shrink: 0;
    }

    .location-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .location-title {
      font-size: ${20*y}px;
      font-weight: bold;
      font-family: ${X.fonts.heading};
      text-shadow: ${u};
    }

    .current-temp {
      font-size: ${48*y}px;
      font-weight: bold;
      font-family: ${X.fonts.heading};
      text-shadow: ${u};
    }

    .current-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
      text-shadow: ${u};
      font-size: ${14*y}px;
    }

    .forecast-section {
      flex: 1;
    }

    .forecast-title {
      font-size: ${14*y}px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.7;
      margin-bottom: 12px;
      text-shadow: ${u};
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(${80*y}px, 1fr));
      gap: 12px;
    }

    .forecast-day {
      text-align: center;
      padding: 12px;
      border-radius: 8px;
      ${t.visuallyGroupForecast?`background: ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"};`:""}
    }

    .day-name {
      font-size: ${12*y}px;
      font-weight: 600;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    .day-date {
      font-size: ${10*y}px;
      opacity: 0.5;
    }

    .day-temp {
      font-size: ${14*y}px;
      font-weight: bold;
      margin-top: 8px;
    }

    .day-low {
      font-size: ${12*y}px;
      opacity: 0.6;
    }

    .day-condition {
      font-size: ${12*y}px;
      opacity: 0.7;
      margin-top: 4px;
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: ${14*y}px;
      font-weight: 500;
      background-color: ${X.colors.cosmicBlue};
      color: ${X.colors.stardustWhite};
      font-family: ${X.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    .weather-icon {
      display: inline-block;
      ${t.greyscaleIcons?"filter: grayscale(100%);":""}
      ${t.animateIcons?"animation: pulse-icon 2s infinite;":""}
    }

    @keyframes pulse-icon {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @media (prefers-color-scheme: dark) {
      ${t.appearanceMode==="system"?`
        body {
          background: ${t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:X.colors.nightBlack};
          color: ${t.textColorDark};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="weather-root">
    <div class="loading-skeleton">
      <div class="skeleton-circle"></div>
      <div class="skeleton-line" style="width: 200px;"></div>
      <div class="skeleton-line" style="width: 150px;"></div>
      <div class="skeleton-line" style="width: 180px;"></div>
    </div>
  </div>

  ${t.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${ro(t)}
  <\/script>
</body>
</html>`},ro=t=>{const o=Pa(t.weatherLocation||"New York, NY"),r=t.preferredUnits==="metric"?"celsius":"fahrenheit",s=t.preferredUnits==="metric"?"kmh":"mph",d=t.preferredUnits==="metric"?"mm":"inch",c=t.preferredUnits==="metric"?"°C":"°F",a=t.preferredUnits==="metric"?"km/h":"mph",m=Math.max(Vr,Math.min(eo,t.fontScale||to)),l=Math.max(Aa,Math.min(za,t.numberOfDays||Ea));return`
    const LOCATION = '${o}';
    const TEMP_UNIT_API = '${r}';
    const WIND_UNIT_API = '${s}';
    const PRECIP_UNIT_API = '${d}';
    const TEMP_UNIT = '${c}';
    const WIND_UNIT = '${a}';
    const FONT_SCALE = ${m};
    const SHOW_SEVERE_ALERTS = ${t.showSevereAlerts||!1};
    const DISPLAY_DATES = ${t.displayDates||!1};
    const CURRENT_FIELDS = ${JSON.stringify(t.currentWeatherFields||[])};
    const DAILY_FIELDS = ${JSON.stringify(t.dailyWeatherFields||[])};
    const NUM_DAYS = ${l};
    const HIDE_TODAY = ${t.hideTodayInForecast||!1};
    const REFRESH_INTERVAL_MS = ${Ma};

    const weatherIcons = ${JSON.stringify(Oa)};

    function getWeatherIcon(condition) {
      const conditionLower = condition.toLowerCase();
      return weatherIcons[conditionLower] || weatherIcons['partly-cloudy'];
    }

    function getConditionFromWMO(code) {
      if (code === 0) return 'Clear';
      if (code <= 3) return 'Partly Cloudy';
      if (code <= 48) return 'Fog';
      if (code <= 67) return 'Rain';
      if (code <= 77) return 'Snow';
      if (code <= 82) return 'Rain';
      if (code <= 86) return 'Snow';
      if (code <= 99) return 'Thunderstorm';
      return 'Cloudy';
    }

    function getIconFromWMO(code) {
      if (code === 0) return 'clear';
      if (code <= 3) return 'partly-cloudy';
      if (code <= 48) return 'fog';
      if (code <= 57) return 'drizzle';
      if (code <= 67) return 'rain';
      if (code <= 77) return 'snow';
      if (code <= 82) return 'rain';
      if (code <= 86) return 'snow';
      if (code >= 95) return 'thunderstorm';
      return 'clouds';
    }

    function renderErrorState(message) {
      const errorIcon = '<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6m0-6 6 6"/></svg>';
      const html = \`
        <div class="weather-container" style="text-align: center; padding: 32px;">
          <div style="opacity: 0.6; margin-bottom: 16px;">\${errorIcon}</div>
          <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Unable to Load Weather</h3>
          <p style="font-size: 14px; opacity: 0.7; margin-bottom: 16px;">\${message}</p>
          <button onclick="fetchWeatherData()" style="padding: 8px 16px; border-radius: 8px; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.4); color: inherit; cursor: pointer; font-size: 14px;">
            Try Again
          </button>
        </div>
      \`;
      document.getElementById('weather-root').innerHTML = html;
    }

    async function fetchWeatherData() {
      try {
        // Note: Open-Meteo API has rate limits. Consider caching responses for production use.
        // Geocode the location using Open-Meteo
        const geoResponse = await fetch(
          \`https://geocoding-api.open-meteo.com/v1/search?name=\${encodeURIComponent(LOCATION)}&count=1&language=en&format=json\`
        );
        
        if (!geoResponse.ok) {
          throw new Error('Unable to find location. Please check the location name.');
        }
        
        const geoData = await geoResponse.json();
        if (!geoData.results || geoData.results.length === 0) {
          throw new Error('Location not found. Please try a different city name.');
        }

        const { latitude, longitude } = geoData.results[0];

        // Fetch weather data using Open-Meteo Weather API
        const weatherResponse = await fetch(
          \`https://api.open-meteo.com/v1/forecast?latitude=\${latitude}&longitude=\${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max,wind_speed_10m_max&temperature_unit=\${TEMP_UNIT_API}&wind_speed_unit=\${WIND_UNIT_API}&precipitation_unit=\${PRECIP_UNIT_API}&timezone=auto\`
        );

        if (!weatherResponse.ok) {
          throw new Error('Weather service temporarily unavailable. Please try again later.');
        }

        const data = await weatherResponse.json();

        renderWeatherData(data);
      } catch (err) {
        console.error('Weather fetch error:', err);
        renderErrorState(err.message || 'Could not load weather data. Please try again.');
      }
    }

    function renderWeatherData(data) {
      const current = data.current;
      const dailyData = data.daily;
      const startIdx = HIDE_TODAY ? 1 : 0;
      const forecast = dailyData.time.slice(startIdx, startIdx + NUM_DAYS);

      let html = '<div class="weather-container">';

      // Current weather
      html += '<div class="current-weather">';
      html += \`
        <div class="location-header">
          <div class="weather-icon">\${getWeatherIcon(getIconFromWMO(current.weather_code))}</div>
          <h2 class="location-title">\${LOCATION}</h2>
        </div>
        <div class="current-temp">\${Math.round(current.temperature_2m)}\${TEMP_UNIT}</div>
        <div class="current-details">
      \`;

      if (CURRENT_FIELDS.includes('condition')) {
        html += \`<div>\${getConditionFromWMO(current.weather_code)}</div>\`;
      }
      if (CURRENT_FIELDS.includes('humidity')) {
        html += \`<div>Humidity: \${Math.round(current.relative_humidity_2m)}%</div>\`;
      }
      if (CURRENT_FIELDS.includes('wind')) {
        html += \`<div>Wind: \${Math.round(current.wind_speed_10m)} \${WIND_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('feelsLike')) {
        html += \`<div>Feels like: \${Math.round(current.apparent_temperature)}\${TEMP_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('uvIndex')) {
        html += \`<div>UV Index: N/A</div>\`;
      }

      html += '</div></div>';

      // Forecast
      html += '<div class="forecast-section">';
      html += \`<h3 class="forecast-title">\${NUM_DAYS}-Day Forecast</h3>\`;
      html += '<div class="forecast-grid">';

      forecast.forEach((dateStr, idx) => {
        const actualIdx = startIdx + idx;
        const date = new Date(dateStr);
        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
        const dateDisplay = DISPLAY_DATES ? date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : '';

        html += '<div class="forecast-day">';
        html += \`<div class="day-name">\${dayName}\`;
        if (DISPLAY_DATES && dateDisplay) {
          html += \`<div class="day-date">\${dateDisplay}</div>\`;
        }
        html += '</div>';
        html += \`<div class="weather-icon">\${getWeatherIcon(getIconFromWMO(dailyData.weather_code[actualIdx]))}</div>\`;

        if (DAILY_FIELDS.includes('high')) {
          html += \`<div class="day-temp">\${Math.round(dailyData.temperature_2m_max[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('low')) {
          html += \`<div class="day-low">\${Math.round(dailyData.temperature_2m_min[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('condition')) {
          html += \`<div class="day-condition">\${getConditionFromWMO(dailyData.weather_code[actualIdx])}</div>\`;
        }
        if (DAILY_FIELDS.includes('precipitation') && dailyData.precipitation_probability_max[actualIdx] > 0) {
          html += \`<div class="day-condition">\${Math.round(dailyData.precipitation_probability_max[actualIdx])}%</div>\`;
        }

        html += '</div>';
      });

      html += '</div></div></div>';

      document.getElementById('weather-root').innerHTML = html;
    }

    // Initial load
    fetchWeatherData();

    // Refresh at configured interval
    setInterval(fetchWeatherData, REFRESH_INTERVAL_MS);
  `},Ra={id:"clock",label:"Clock",description:"Advanced customizable clock with multiple styles.",defaultConfig:{is12Hour:!0,showDate:!0,showSeconds:!1,timezone:"local",blinkingSeparator:!1,dateFormat:"long",clockSize:"large",clockType:"digital-solid",responsiveSizing:!1,handShape:"classic",faceMarkers:"dots",digitFontFamily:"default",textFontFamily:"default",googleFont:"none",textAlign:"center",textShadows:!1,useTransparentBg:!1,bgColor:q.colors.stardustWhite,backgroundTexture:"none",widgetMode:"clock",presetTheme:"none",appearance:"system",lightMode:{clockColor:q.colors.graphite,digitColor:q.colors.stardustWhite,textColor:q.colors.graphite,backgroundColor:q.colors.stardustWhite},darkMode:{clockColor:q.colors.ultraviolet,digitColor:q.colors.stardustWhite,textColor:q.colors.stardustWhite,backgroundColor:q.colors.nightBlack},showHoverMenu:!1,showCustomizeButton:!1,glowEffect:!1,gradientText:!1},fields:[{name:"is12Hour",label:"12-Hour Format",type:"boolean",section:"time"},{name:"showDate",label:"Show Date",type:"boolean",section:"time"},{name:"showSeconds",label:"Show Seconds",type:"boolean",section:"time"},{name:"timezone",label:"Timezone",type:"select",section:"time",options:[{label:"Local (System)",value:"local"},{label:"UTC",value:"UTC"},{label:"Eastern (New York)",value:"America/New_York"},{label:"Central (Chicago)",value:"America/Chicago"},{label:"Mountain (Denver)",value:"America/Denver"},{label:"Pacific (Los Angeles)",value:"America/Los_Angeles"},{label:"London",value:"Europe/London"},{label:"Paris",value:"Europe/Paris"},{label:"Berlin",value:"Europe/Berlin"},{label:"Tokyo",value:"Asia/Tokyo"},{label:"Hong Kong",value:"Asia/Hong_Kong"},{label:"Sydney",value:"Australia/Sydney"},{label:"Dubai",value:"Asia/Dubai"},{label:"Mumbai",value:"Asia/Kolkata"}]},{name:"blinkingSeparator",label:"Blinking Separator (:)",type:"boolean",section:"time"},{name:"dateFormat",label:"Date Format",type:"select",section:"time",options:[{label:"Long (Monday, January 1, 2025)",value:"long"},{label:"Short (Mon, Jan 1, 2025)",value:"short"},{label:"Numeric (01/01/2025)",value:"numeric"},{label:"European (01.01.2025)",value:"european"},{label:"ISO (2025-01-01)",value:"iso"}]},{name:"clockSize",label:"Clock Size",type:"select",section:"style",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"clockType",label:"Clock Type",type:"select",section:"style",options:[{label:"Digital Solid",value:"digital-solid"},{label:"Digital Roulette",value:"digital-roulette"},{label:"Flip Clock",value:"flip-clock"},{label:"Analog Smooth",value:"analog-smooth"},{label:"Analog Tick",value:"analog-tick"},{label:"Analog Trail",value:"analog-trail"},{label:"Analog Dots",value:"analog-dots"},{label:"Analog Numbers",value:"analog-numbers"},{label:"Analog Planets",value:"analog-planets"}]},{name:"responsiveSizing",label:"Responsive Sizing (Container Queries)",type:"boolean",section:"style"},{name:"handShape",label:"Hand Shape (Analog Only)",type:"select",section:"analog",options:[{label:"Classic",value:"classic"},{label:"Arrow",value:"arrow"},{label:"Modern",value:"modern"},{label:"Minimalist",value:"minimalist"}]},{name:"faceMarkers",label:"Face Markers (Analog Only)",type:"select",section:"analog",options:[{label:"Dots",value:"dots"},{label:"Numbers",value:"numbers"},{label:"Roman Numerals",value:"roman"},{label:"Lines",value:"lines"},{label:"None",value:"none"}]},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"googleFont",label:"Google Font Style",type:"select",section:"typography",options:[{label:"None (Default)",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"widgetMode",label:"Widget Mode",type:"select",section:"interactive",options:[{label:"Clock",value:"clock"},{label:"Timer",value:"timer"},{label:"Stopwatch",value:"stopwatch"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",options:[{label:"None (Custom)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects"}]};var Ha=t=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},_r=t=>{const o=Ha(t);if(!o)return 0;const[r,s,d]=[o.r,o.g,o.b].map(c=>(c=c/255,c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)));return .2126*r+.7152*s+.0722*d},Ga=t=>[...t].sort((o,r)=>_r(o)-_r(r));const oo=t=>{if(!t||!t.palette||t.palette.length<8)return[];const{palette:o,primary:r,accent:s}=t,d=Ga(o),c=d[0],a=d[d.length-1],m=d.slice(2,6),l=[];return l.push({id:"brand-monochrome",name:"Brand Monochrome",description:"Bold monochromatic using your primary brand color",backgroundColor:c,clockColor:r,digitColor:a,textColor:a,texture:"none",glow:!0,category:"brand"}),l.push({id:"brand-contrast",name:"Brand Contrast",description:"High contrast complementary colors",backgroundColor:d[0],clockColor:d[d.length-2],digitColor:d[0],textColor:d[d.length-1],texture:"grid",glow:!1,category:"brand"}),l.push({id:"brand-vibrant",name:"Brand Vibrant",description:"Energetic and colorful",backgroundColor:m[0]||d[2],clockColor:o[1],digitColor:a,textColor:o[2],texture:"dots",glow:!0,category:"brand"}),l.push({id:"brand-professional",name:"Brand Professional",description:"Sophisticated and subtle",backgroundColor:m[2]||d[4],clockColor:m[1]||d[3],digitColor:a,textColor:d[1],texture:"none",glow:!1,category:"brand"}),l.push({id:"brand-dark",name:"Brand Dark",description:"Dark theme with brand accents",backgroundColor:c,clockColor:s,digitColor:c,textColor:m[m.length-1]||a,texture:"stars",glow:!0,category:"brand"}),l.push({id:"brand-light",name:"Brand Light",description:"Clean light theme",backgroundColor:a,clockColor:r,digitColor:a,textColor:c,texture:"none",glow:!1,category:"brand"}),l.push({id:"brand-neon",name:"Brand Neon",description:"Glowing neon effect",backgroundColor:d[0],clockColor:o[3],digitColor:a,textColor:o[4],texture:"noise",glow:!0,category:"brand"}),l.push({id:"brand-minimal",name:"Brand Minimal",description:"Clean minimalist design",backgroundColor:a,clockColor:c,digitColor:a,textColor:d[2],texture:"none",glow:!1,category:"brand"}),l};var qa={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}},Ua=({value:t,label:o,colors:r,size:s})=>{const[d,c]=(0,h.useState)(t),[a,m]=(0,h.useState)(!1),[l,g]=(0,h.useState)(t);return(0,h.useEffect)(()=>{if(t===l)return;let n,u,b;return n=setTimeout(()=>{m(!0),u=setTimeout(()=>{c(t),b=setTimeout(()=>{m(!1),g(t)},300)},300)},0),()=>{clearTimeout(n),clearTimeout(u),clearTimeout(b)}},[t,l]),(0,e.jsxs)("div",{className:"inline-flex flex-col items-center mx-1",children:[(0,e.jsxs)("div",{style:{width:`${s*.7}px`,height:`${s}px`,background:r.clockColor||"#333",borderRadius:"8px",color:r.digitColor||"#fff",fontSize:`${s*.65}px`,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden",perspective:"1000px",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:a?"rotateX(90deg)":"rotateX(0deg)"},children:[(0,e.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"8px 8px 0 0",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 100%)"}}),(0,e.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, transparent 100%)"}}),(0,e.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",background:"rgba(0,0,0,0.3)",zIndex:10}}),(0,e.jsx)("div",{style:{position:"relative",zIndex:5},children:String(d).padStart(2,"0")})]}),o&&(0,e.jsx)("div",{style:{fontSize:"10px",marginTop:"4px",opacity:.7,textTransform:"uppercase"},children:o})]})},Ya=({time:t,size:o,type:r,colors:s,config:d,theme:c})=>{const a=t.getHours()%12,m=t.getMinutes(),l=t.getSeconds(),g=a*30+m*.5,n=m*6,u=l*6,b=o/2,w=o*.45,T=()=>{const y=[],x=d.faceMarkers!==void 0&&["dots","numbers","roman","lines","none","planets"].includes(d.faceMarkers)?d.faceMarkers:"dots";if(x==="none")return y;for(let _=0;_<12;_++){const k=_*30*(Math.PI/180),N=b+Math.sin(k)*w*.85,v=b-Math.cos(k)*w*.85;if(x==="dots")y.push((0,e.jsx)("circle",{cx:N,cy:v,r:o*.015,fill:s.clockColor,opacity:"0.5"},_));else if(x==="numbers")y.push((0,e.jsx)("text",{x:N,y:v,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.08,fill:s.clockColor,fontWeight:"bold",children:_===0?12:_},_));else if(x==="roman")y.push((0,e.jsx)("text",{x:N,y:v,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.06,fill:s.clockColor,fontWeight:"bold",children:["XII","I","II","III","IV","V","VI","VII","VIII","IX","X","XI"][_]},_));else if(x==="lines"){const z=b+Math.sin(k)*w*.75,G=b-Math.cos(k)*w*.75;y.push((0,e.jsx)("line",{x1:z,y1:G,x2:N,y2:v,stroke:s.clockColor,strokeWidth:o*.008,opacity:"0.6"},_))}else x==="planets"&&y.push((0,e.jsx)("circle",{cx:N,cy:v,r:o*.01*[8,6,7,5,9,6,8,5,6,7,5,6][_]/5,fill:s.clockColor,opacity:"0.6"},_))}return y},C=(y,x,_)=>{const k=d.handShape!==void 0&&["classic","arrow","modern","minimalist"].includes(d.handShape)?d.handShape:"classic",N=b+Math.sin(y*Math.PI/180)*x,v=b-Math.cos(y*Math.PI/180)*x,z={hour:o*.04,minute:o*.03,second:o*.01},G=r==="trail"&&_==="second"?o*.01:z[_]||o*.02;switch(k){case"classic":return(0,e.jsx)("line",{x1:b,y1:b,x2:N,y2:v,stroke:_==="second"&&r==="trail"?s.textColor:s.clockColor,strokeWidth:G,strokeLinecap:"round",opacity:r==="trail"?.7:1,style:r==="tick"?{transition:"all 0.05s ease"}:{}});case"arrow":{const W=G*2,re=x*.15,$=b+Math.sin(y*Math.PI/180)*(x-re),ce=b-Math.cos(y*Math.PI/180)*(x-re);return(0,e.jsxs)("g",{children:[(0,e.jsx)("line",{x1:b,y1:b,x2:$,y2:ce,stroke:s.clockColor,strokeWidth:G,strokeLinecap:"round"}),(0,e.jsx)("polygon",{points:`${N},${v} ${$-W},${ce} ${$+W},${ce}`,fill:s.clockColor})]})}case"modern":{const W=x*.2;return(0,e.jsx)("line",{x1:b-Math.sin(y*Math.PI/180)*W,y1:b+Math.cos(y*Math.PI/180)*W,x2:N,y2:v,stroke:s.clockColor,strokeWidth:G,strokeLinecap:"round"})}case"minimalist":return(0,e.jsx)("line",{x1:b,y1:b,x2:N,y2:v,stroke:s.clockColor,strokeWidth:G*.5,strokeLinecap:"butt",opacity:.9});default:return(0,e.jsx)("line",{x1:b,y1:b,x2:N,y2:v,stroke:s.clockColor,strokeWidth:G,strokeLinecap:"round"})}};return(0,e.jsxs)("svg",{width:o,height:o,style:{filter:d.glowEffect?`drop-shadow(0 0 ${c.effects.glowBlur} ${s.clockColor})`:"none"},children:[(0,e.jsx)("circle",{cx:b,cy:b,r:w,fill:"none",stroke:s.clockColor,strokeWidth:o*.01,opacity:"0.2"}),T(),C(g,w*.5,"hour"),C(n,w*.75,"minute"),d.showSeconds&&C(u,w*.85,"second"),(0,e.jsx)("circle",{cx:b,cy:b,r:o*.02,fill:s.clockColor})]})};const Ja=({config:t,brandTheme:o,onCustomizeRequest:r})=>{const{theme:s}=bt(),[d,c]=(0,h.useState)(new Date),[a,m]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[l,g]=(0,h.useState)(5),[n,u]=(0,h.useState)(0),[b,w]=(0,h.useState)(!1),[T,C]=(0,h.useState)(0),[y,x]=(0,h.useState)(!1);(0,h.useEffect)(()=>{const D=window.matchMedia("(prefers-color-scheme: dark)"),Y=le=>m(le.matches);return D.addEventListener("change",Y),()=>D.removeEventListener("change",Y)},[]);const _=(0,h.useMemo)(()=>t.appearance==="dark"?!0:t.appearance==="light"?!1:a,[t.appearance,a]);(0,h.useEffect)(()=>{if(t.blinkingSeparator){const D="clock-blink-animation";if(!document.getElementById(D)){const Y=document.createElement("style");Y.id=D,Y.textContent=`
          @keyframes blink-separator {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
          }
          .blink-separator {
            animation: blink-separator 1s step-end infinite;
          }
        `,document.head.appendChild(Y)}}},[t.blinkingSeparator]),(0,h.useEffect)(()=>{if(t.googleFont&&t.googleFont!=="none"){const D=`google-font-${t.googleFont}`;if(!document.getElementById(D)){const Y=document.createElement("link");Y.id=D,Y.rel="stylesheet",Y.href=`https://fonts.googleapis.com/css2?family=${t.googleFont}:wght@400;700&display=swap`,document.head.appendChild(Y)}}},[t.googleFont]),(0,h.useEffect)(()=>{if(t.responsiveSizing){const D="clock-responsive-sizing";if(!document.getElementById(D)){const Y=document.createElement("style");Y.id=D,Y.textContent=`
          .clock-responsive-container {
            container-type: size;
            container-name: clock;
          }

          @container clock (max-width: 300px) {
            .clock-responsive-text { font-size: clamp(24px, 8cqw, 48px) !important; }
            .clock-responsive-date { font-size: clamp(12px, 4cqw, 16px) !important; }
          }

          @container clock (min-width: 301px) and (max-width: 600px) {
            .clock-responsive-text { font-size: clamp(36px, 10cqw, 64px) !important; }
            .clock-responsive-date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
          }

          @container clock (min-width: 601px) {
            .clock-responsive-text { font-size: clamp(48px, 12cqw, 96px) !important; }
            .clock-responsive-date { font-size: clamp(16px, 5cqw, 24px) !important; }
          }
        `,document.head.appendChild(Y)}}},[t.responsiveSizing]),(0,h.useEffect)(()=>{if(t.widgetMode==="timer"&&b){const D=setInterval(()=>{n>0?u(n-1):l>0?(g(l-1),u(59)):w(!1)},1e3);return()=>clearInterval(D)}},[t.widgetMode,b,l,n]),(0,h.useEffect)(()=>{if(t.widgetMode==="stopwatch"&&y){const D=setInterval(()=>{C(Y=>Y+10)},10);return()=>clearInterval(D)}},[t.widgetMode,y]),(0,h.useEffect)(()=>{if(t.clockType==="analog-smooth"||t.clockType==="analog-trail"){let D;const Y=()=>{c(new Date),D=requestAnimationFrame(Y)};return D=requestAnimationFrame(Y),()=>cancelAnimationFrame(D)}else{const D=setInterval(()=>c(new Date),1e3);return()=>clearInterval(D)}},[t.clockType]);const k=h.useMemo(()=>o?oo(o):[],[o]),N=h.useMemo(()=>{const D={...qa};return k.forEach(Y=>{D[Y.id]=Y}),D},[k]),v=h.useMemo(()=>{let D=_?t.darkMode:t.lightMode;if(t.presetTheme&&t.presetTheme!=="none"){const Y=N[t.presetTheme];Y&&(D={backgroundColor:Y.backgroundColor,clockColor:Y.clockColor,digitColor:Y.digitColor,textColor:Y.textColor})}return D},[_,t.darkMode,t.lightMode,t.presetTheme,N]);(0,h.useEffect)(()=>{const D=document.documentElement;D.style.setProperty("--clock-bg-color",v.backgroundColor),D.style.setProperty("--clock-primary-color",v.clockColor),D.style.setProperty("--clock-text-color",v.textColor),D.style.setProperty("--clock-digit-color",v.digitColor)},[v]);const z=(D,Y=!1)=>{if(t.googleFont&&t.googleFont!=="none")return`"${t.googleFont.replace(/\+/g," ")}", ui-sans-serif, system-ui, sans-serif`;const le=Y?t.digitFontFamily:t.textFontFamily,be={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return be[le]||be.default},G={small:{time:"32px",date:"14px",analog:120},medium:{time:"48px",date:"16px",analog:180},large:{time:"64px",date:"18px",analog:240},xlarge:{time:"96px",date:"24px",analog:320}},W=G[t.clockSize]||G.large,re=()=>{switch(t.presetTheme!=="none"&&N[t.presetTheme]?N[t.presetTheme].texture:t.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return`radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 60px 70px, white, transparent),
                radial-gradient(1px 1px at 50px 50px, white, transparent),
                radial-gradient(1px 1px at 130px 80px, white, transparent),
                radial-gradient(2px 2px at 90px 10px, white, transparent),
                radial-gradient(1px 1px at 110px 120px, white, transparent)`;case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return`linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)`;case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},$=()=>{switch(t.backgroundTexture){case"dots":return"20px 20px";case"grid":return"20px 20px";case"stars":return"200px 200px";default:return"auto"}},ce={backgroundColor:t.useTransparentBg?"transparent":v.backgroundColor,backgroundImage:re(),backgroundSize:$(),color:v.textColor,textAlign:t.textAlign},U={fontSize:W.time,fontFamily:z(t.digitFontFamily,!0),fontWeight:"bold",color:v.clockColor,textShadow:t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none"};t.glowEffect&&(U.textShadow=`0 0 ${s.effects.glowBlur} currentColor`),t.gradientText&&(U.background=s.gradients.gradient,U.WebkitBackgroundClip="text",U.color="transparent");const P=()=>{const D={hour:"2-digit",minute:"2-digit",second:t.showSeconds?"2-digit":void 0,hour12:t.is12Hour};return t.timezone&&t.timezone!=="local"&&(D.timeZone=t.timezone),d.toLocaleTimeString([],D)},ne=()=>{if(!t.timezone||t.timezone==="local"){const D=-d.getTimezoneOffset(),Y=Math.floor(Math.abs(D)/60),le=Math.abs(D)%60;return`UTC${D>=0?"+":"-"}${String(Y).padStart(2,"0")}:${String(le).padStart(2,"0")}`}try{const D=new Intl.DateTimeFormat("en-US",{timeZone:t.timezone,timeZoneName:"short"}).formatToParts(d).find(Y=>Y.type==="timeZoneName");return D?D.value:""}catch{return""}},we=()=>{const D=t.timezone!=="local"?{timeZone:t.timezone}:{};switch(t.dateFormat){case"long":return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...D});case"short":return d.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",year:"numeric",...D});case"numeric":return d.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",...D});case"european":return d.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",...D});case"iso":return`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;default:return d.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...D})}},xe=()=>{const D=P();if(t.clockType==="digital-solid")return(0,e.jsx)("div",{style:U,className:`tabular-nums tracking-tight ${t.responsiveSizing?"clock-responsive-text":""}`,children:t.blinkingSeparator?D.split("").map((Y,le)=>(0,e.jsx)("span",{className:Y===":"?"blink-separator":"",children:Y},le)):D});if(t.clockType==="digital-roulette")return(0,e.jsx)("div",{style:{...U,letterSpacing:"0.1em"},className:`tabular-nums font-mono ${t.responsiveSizing?"clock-responsive-text":""}`,children:D.split("").map((Y,le)=>(0,e.jsx)("span",{className:t.blinkingSeparator&&Y===":"?"blink-separator":"",style:{display:"inline-block",animation:`roulette 0.5s ease ${le*.05}s`,transformOrigin:"center"},children:Y},le))});if(t.clockType==="flip-clock"){const Y=D.match(/\d+/g)||[];return(0,e.jsx)("div",{className:"flex gap-2 justify-center items-center",children:Y.map((le,be)=>(0,e.jsxs)(h.Fragment,{children:[(0,e.jsx)(Ua,{value:parseInt(le),label:be===0?"HR":be===1?"MIN":"SEC",size:parseInt(W.time),colors:{clockColor:v.clockColor,digitColor:v.digitColor}}),be<Y.length-1&&(0,e.jsx)("span",{style:{fontSize:W.time,opacity:.5},children:":"})]},be))})}if(t.clockType.startsWith("analog-")){const Y=t.clockType.replace("analog-","");return(0,e.jsx)(Ya,{time:d,size:typeof W.analog=="number"&&W.analog>0?W.analog:240,type:Y,colors:v,config:t,theme:s})}return(0,e.jsx)("div",{style:U,children:D})},me=()=>{const D=`${String(l).padStart(2,"0")}:${String(n).padStart(2,"0")}`;return(0,e.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,e.jsx)("div",{style:U,className:`tabular-nums ${t.responsiveSizing?"clock-responsive-text":""}`,children:D}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{onClick:()=>w(!b),className:"px-4 py-2 rounded-lg",style:{backgroundColor:v.clockColor,color:v.digitColor},children:b?"Pause":"Start"}),(0,e.jsx)("button",{onClick:()=>{g(5),u(0),w(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:v.textColor,color:v.backgroundColor},children:"Reset"})]})]})},ke=()=>{const D=T%1e3,Y=Math.floor(T/1e3)%60,le=Math.floor(T/6e4),be=`${String(le).padStart(2,"0")}:${String(Y).padStart(2,"0")}.${String(Math.floor(D/10)).padStart(2,"0")}`;return(0,e.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,e.jsx)("div",{style:U,className:`tabular-nums ${t.responsiveSizing?"clock-responsive-text":""}`,children:be}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{onClick:()=>x(!y),className:"px-4 py-2 rounded-lg",style:{backgroundColor:v.clockColor,color:v.digitColor},children:y?"Stop":"Start"}),(0,e.jsx)("button",{onClick:()=>{C(0),x(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:v.textColor,color:v.backgroundColor},children:"Reset"})]})]})},pe=()=>{switch(t.widgetMode){case"timer":return me();case"stopwatch":return ke();default:return xe()}};return(0,e.jsxs)("div",{className:`flex flex-col items-center justify-center h-full w-full p-6 ${t.responsiveSizing?"clock-responsive-container":""}`,style:ce,children:[pe(),t.showDate&&t.widgetMode==="clock"&&(0,e.jsxs)("div",{className:`mt-4 font-medium ${t.responsiveSizing?"clock-responsive-date":""}`,style:{fontSize:W.date,fontFamily:z(t.textFontFamily),opacity:.7,color:v.textColor,textShadow:t.textShadows?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:[we(),t.timezone&&(0,e.jsx)("div",{style:{fontSize:"0.85em",marginTop:"4px",opacity:.6},children:ne()})]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"mt-4 px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:v.clockColor,color:v.digitColor,opacity:.8},onClick:()=>r?.("appearance"),children:"Customize"})]})};var jt={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}};const Qa=t=>{let o=t.appearance==="dark"?t.darkMode:t.lightMode;if(t.presetTheme&&t.presetTheme!=="none"&&jt[t.presetTheme]){const m=jt[t.presetTheme];o={backgroundColor:m.backgroundColor,clockColor:m.clockColor,digitColor:m.digitColor,textColor:m.textColor}}const r=t.useTransparentBg?"transparent":o.backgroundColor,s=()=>{switch(t.presetTheme!=="none"&&jt[t.presetTheme]?jt[t.presetTheme].texture:t.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent)";case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)";case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},d=()=>{const m=t.backgroundTexture;return m==="dots"||m==="grid"?"20px 20px":m==="stars"?"200px 200px":"auto"},c=t.googleFont&&t.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${t.googleFont}:wght@400;700&family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap`:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap",a=()=>t.googleFont&&t.googleFont!=="none"?`"${t.googleFont.replace(/\+/g," ")}", ${q.fonts.body}`:q.fonts.body;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clock Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="${c}" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${r};
      background-image: ${s()};
      background-size: ${d()};
      color: ${o.textColor};
      font-family: ${a()};
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      text-align: ${t.textAlign};
      ${t.responsiveSizing?"container-type: size; container-name: clock;":""}
    }

    :root {
      --clock-bg-color: ${o.backgroundColor};
      --clock-primary-color: ${o.clockColor};
      --clock-text-color: ${o.textColor};
      --clock-digit-color: ${o.digitColor};
    }

    #clock {
      font-size: 64px;
      font-weight: bold;
      color: ${o.clockColor};
      ${t.textShadows?"text-shadow: 0 2px 4px rgba(0,0,0,0.1);":""}
      ${t.glowEffect?`text-shadow: 0 0 ${q.effects.glowBlur} ${o.clockColor};`:""}
      ${t.gradientText?`
        background: ${q.gradients.gradient};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      `:""}
    }

    #date {
      margin-top: 16px;
      font-size: 18px;
      opacity: 0.7;
      ${t.textShadows?"text-shadow: 0 1px 2px rgba(0,0,0,0.1);":""}
    }

    .customize-button {
      margin-top: 16px;
      padding: 8px 16px;
      background: ${o.clockColor};
      color: ${o.digitColor};
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: ${q.fonts.heading};
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .customize-button:hover {
      opacity: 1;
    }

    ${t.blinkingSeparator?`
    @keyframes blink-separator {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    .blink-separator {
      animation: blink-separator 1s step-end infinite;
    }
    `:""}

    ${t.responsiveSizing?`
    @container clock (max-width: 300px) {
      #clock { font-size: clamp(24px, 8cqw, 48px) !important; }
      #date { font-size: clamp(12px, 4cqw, 16px) !important; }
    }

    @container clock (min-width: 301px) and (max-width: 600px) {
      #clock { font-size: clamp(36px, 10cqw, 64px) !important; }
      #date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
    }

    @container clock (min-width: 601px) {
      #clock { font-size: clamp(48px, 12cqw, 96px) !important; }
      #date { font-size: clamp(16px, 5cqw, 24px) !important; }
    }
    `:""}

    @media (prefers-color-scheme: dark) {
      ${t.appearance==="system"?`
        body {
          background: ${t.useTransparentBg?"transparent":t.darkMode.backgroundColor};
          color: ${t.darkMode.textColor};
        }
        #clock {
          color: ${t.darkMode.clockColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="clock"></div>
  ${t.showDate?'<div id="date"></div>':""}
  ${t.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${ao(t)}
  <\/script>
</body>
</html>`},ao=t=>{const o=t.clockType==="analog-smooth"||t.clockType==="analog-trail";return`
  function updateClock() {
    const now = new Date();
    const timeOptions = {
      hour: '2-digit',
      minute: '2-digit',
      second: ${t.showSeconds},
      hour12: ${t.is12Hour}${t.timezone&&t.timezone!=="local"?`,
      timeZone: '${t.timezone}'`:""}
    };

    let timeStr = now.toLocaleTimeString([], timeOptions);

    ${t.blinkingSeparator?`
    // Apply blinking to separators
    const clockEl = document.getElementById('clock');
    clockEl.innerHTML = timeStr.split('').map(char =>
      char === ':' ? '<span class="blink-separator">' + char + '</span>' : char
    ).join('');
    `:`
    document.getElementById('clock').textContent = timeStr;
    `}

    ${t.showDate?`
      // Format date based on dateFormat config
      let dateStr;
      const tzOpts = ${t.timezone&&t.timezone!=="local"?`{ timeZone: '${t.timezone}' }`:"{}"};

      switch ('${t.dateFormat||"long"}') {
        case 'long':
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'short':
          dateStr = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'numeric':
          dateStr = now.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'european':
          dateStr = now.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'iso':
          const year = now.getFullYear();
          const month = String(now.getMonth() + 1).padStart(2, '0');
          const day = String(now.getDate()).padStart(2, '0');
          dateStr = year + '-' + month + '-' + day;
          break;
        default:
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
      }

      ${t.timezone?`
      // Add timezone offset
      const tzOffset = ${t.timezone==="local"||!t.timezone?`
        (() => {
          const offset = -now.getTimezoneOffset();
          const hours = Math.floor(Math.abs(offset) / 60);
          const minutes = Math.abs(offset) % 60;
          const sign = offset >= 0 ? '+' : '-';
          return 'UTC' + sign + String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
        })()
      `:`
        (() => {
          try {
            const formatter = new Intl.DateTimeFormat('en-US', {
              timeZone: '${t.timezone}',
              timeZoneName: 'short'
            });
            const parts = formatter.formatToParts(now);
            const tzPart = parts.find(p => p.type === 'timeZoneName');
            return tzPart ? tzPart.value : '';
          } catch (e) {
            return '';
          }
        })()
      `};
      document.getElementById('date').innerHTML = dateStr + '<br><span style="font-size: 0.85em; opacity: 0.6;">' + tzOffset + '</span>';
      `:`
      document.getElementById('date').textContent = dateStr;
      `}
    `:""}
  }

  ${o?`
  function animate() {
    updateClock();
    requestAnimationFrame(animate);
  }
  animate();
  `:`
  setInterval(updateClock, 1000);
  updateClock();
  `}
`},Za={id:"countdown",label:"Countdown",description:"Event countdowns with flip cards and confetti",defaultConfig:{eventTitle:"Project Launch",targetDate:new Date(Date.now()+864e5*30).toISOString().slice(0,16),format24h:!0,ignoreTimezone:!0,timezone:"UTC",recurringType:"none",recurringEndDate:null,countdownStyle:"flip-countdown",showYear:!1,showMonth:!0,showWeek:!1,showDay:!0,showHour:!0,showMinute:!0,showSecond:!0,confettiDuration:"5min",stopAtZero:!0,completionMessage:"🎉 Event Started!",redirectOnComplete:!1,redirectUrl:"",showToGoLabel:!0,digitFontFamily:"default",textFontFamily:"default",textAlign:"center",textShadows:!1,useTransparentBg:!0,appearance:"system",lightMode:{textColor:q.colors.graphite,panelColor:q.colors.stardustWhite,digitColor:q.colors.nightBlack},darkMode:{textColor:q.colors.stardustWhite,panelColor:q.colors.graphite,digitColor:q.colors.stardustWhite},showHoverMenu:!1,showCustomizeButton:!1},fields:[{name:"eventTitle",label:"Event Title",type:"text",section:"event"},{name:"targetDate",label:"Target Date & Time",type:"datetime-local",section:"event"},{name:"format24h",label:"24-Hour Format",type:"boolean",section:"event"},{name:"ignoreTimezone",label:"Ignore Timezone",type:"boolean",section:"event"},{name:"timezone",label:"Timezone",type:"select",section:"event",options:[{label:"UTC",value:"UTC"},{label:"EST (UTC-5)",value:"America/New_York"},{label:"PST (UTC-8)",value:"America/Los_Angeles"},{label:"GMT",value:"Europe/London"},{label:"CET (UTC+1)",value:"Europe/Paris"},{label:"JST (UTC+9)",value:"Asia/Tokyo"}]},{name:"recurringType",label:"Recurring",type:"select",section:"event",options:[{label:"None",value:"none"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}]},{name:"recurringEndDate",label:"Recurring End Date",type:"datetime-local",section:"event",condition:t=>t.recurringType!=="none"},{name:"countdownStyle",label:"Countdown Style",type:"select",section:"style",options:[{label:"Text Only",value:"text-only"},{label:"Flip Countdown",value:"flip-countdown"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"style",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"showYear",label:"Show Years",type:"boolean",section:"units"},{name:"showMonth",label:"Show Months",type:"boolean",section:"units"},{name:"showWeek",label:"Show Weeks",type:"boolean",section:"units"},{name:"showDay",label:"Show Days",type:"boolean",section:"units"},{name:"showHour",label:"Show Hours",type:"boolean",section:"units"},{name:"showMinute",label:"Show Minutes",type:"boolean",section:"units"},{name:"showSecond",label:"Show Seconds",type:"boolean",section:"units"},{name:"confettiDuration",label:"Confetti Duration",type:"select",section:"completion",options:[{label:"Never",value:"never"},{label:"1 Minute",value:"1min"},{label:"5 Minutes",value:"5min"},{label:"10 Minutes",value:"10min"},{label:"1 Hour",value:"1hour"},{label:"Forever",value:"forever"}]},{name:"stopAtZero",label:"Stop at Zero",type:"boolean",section:"completion"},{name:"completionMessage",label:"Completion Message",type:"text",section:"completion"},{name:"redirectOnComplete",label:"Redirect on Completion",type:"boolean",section:"completion"},{name:"redirectUrl",label:"Redirect URL",type:"text",section:"completion",condition:t=>t.redirectOnComplete},{name:"showToGoLabel",label:'Show "To Go/Ago" Label',type:"boolean",section:"completion"},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]};var Ka=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])},Cr=(t,o)=>{const r=Math.floor(t/1e3),s=Math.floor(r/60),d=Math.floor(s/60),c=Math.floor(d/24),a=Math.floor(c/7),m=Math.floor(c/30.44);return{finished:!1,isPast:o,years:Math.floor(c/365.25),months:m%12,weeks:a%4,days:c%7,hours:d%24,minutes:s%60,seconds:r%60}},jr=(t,o)=>{const r=new Date,s=new Date(t)-r;return s<=0?o?{finished:!0,isPast:!1}:Cr(Math.abs(s),!0):Cr(s,!1)};const Xa=({config:t,onCustomizeRequest:o})=>{const[r,s]=(0,h.useState)(()=>jr(t.targetDate,t.stopAtZero)),[d,c]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[a,m]=(0,h.useState)(!1),[l,g]=(0,h.useState)(null),[n]=(0,h.useState)(()=>Array.from({length:50},()=>({left:Math.random()*100,duration:2+Math.random()*3,delay:Math.random()*2})));(0,h.useEffect)(()=>{const y=window.matchMedia("(prefers-color-scheme: dark)"),x=_=>c(_.matches);return y.addEventListener("change",x),()=>y.removeEventListener("change",x)},[]);const u=(0,h.useMemo)(()=>t.appearance==="dark"?!0:t.appearance==="light"?!1:d,[t.appearance,d]);(0,h.useEffect)(()=>{const y=setInterval(()=>{const x=jr(t.targetDate,t.stopAtZero);x.finished&&!a&&t.confettiDuration!=="never"&&(m(!0),g(Date.now())),s(x)},1e3);return()=>clearInterval(y)},[t.targetDate,t.stopAtZero,a,t.confettiDuration]),(0,h.useEffect)(()=>{if(!a||!l)return;const y={never:0,"1min":6e4,"5min":3e5,"10min":6e5,"1hour":36e5,forever:1/0}[t.confettiDuration];if(y===1/0)return;const x=setTimeout(()=>{m(!1)},y);return()=>clearTimeout(x)},[a,l,t.confettiDuration]);const b=(0,h.useMemo)(()=>{const y={textColor:u?"#F8F9FF":"#0B0E12",panelColor:u?"#1F2937":"#F8F9FF",digitColor:u?"#F8F9FF":"#0B0E12"};return(u?t.darkMode:t.lightMode)||y},[u,t.darkMode,t.lightMode]),w=y=>{const x={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return x[y]||x.default},T=({value:y,label:x,isLast:_})=>t.countdownStyle==="flip-countdown"?(0,e.jsxs)("div",{className:"flex flex-col items-center mx-2",children:[(0,e.jsxs)("div",{className:"relative flex items-center justify-center font-mono rounded-lg overflow-hidden shadow-lg",style:{backgroundColor:b.panelColor,color:b.digitColor,fontSize:"2.5rem",padding:"12px 20px",minWidth:"80px",fontFamily:w(t.digitFontFamily),textShadow:t.textShadows?`0 0 ${et.glowBlur} rgba(0,0,0,0.3)`:"none"},children:[(0,e.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black/10"}),String(y).padStart(2,"0")]}),(0,e.jsx)("span",{className:"text-xs uppercase mt-2 font-bold tracking-wide",style:{color:b.textColor,fontFamily:w(t.textFontFamily),opacity:.7},children:x})]}):(0,e.jsxs)("span",{className:"mx-1",style:{fontFamily:w(t.digitFontFamily),fontSize:"2rem",fontWeight:"bold",color:b.textColor},children:[y," ",x,!_&&", "]}),C=[];return t.showYear&&r.years>0&&C.push({value:r.years,label:"Year"}),t.showMonth&&r.months>0&&C.push({value:r.months,label:"Month"}),t.showWeek&&r.weeks>0&&C.push({value:r.weeks,label:"Week"}),t.showDay&&C.push({value:r.days||0,label:"Day"}),t.showHour&&C.push({value:r.hours||0,label:"Hr"}),t.showMinute&&C.push({value:r.minutes||0,label:"Min"}),t.showSecond&&C.push({value:r.seconds||0,label:"Sec"}),(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 transition-colors relative",style:{backgroundColor:t.useTransparentBg?"transparent":u?et.colors.nightBlack:et.colors.stardustWhite,textAlign:t.textAlign},children:[a&&(0,e.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:n.map((y,x)=>(0,e.jsx)("div",{className:"absolute animate-confetti",style:{left:`${y.left}%`,top:"-10px",width:"10px",height:"10px",backgroundColor:Object.values(et.colors)[x%Object.values(et.colors).length],animation:`confettiFall ${y.duration}s linear infinite`,animationDelay:`${y.delay}s`,opacity:.8,borderRadius:"2px"}},x))}),(0,e.jsx)("h2",{className:"text-2xl font-bold mb-6",style:{color:b.textColor,fontFamily:w(t.textFontFamily),textShadow:t.textShadows?`0 0 ${et.glowBlur} rgba(0,0,0,0.1)`:"none"},children:Ka(t.eventTitle)}),(0,e.jsx)("div",{className:`flex ${t.countdownStyle==="flip-countdown"?"gap-2":"flex-wrap justify-center"}`,children:r.finished?(0,e.jsx)("div",{className:"text-4xl font-bold",style:{color:b.textColor},children:"🎉 Event Started!"}):C.map((y,x)=>(0,e.jsx)(T,{value:y.value,label:y.label,isLast:x===C.length-1},y.label))}),t.showToGoLabel&&!r.finished&&(0,e.jsx)("div",{className:"mt-4 text-sm uppercase tracking-wide opacity-60",style:{color:b.textColor,fontFamily:w(t.textFontFamily)},children:r.isPast?"Ago":"To Go"}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"mt-6 px-6 py-2 rounded-lg font-medium text-sm",style:{backgroundColor:b.panelColor,color:b.digitColor,opacity:.8},onClick:()=>o?.("event"),children:"Customize"}),(0,e.jsx)("style",{children:`
        @keyframes confettiFall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
      `})]})};var Nr=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])};const $a=t=>{const o=t.appearance==="dark",r=o?t.darkMode:t.lightMode,s=t.useTransparentBg?"transparent":o?q.colors.nightBlack:q.colors.stardustWhite;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown - ${Nr(t.eventTitle)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${s};
      color: ${r.textColor};
      font-family: ${q.fonts.body};
      display: flex;
      flex-direction: column;
      align-items: ${t.textAlign==="left"?"flex-start":t.textAlign==="right"?"flex-end":"center"};
      justify-content: center;
      padding: 32px;
      text-align: ${t.textAlign};
    }

    #event-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 24px;
      ${t.textShadows?`text-shadow: 0 0 ${q.effects.glowBlur} rgba(0,0,0,0.1);`:""}
    }

    #countdown-display {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .countdown-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 8px;
    }

    .countdown-digit {
      background: ${r.panelColor};
      color: ${r.digitColor};
      font-size: 2.5rem;
      padding: 12px 20px;
      border-radius: 8px;
      min-width: 80px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      position: relative;
      ${t.textShadows?`text-shadow: 0 0 ${q.effects.glowBlur} rgba(0,0,0,0.3);`:""}
    }

    .countdown-digit::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: rgba(0,0,0,0.1);
    }

    .countdown-label {
      font-size: 0.75rem;
      margin-top: 8px;
      opacity: 0.7;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 0.05em;
    }

    #label {
      margin-top: 16px;
      font-size: 0.875rem;
      opacity: 0.6;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    #confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    @media (prefers-color-scheme: dark) {
      ${t.appearance==="system"?`
        body {
          background: ${t.useTransparentBg?"transparent":t.darkMode.backgroundColor};
          color: ${t.darkMode.textColor};
        }
        .countdown-digit {
          background: ${t.darkMode.panelColor};
          color: ${t.darkMode.digitColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <h2 id="event-title">${Nr(t.eventTitle)}</h2>
  <div id="countdown-display"></div>
  ${t.showToGoLabel?'<div id="label"></div>':""}
  <div id="confetti-container"></div>

  <script>
    ${so(t)}
  <\/script>
</body>
</html>`},so=t=>{const o=t.appearance==="dark"?t.darkMode:t.lightMode;return`
    const config = ${JSON.stringify(t)};
    const colors = ${JSON.stringify(o)};
    const JAZER_BRAND_COLORS = ${JSON.stringify(q.colors)};

    let confettiActive = false;
    let confettiStartTime = null;

    function calculateTimeLeft() {
      const now = new Date();
      const target = new Date(config.targetDate);
      const diff = target - now;

      if (diff <= 0) {
        if (config.stopAtZero) {
          triggerConfetti();
          return { finished: true };
        }
        return calculateUnits(Math.abs(diff), true);
      }

      return calculateUnits(diff, false);
    }

    function calculateUnits(ms, isPast) {
      const s = Math.floor(ms / 1000);
      const m = Math.floor(s / 60);
      const h = Math.floor(m / 60);
      const d = Math.floor(h / 24);

      return {
        finished: false,
        isPast,
        days: d,
        hours: h % 24,
        minutes: m % 60,
        seconds: s % 60
      };
    }

    function triggerConfetti() {
      if (confettiActive || config.confettiDuration === 'never') return;
      confettiActive = true;
      confettiStartTime = Date.now();

      const container = document.getElementById('confetti-container');
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = \`
          position: absolute;
          left: \${Math.random() * 100}%;
          top: -10px;
          width: 10px;
          height: 10px;
          background: \${Object.values(JAZER_BRAND_COLORS)[i % Object.values(JAZER_BRAND_COLORS).length]};
          animation: fall \${2 + Math.random() * 3}s linear infinite;
          opacity: 0.8;
          border-radius: 2px;
        \`;
        container.appendChild(confetti);
      }

      const durations = { '1min': 60000, '5min': 300000, '10min': 600000, '1hour': 3600000 };
      if (config.confettiDuration !== 'forever') {
        setTimeout(() => {
          container.innerHTML = '';
          confettiActive = false;
        }, durations[config.confettiDuration]);
      }
    }

    function updateCountdown() {
      const timeLeft = calculateTimeLeft();
      const display = document.getElementById('countdown-display');

      if (timeLeft.finished) {
        display.innerHTML = '<div style="font-size: 2rem; font-weight: bold;">🎉 Event Started!</div>';
        return;
      }

      const units = [];
      if (config.showDay) units.push({ value: timeLeft.days, label: 'Days' });
      if (config.showHour) units.push({ value: timeLeft.hours, label: 'Hours' });
      if (config.showMinute) units.push({ value: timeLeft.minutes, label: 'Min' });
      if (config.showSecond) units.push({ value: timeLeft.seconds, label: 'Sec' });

      display.innerHTML = units.map(u => \`
        <div class="countdown-unit">
          <div class="countdown-digit">\${String(u.value).padStart(2, '0')}</div>
          <span class="countdown-label">\${u.label}</span>
        </div>
      \`).join('');

      if (config.showToGoLabel) {
        document.getElementById('label').textContent = timeLeft.isPast ? 'Ago' : 'To Go';
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  `},Va="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let zt=(t=21)=>{let o="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)o+=Va[r[t]&63];return o};var Pt={id:zt(),label:"Button",icon:"✨",hideIcon:!1,url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"},Sr=[{id:"focus",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],es=[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],ts=[{title:"Button Modes",description:"Modes create entire categories of button behavior so every press feels intentional.",items:[{title:"Action Mode",body:"Executes a single action (log, toggle, open link, trigger webhook, etc.)."},{title:"Macro Mode",body:"Chains multiple actions together so one press can log, toggle, and open a link in sequence."},{title:"Input Mode",body:"Prompts for a quick note, pomodoro intention, or task title before running the macro."},{title:"Cycle Mode",body:"Each press cycles through presets (Start, Pause, Skip, Complete) with matching badges and colors."},{title:"Toggle Mode",body:"Maintains an on/off state with glow + data logging so you can see whether the button is active."}]},{title:"Visual & Interactive Touches",description:"Micro-interactions make the widget feel premium.",items:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts to match the action being taken."},{title:"Particles & Traces",body:"Neon ripple, energy pulse, pixel burst, glow sweep, or magnetic hover trails."},{title:"Active Duration Glow",body:"While macros run the button slowly pulses, shifts color, or shows a progress arc."},{title:"Badges",body:"Counts, streak icons, warning dots, and data pills keep the button status visible."}]},{title:"Data-Aware Reactions",description:"Let Notion data change the way the button behaves or looks.",items:[{title:"Task Pressure",body:"If today's tasks are incomplete the button shifts to warning red."},{title:"Streak Glow",body:"When pomodoro streak continues the button gets a brighter glow."},{title:"Done State",body:"Marking a database property as Done swaps in a green check pill."},{title:"Unlocks",body:"When a field equals a value, the button can unlock a new animation or action."}]},{title:"Notion Integration",description:"The serious power comes from two-way Notion sync.",items:[{title:"Connect a Database",body:"Point to Tasks, Journal, Habits, or Pomodoros and choose create, update, or toggle actions."},{title:"Templates + Prefill",body:"Apply a template per button and pre-fill tags, owners, and dates."},{title:"Advanced Logging",body:"Capture button ID, widget ID, timestamps, and user-entered text for every press."},{title:"Two-Way Rules",body:"Check Notion data before acting so limits, completed flags, or custom focus modes change the outcome."}]},{title:"Smart Logic",description:"Conditional flows prevent accidental presses.",items:[{title:"If/Else Branching",body:"If a timer is active, pause it. Otherwise start focus. Same button, two outcomes."},{title:"Data-Driven UI",body:"Swap label, icon, color, or tooltip whenever a Notion property changes."}]},{title:"Layout-Level Controls",description:"Organize multiple buttons into purposeful groups.",items:[{title:"Button Groups",body:"Vertical stacks, inline clusters, grids, or rows with spacers keep things tidy."},{title:"Linked Buttons",body:"Pomodoro Start -> Pause -> Log Session -> Complete Task all sharing one state."},{title:"Variants",body:"Text, icon-only, icon + text, capsule, circular, floating orb, outline, or ghost styles."}]},{title:"Wow Moments",description:"Moments of surprise drive engagement.",items:[{title:"Energy Charge Ring",body:"Every press charges a ring that wraps the button."},{title:"Streak Transform",body:"As the streak grows the glow, color, and animation intensity evolve."},{title:"Secret Long Press",body:"Holding for two seconds can unlock a different action or log."},{title:"Morphing States",body:"Square -> circle, icon -> checkmark, text -> animated success message."},{title:"Dynamic Labels",body:`Rotate label text: "Press Me" -> "Let's cook" -> "Energy +1" -> "Keep grinding".`}]},{title:"Button Library",description:"Build a catalog so users can drag in what they need.",items:[{title:"Examples",body:"Log Button, Task Toggle, Cycle/Pomodoro button, Create Page, Template trigger, Counter, Mode Switcher, Theme Toggle, Playlist, Navigation, Meta/Macro, and Secret long-press buttons."}]}],ct=()=>({cycleIndex:0,isActive:!1,badgeCount:0,awaitingInput:!1,inputValue:"",macroLog:[],animationKey:0,lastCompleteAt:0,isRecentlyCompleted:!1,isProcessing:!1,lastLoggedStatus:null,energyCharge:0,secretUnlocked:!1,counterValue:0,playlistIndex:0,modeIndex:0,themeMode:"dark",cycleStep:0,dynamicLabelIndex:0,timerRunning:!1}),xt=(t="")=>t.split(`
`).map(o=>o.trim()).filter(Boolean),Tr=t=>xt(t.playlistText||""),rs=t=>xt(t).map(o=>{const[r="",s="",d=""]=o.split("|");return{id:`${r}-${s}`.trim()||zt(),label:r.trim(),badge:s.trim(),color:d.trim()}}).filter(o=>o.label),os=t=>xt(t).map((o,r)=>{const[s="log",d="Action",c="200"]=o.split("|");return{id:`${s}-${r}`,type:s.trim()||"log",label:d.trim()||"Action",delay:Number(c)||200}}).filter(o=>o.type),as=(t="")=>t.split(/;|\n/).map(o=>o.trim()).filter(Boolean).map(o=>{const[r="",...s]=o.split("=");return{key:r.trim(),value:s.join("=").trim()}}).filter(o=>o.key),ss=(t=200)=>new Promise(o=>setTimeout(o,t));const ns=({config:t,onConfigChange:o,onCustomizeRequest:r,brandTheme:s})=>{const{theme:d,getColor:c}=bt(),[a,m]=(0,h.useState)(t.buttons||[Pt]),[l,g]=(0,h.useState)(null),[n,u]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[b,w]=(0,h.useState)({}),T=(0,h.useRef)({}),[C,y]=(0,h.useState)(!1),[x,_]=(0,h.useState)(!1),k=p=>{r?r(p):y(!0)},N=t.builderUI!==!1,v=l?a.findIndex(p=>p.id===l):-1,z=(0,h.useMemo)(()=>({jazerNeon:{bgColor:c("electricPurple"),outlineColor:c("electricPurple"),textColor:c("stardustWhite"),hoverBgColor:c("ultraviolet")},cosmicBlue:{bgColor:c("cosmicBlue"),outlineColor:c("cosmicBlue"),textColor:c("stardustWhite"),hoverBgColor:c("aetherTeal")},neonPink:{bgColor:c("neonPink"),outlineColor:c("neonPink"),textColor:c("stardustWhite"),hoverBgColor:"#EC4899"},purple:{bgColor:"#6940A5",outlineColor:"#6940A5",textColor:"#FFFFFF",hoverBgColor:"#8B5CF6",hoverTextColor:"#FFFFFF"},blue:{bgColor:"#0B6E99",outlineColor:"#0B6E99",textColor:"#FFFFFF",hoverBgColor:"#2D9CDB",hoverTextColor:"#FFFFFF"},red:{bgColor:"#E03E3E",outlineColor:"#E03E3E",textColor:"#FFFFFF",hoverBgColor:"#EB5757",hoverTextColor:"#FFFFFF"},green:{bgColor:"#0F7B6C",outlineColor:"#0F7B6C",textColor:"#FFFFFF",hoverBgColor:"#27AE60",hoverTextColor:"#FFFFFF"},yellow:{bgColor:"#DFAB01",outlineColor:"#DFAB01",textColor:"#FFFFFF",hoverBgColor:"#F2C94C",hoverTextColor:"#FFFFFF"},orange:{bgColor:"#D9730D",outlineColor:"#D9730D",textColor:"#FFFFFF",hoverBgColor:"#F2994A",hoverTextColor:"#FFFFFF"},pink:{bgColor:"#AD1A72",outlineColor:"#AD1A72",textColor:"#FFFFFF",hoverBgColor:"#D946A6",hoverTextColor:"#FFFFFF"},brown:{bgColor:"#64473A",outlineColor:"#64473A",textColor:"#FFFFFF",hoverBgColor:"#8B6F47",hoverTextColor:"#FFFFFF"},grey:{bgColor:"#9B9A97",outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBgColor:"#BDBDBD",hoverTextColor:"#FFFFFF"},black:{bgColor:"#000000",outlineColor:"#000000",textColor:"#FFFFFF",hoverBgColor:"#333333",hoverTextColor:"#FFFFFF"}}),[c]);(0,h.useEffect)(()=>{let p=requestAnimationFrame(()=>m(t.buttons||[Pt]));return()=>cancelAnimationFrame(p)},[t.buttons]),(0,h.useEffect)(()=>{let p=requestAnimationFrame(()=>{w(j=>{const S={};return a.forEach(E=>{S[E.id]=j[E.id]||ct()}),S})});return()=>cancelAnimationFrame(p)},[a]),(0,h.useEffect)(()=>{o("buttons",a)},[a,o]),(0,h.useEffect)(()=>{if(t.appearanceMode!=="system"||typeof window>"u")return;const p=window.matchMedia("(prefers-color-scheme: dark)"),j=S=>u(S.matches);return p.addEventListener("change",j),()=>p.removeEventListener("change",j)},[t.appearanceMode]);const G=(0,h.useMemo)(()=>t.appearanceMode==="system"?n:t.appearanceMode==="dark",[t.appearanceMode,n]);(0,h.useEffect)(()=>{if(!C||typeof window>"u")return;const p=j=>{j.key==="Escape"&&y(!1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[C]);const W=(0,h.useCallback)((p,j)=>{w(S=>{const E=S[p]||ct(),B=typeof j=="function"?j(E):j;return{...S,[p]:{...E,...B}}})},[]),re=(0,h.useMemo)(()=>t.macroMode?.actionsText?os(t.macroMode.actionsText):Array.isArray(t.macroMode?.actions)?t.macroMode.actions:es,[t.macroMode]),$=(0,h.useMemo)(()=>{if(t.cycleMode?.valuesText){const p=rs(t.cycleMode.valuesText);return p.length?p:Sr}return Array.isArray(t.cycleMode?.values)?t.cycleMode.values:Sr},[t.cycleMode]),ce=(0,h.useMemo)(()=>Array.isArray(t.inputMode?.hints)?t.inputMode.hints:xt(t.inputMode?.hints),[t.inputMode]),U=(0,h.useMemo)(()=>{if(!t.dataAware?.enabled)return null;const p=Number(t.dataAware.sampleValue??0),j=Number(t.dataAware.goal??0),S=Number(t.dataAware.warningThreshold??0);let E="neutral";return j&&p>=j?E="success":p<=S&&(E="warning"),{value:p,goal:j,warning:S,status:E,icon:t.dataAware.statusIcon||"⚡",tasksIncomplete:!!t.dataAware.tasksIncomplete,pomodoroStreakActive:!!t.dataAware.pomodoroStreakActive,propertyDone:!!t.dataAware.propertyDone,doneLabel:t.dataAware.doneLabel||"Marked Done",timerActive:!!t.dataAware.timerActive,streakBroken:!!t.dataAware.streakBroken,projectTag:t.dataAware.projectTag||"General",projectTagTarget:t.dataAware.projectTagTarget||"Music",musicTooltip:t.dataAware.musicTooltip||"Logs in Music DB",projectTagColor:t.dataAware.projectTagColor||"#C026D3",dynamicLabels:xt(t.dataAware.dynamicLabelsText)}},[t.dataAware]),P=(0,h.useMemo)(()=>{const p=t.notionIntegration;if(!p?.enabled)return null;const j={tasks:"Tasks database",journal:"Journal database",habits:"Habits database",pomodoros:"Pomodoros database"}[p.database]||"Custom database",S={create:"Create row",update:"Update property",toggle:"Toggle checkbox"}[p.action]||"Custom action",E=as(p.prefillPropertiesText||""),B=p.conditional?.conditionMet,J=p.twoWay?.taskCompleted?!1:B,O=p.conditional?J?p.conditional.thenAction:p.conditional.elseAction:null;return{databaseLabel:j,actionLabel:S,prefill:E,template:p.template,logEntries:p.logEntries,logDestination:p.logDestination||"Console Preview",unlockField:p.unlockField,unlockValue:p.unlockValue,currentFieldValue:p.currentFieldValue,unlockReady:!!(p.unlockField&&p.unlockValue&&p.currentFieldValue&&p.unlockValue===p.currentFieldValue),limitReached:!!p.twoWay?.limitReached,taskCompleted:!!p.twoWay?.taskCompleted,mode:p.twoWay?.mode,conditionalLabel:p.conditional?.label,conditionalAction:O,conditionResolved:J}},[t.notionIntegration]),ne=t.useTransparentBackground?"transparent":t.backgroundColor,we=()=>{m(p=>[...p,{...Pt,id:zt()}])},xe=p=>{m(j=>{const S=j.find(E=>E.id===p);return S?[...j,{...S,id:zt()}]:j})},me=p=>{a.length<=1||window.confirm("Are you sure you want to delete this button?")&&m(j=>{const S=j.filter(E=>E.id!==p);return l===p&&g(S[0]?.id||null),S})},ke=(p,j)=>{m(S=>{const E=S.findIndex(J=>J.id===p);if(E===-1)return S;const B=[...S];return j==="up"&&E>0?[B[E-1],B[E]]=[B[E],B[E-1]]:j==="down"&&E<B.length-1&&([B[E+1],B[E]]=[B[E],B[E+1]]),B})},pe=(p,j,S)=>{m(E=>E.map(B=>B.id===p?{...B,[j]:S}:B))},D=(p,j)=>{const S=z[j];S&&m(E=>E.map(B=>B.id===p?{...B,bgColor:S.bgColor,outlineColor:S.outlineColor,textColor:S.textColor,hoverBgColor:S.hoverBgColor||S.bgColor,hoverTextColor:S.hoverTextColor||S.textColor}:B))},Y=p=>{m(j=>{const S=j.find(ee=>ee.id===p);if(!S)return j;const{id:E,label:B,url:J,...O}=S;return j.map(ee=>ee.id===p?ee:{...ee,...O})})},le=(p=null)=>{_(!0);const j=p||l||a[0]?.id||null;j&&g(j)},be=(0,h.useCallback)(async(p,j,S)=>{if(t.macroMode?.enabled)for(const E of re){const B=`${E.label}${S?` - ${S}`:""}`;W(p,J=>({...J,macroLog:[...J.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - ${B}`]})),E.type==="toggle"&&W(p,J=>({...J,isActive:!J.isActive,lastLoggedStatus:J.isActive?"Inactive":"Active"})),E.type==="openLink"&&j.url&&typeof window<"u"&&window.open(j.url,"_blank","noopener,noreferrer"),await ss(E.delay||200)}},[t.macroMode?.enabled,re,W]),Ze=async p=>{if(P?.limitReached)return;const j=a.find(O=>O.id===p);if(!j)return;const S=b[p]||ct(),E=S.inputValue||"";t.cycleMode?.enabled&&$.length&&$[S.cycleIndex%$.length];const B=Tr(j),J=new Date().toLocaleTimeString();if(W(p,O=>({...O,isProcessing:!0,awaitingInput:!1})),P?.conditionalAction&&W(p,O=>({...O,macroLog:[...O.macroLog.slice(-3),`${J} - ${P.conditionalAction}`]})),j.behaviorType==="createPage"&&W(p,O=>({...O,macroLog:[...O.macroLog.slice(-3),`${J} - Create page in ${P?.databaseLabel}`]})),j.behaviorType==="template"&&W(p,O=>({...O,macroLog:[...O.macroLog.slice(-3),`${J} - Template ${P?.template||"Default"} applied`]})),t.macroMode?.enabled||j.behaviorType==="meta"?await be(p,j,E):j.url&&typeof window<"u"&&window.open(j.url,"_blank","noopener,noreferrer"),t.cycleMode?.enabled&&$.length>0&&W(p,O=>({...O,cycleIndex:(O.cycleIndex+1)%$.length})),t.toggleMode?.enabled&&W(p,O=>{const ee=!O.isActive;return t.toggleMode.logToNotion&&typeof window<"u"&&console.log(`[Notion Log] ${j.label} is now ${ee?"Active":"Inactive"}`),{...O,isActive:ee,lastLoggedStatus:ee?"Active":"Inactive"}}),W(p,O=>{let ee=O.macroLog;const ae=K=>{ee=[...ee.slice(-3),`${J} - ${K}`]},Z={...O,badgeCount:O.badgeCount+1,animationKey:Date.now(),lastCompleteAt:Date.now(),isRecentlyCompleted:!0,isProcessing:!1,inputValue:"",awaitingInput:!1};switch(j.behaviorType){case"cycle":{const K=(O.cycleStep+1)%3;Z.cycleStep=K,Z.timerRunning=K!==0,ae(["Start focus","Pause timer","Skip break"][K]);break}case"counter":Z.counterValue=O.counterValue+1,ae(`Counter ${Z.counterValue}`);break;case"modeSwitcher":{const K=(O.modeIndex+1)%3;Z.modeIndex=K,ae(`Mode switched to ${["Focus","Break","Deep"][K]}`);break}case"themeToggle":Z.themeMode=O.themeMode==="dark"?"light":"dark",ae(`Theme ${Z.themeMode}`);break;case"playlist":if(B.length){const K=(O.playlistIndex+1)%B.length;Z.playlistIndex=K,ae(`Now playing ${B[K]}`)}break;case"navigation":ae("Opened Notion page");break;case"meta":ae("Meta macro executed");break;case"secret":O.secretUnlocked&&ae("Secret macro executed");break;default:break}return U?.streakBroken&&(Z.counterValue=0,ae("Streak reset")),U?.projectTag===U?.projectTagTarget&&ae("Logged to Music DB"),U?.dynamicLabels?.length&&(Z.dynamicLabelIndex=(O.dynamicLabelIndex+1)%U.dynamicLabels.length),Z.energyCharge=Math.min(100,O.energyCharge+20),Z.macroLog=ee,Z}),setTimeout(()=>{W(p,O=>O.isRecentlyCompleted?{...O,isRecentlyCompleted:!1}:O)},900),P?.logEntries){let O=P.conditionalAction||(t.macroMode?.enabled?"Macro sequence":"Direct action");switch(j.behaviorType){case"createPage":O="Create Page";break;case"template":O="Apply Template";break;case"counter":O="Increment Counter";break;case"playlist":O="Cycle Playlist";break;case"modeSwitcher":O="Switch Mode";break;case"themeToggle":O="Toggle Theme";break;case"navigation":O="Open Page";break;case"meta":O="Meta Macro";break;case"secret":O="Secret Action";break;default:break}U?.projectTag===U?.projectTagTarget&&(O+=" · Music DB"),B.length&&B[(S.playlistIndex+(j.behaviorType==="playlist"?1:0))%B.length]}},He=p=>{const j=b[p]||ct(),S=a.find(E=>E.id===p);if(S){if(P?.limitReached){W(p,E=>({...E,macroLog:[...E.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Limit reached via two-way sync.`],awaitingInput:!1}));return}if(P?.taskCompleted){W(p,E=>({...E,macroLog:[...E.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Task already completed in Notion.`],awaitingInput:!1}));return}if(S.behaviorType==="secret"&&!j.secretUnlocked){W(p,E=>({...E,macroLog:[...E.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Hold to unlock secret action.`],awaitingInput:!1}));return}if(t.inputMode?.enabled){if(!j.awaitingInput){W(p,{awaitingInput:!0});return}if(!j.inputValue?.trim())return}Ze(p)}},Ee=(p,j)=>{W(p,{inputValue:j})},Me=p=>{b[p]?.inputValue?.trim()&&Ze(p)},nt=p=>{W(p,{awaitingInput:!1,inputValue:""})},Ke=p=>{T.current[p]&&clearTimeout(T.current[p]),T.current[p]=setTimeout(()=>{W(p,j=>({...j,secretUnlocked:!0,macroLog:[...j.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Secret channel unlocked`]})),delete T.current[p]},2e3)},Le=p=>{T.current[p]&&(clearTimeout(T.current[p]),delete T.current[p])},F=(p,j,S,E)=>{const B={};switch(p.behaviorType){case"cycle":{const J=["Start Pomodoro","Pause","Skip Break"];B.label=J[j.cycleStep%J.length],B.icon=j.cycleStep===1?"⏸":j.cycleStep===2?"⏭":p.icon||"▶",B.tooltip=j.timerRunning?"Pause focus timer":"Start focus timer",E?.timerActive&&!j.timerRunning&&(B.label="Pause",B.icon="⏸");break}case"createPage":B.icon=p.icon||"📄",B.tooltip="Creates a Notion page";break;case"template":B.icon=p.icon||"🧩",B.tooltip="Runs the selected template";break;case"counter":B.label=`${p.label} ${j.counterValue}`,B.tooltip="Adds to counter";break;case"modeSwitcher":{const J=["Focus","Break","Deep Work"];B.label=J[j.modeIndex%J.length],B.tooltip=`Switch to ${B.label} mode`;break}case"themeToggle":B.label=`Theme: ${j.themeMode==="dark"?"Dark":"Light"}`,B.icon=j.themeMode==="dark"?"🌙":"☀️",B.tooltip="Toggle theme";break;case"playlist":{const J=S;J.length&&(B.label=J[j.playlistIndex%J.length]),B.tooltip="Cycle playlist tracks",B.icon=p.icon||"🎵";break}case"navigation":B.icon=p.icon||"🔗",B.tooltip=p.url||"Opens Notion page";break;case"meta":B.tooltip="Runs macro sequence",B.icon=p.icon||"🧠";break;case"secret":j.secretUnlocked?B.tooltip="Secret macro ready":(B.label="Hold to unlock",B.tooltip="Hold for 2 seconds to reveal secret");break;default:break}return B},M=(p,j,S,E={})=>{const{isLinkedRow:B=!1,isFirst:J=!1,isLast:O=!1}=E,ee=p.rounding==="none"?"0px":p.rounding==="slight"?"8px":"9999px",ae=p.size==="small"?"8px 16px":p.size==="large"?"16px 32px":"12px 24px",Z=p.size==="small"?"0.875rem":p.size==="large"?"1.25rem":"1rem",K=p.outlineColor==="transparent"?"0px":"1px",Ne=`${p.bgColor}${p.bgOpacity<100?Math.round(255*(p.bgOpacity/100)).toString(16).padStart(2,"0"):""}`,fe=p.variant||"solid",L={backgroundColor:j?.color||Ne,color:p.textColor,border:`${K} solid ${p.outlineColor}`,borderRadius:ee,padding:ae,fontSize:Z,fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:S.isProcessing?"not-allowed":"pointer",width:t.layout==="full-width"?"100%":"auto",textAlign:"center",boxShadow:t.showHoverMenu?`0 0 ${d.effects.glowBlur} rgba(0,0,0,0.2)`:"none",transition:"transform 0.2s ease, box-shadow 0.2s ease"};switch(fe){case"text":L.backgroundColor="transparent",L.border="none",L.padding="6px 12px";break;case"icon":L.width="48px",L.height="48px",L.padding="0",L.borderRadius="16px";break;case"iconText":L.padding="10px 18px";break;case"capsule":L.borderRadius="999px";break;case"circular":L.borderRadius="999px",L.width="64px",L.height="64px",L.padding="0";break;case"orb":L.borderRadius="999px",L.boxShadow="0 0 25px rgba(147, 197, 253, 0.35)",L.background="radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent), "+(j?.color||Ne);break;case"outline":L.backgroundColor="transparent",L.border=`1px solid ${p.outlineColor||p.textColor}`,L.color=p.outlineColor||p.textColor;break;case"ghost":L.backgroundColor="transparent",L.border="1px dashed rgba(255,255,255,0.4)",L.color=p.textColor||"#FFFFFF";break;default:break}return B&&(L.borderRadius=J?"999px 0 0 999px":O?"0 999px 999px 0":"0",L.marginLeft=J?"0":"-1px"),t.toggleMode?.enabled&&S.isActive&&t.toggleMode.glowWhenActive&&(L.boxShadow="0 0 20px rgba(139,92,246,0.6)"),U&&(U.tasksIncomplete&&(L.backgroundColor="#B91C1C",L.border="1px solid #7F1D1D",L.color="#FFFFFF"),U.status==="success"?L.boxShadow="0 0 22px rgba(16,185,129,0.4)":U.status==="warning"&&(L.boxShadow="0 0 18px rgba(249,115,22,0.35)"),U.pomodoroStreakActive&&(L.boxShadow="0 0 26px rgba(236,72,153,0.45)"),U.projectTag===U.projectTagTarget&&(L.backgroundColor=U.projectTagColor,L.color="#FFFFFF"),U.streakBroken&&(L.outline="2px dashed rgba(249,115,22,0.8)",L.outlineOffset="2px")),P?.limitReached&&(L.filter="grayscale(0.55)",L.opacity=.6,L.cursor="not-allowed"),P?.unlockField&&(L.border=`1px solid ${P.unlockReady?"#10B981":"#FCD34D"}`,P.unlockReady&&(L.boxShadow="0 0 24px rgba(16,185,129,0.45)")),p.behaviorType==="themeToggle"&&(L.backgroundColor=S.themeMode==="dark"?"#0F172A":"#F8FAFC",L.color=S.themeMode==="dark"?"#F8FAFC":"#0F172A"),L};return(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-4 transition-colors relative",style:{backgroundColor:ne,color:G?d.colors.stardustWhite:d.colors.nightBlack},children:[N&&(0,e.jsxs)("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2",children:[(0,e.jsx)("button",{type:"button",className:"text-[11px] px-3 py-1.5 rounded-full border border-white/20 bg-black/20 text-neutral-200 hover:border-purple-300 hover:text-white transition",onClick:()=>le(),children:"Manage"}),(0,e.jsxs)("button",{type:"button",className:"text-[11px] px-3 py-1.5 rounded-full border border-purple-400/60 bg-purple-500/15 text-white hover:bg-purple-500/25 transition flex items-center gap-1.5",onClick:we,children:[(0,e.jsx)(Yt,{className:"w-3.5 h-3.5"})," Add"]})]}),(0,e.jsx)("div",{className:t.layout==="vertical"||t.layout==="vertical-stack"?"flex flex-col gap-4 w-full":t.layout==="inline-cluster"?"flex gap-3 flex-nowrap overflow-x-auto w-full":t.layout==="grid"?"grid gap-4 w-full":t.layout==="linked-row"?"flex gap-0 w-full":"flex flex-wrap gap-4",style:{justifyContent:t.layout==="inline-cluster"?"flex-start":t.alignment==="space-evenly"?"space-evenly":t.alignment==="center"?"center":t.alignment==="left"?"flex-start":"flex-end",width:t.layout==="full-width"||t.layout==="grid"||t.layout==="inline-cluster"?"100%":"auto",gridTemplateColumns:t.layout==="grid"?"repeat(auto-fit, minmax(180px, 1fr))":void 0},children:a.map((p,j)=>{const S=b[p.id]||ct(),E=t.cycleMode?.enabled&&$.length?$[S.cycleIndex%$.length]:null,B=Tr(p);let J=E?.label||p.label,O=E?.icon||p.icon,ee=p.tooltip||"";const ae=p.variant||"solid";U?.dynamicLabels?.length&&(J=U.dynamicLabels[S.dynamicLabelIndex%U.dynamicLabels.length]||J);const Z=F(p,S,B,U);Z.label&&(J=Z.label),Z.icon&&(O=Z.icon),Z.tooltip&&(ee=Z.tooltip),U?.projectTag===U?.projectTagTarget&&(O="🎵",ee=U.musicTooltip);const K=ae!=="icon",Ne=ee||J,fe=t.visuals?.badgesEnabled?Math.max(S.badgeCount,Number(t.dataAware?.sampleValue??0)):null,L=!!S.isRecentlyCompleted,de=["button-live-preview",t.visuals?.activeGlow&&S.isActive?"button-live-preview--active":"",S.isProcessing?"button-live-preview--processing":"",L?"button-live-preview--complete":"",U?.pomodoroStreakActive?"button-live-preview--streak":"",P?.limitReached?"button-live-preview--limited":""].filter(Boolean).join(" ");return(0,e.jsxs)("div",{className:"group relative",draggable:!0,onDragStart:ue=>ue.dataTransfer.setData("buttonId",p.id),onDragOver:ue=>ue.preventDefault(),onDrop:ue=>{const Se=ue.dataTransfer.getData("buttonId"),Ae=a.findIndex(ge=>ge.id===Se),V=a.findIndex(ge=>ge.id===p.id);if(Ae===V)return;const Re=[...a],[Ge]=Re.splice(Ae,1);Re.splice(V,0,Ge),m(Re)},children:[(0,e.jsxs)("button",{type:"button","aria-pressed":t.toggleMode?.enabled?S.isActive:void 0,className:de,title:ee||void 0,"aria-label":Ne,style:{...M(p,E,S,{isLinkedRow:t.layout==="linked-row",isFirst:j===0,isLast:j===a.length-1}),"--hover-bg":p.enableHoverHighlight?p.hoverBgColor:"inherit","--hover-text":p.enableHoverHighlight?p.hoverTextColor:"inherit"},disabled:S.isProcessing,onClick:()=>He(p.id),onMouseDown:()=>Ke(p.id),onMouseUp:()=>Le(p.id),onMouseLeave:()=>Le(p.id),onTouchStart:()=>Ke(p.id),onTouchEnd:()=>Le(p.id),children:[!p.hideIcon&&(0,e.jsx)("span",{className:"text-lg",children:O}),K&&(0,e.jsx)("span",{children:J}),S.isProcessing&&(0,e.jsx)(So,{className:"w-4 h-4 animate-spin"}),t.visuals?.showProgressArc&&S.isActive&&(0,e.jsx)("span",{className:"button-progress-ring"}),t.visuals?.enableParticleEffects&&(0,e.jsx)("span",{className:"button-ripple"},S.animationKey),S.energyCharge>0&&(0,e.jsx)("span",{className:"button-energy-ring",style:{background:`conic-gradient(#8B5CF6 ${S.energyCharge*3.6}deg, transparent 0deg)`}}),t.visuals?.badgesEnabled&&(0,e.jsx)("span",{className:"button-badge",children:fe}),U?.propertyDone&&(0,e.jsxs)("span",{className:"button-done-pill",children:[(0,e.jsx)(Ie,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:U.doneLabel})]}),P?.unlockField&&(0,e.jsx)("span",{className:`button-unlock-pill ${P.unlockReady?"button-unlock-pill--ready":""}`,children:P.unlockReady?"Unlocked":`Locked: ${P.unlockValue||"value"}`}),L&&(0,e.jsx)("span",{className:"button-complete",children:(0,e.jsx)(Ie,{className:"w-4 h-4"})}),P?.limitReached&&(0,e.jsx)("span",{className:"button-limit-overlay",children:"Limit reached"}),p.behaviorType==="secret"&&S.secretUnlocked&&(0,e.jsx)("span",{className:"button-secret-pill",children:"Secret ready"})]}),E?.badge&&(0,e.jsx)("div",{className:"mt-1 text-[11px] text-center text-purple-300 font-semibold",children:E.badge}),P?.mode&&(0,e.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-0.5",children:["Mode: ",P.mode]}),p.behaviorType==="playlist"&&B.length>0&&(0,e.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-1",children:["Now playing: ",B[S.playlistIndex%B.length]]}),t.toggleMode?.enabled&&(0,e.jsx)("div",{className:"text-[11px] text-center mt-1",style:{color:S.isActive?"#10B981":"#F87171"},children:S.isActive?"Active - Logging":"Inactive"}),t.dataAware?.enabled&&(0,e.jsxs)("div",{className:`mt-1 text-[11px] flex items-center gap-1 justify-center ${U?.status==="warning"?"text-amber-400":U?.status==="success"?"text-emerald-400":"text-neutral-400"}`,children:[(0,e.jsx)("span",{children:U?.icon||"⚡"}),(0,e.jsxs)("span",{children:[t.dataAware.metricLabel||"Metric",": ",fe,"/",t.dataAware.goal||0]})]}),t.inputMode?.enabled&&S.awaitingInput&&(0,e.jsxs)("div",{className:"mt-2 w-full bg-white/10 border border-white/20 rounded-lg p-3 space-y-2",children:[(0,e.jsx)("label",{className:"text-[11px] uppercase tracking-wide text-neutral-200 font-semibold",children:t.inputMode.label||"Add quick note"}),(0,e.jsx)("input",{type:"text",value:S.inputValue,onChange:ue=>Ee(p.id,ue.target.value),placeholder:t.inputMode.placeholder,className:"w-full bg-black/20 border border-white/20 rounded px-3 py-2 text-sm text-white focus:border-purple-400 outline-none"}),ce.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:ce.map(ue=>(0,e.jsx)("button",{type:"button",className:"text-[10px] px-2 py-1 bg-white/5 rounded-full text-neutral-300 border border-white/10 hover:border-purple-400",onClick:()=>Ee(p.id,ue),children:ue},ue))}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{type:"button",className:"flex-1 bg-purple-600 text-white rounded px-3 py-1.5 text-xs font-semibold hover:bg-purple-500",onClick:()=>Me(p.id),children:"Run Macro"}),(0,e.jsx)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded border border-white/20 text-neutral-300 hover:text-white",onClick:()=>nt(p.id),children:"Cancel"})]})]}),S.macroLog.length>0&&(0,e.jsx)("div",{className:"mt-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2 space-y-1 max-w-xs",children:S.macroLog.slice(-3).map((ue,Se)=>(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(ve,{className:"w-3 h-3 text-purple-300"}),(0,e.jsx)("span",{children:ue})]},`${p.id}-log-${Se}`))}),p.behaviorType==="secret"&&S.secretUnlocked&&(0,e.jsx)("div",{className:"mt-2 text-[11px] text-purple-200 bg-purple-900/30 border border-purple-500/40 rounded p-2",children:"Secret UI unlocked! Tap to run hidden macros."}),(0,e.jsxs)("div",{className:"absolute top-0 right-0 p-1 bg-neutral-800 rounded-bl-lg opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[(0,e.jsx)("button",{onClick:()=>xe(p.id),className:"p-1 rounded bg-blue-500 hover:bg-blue-600 text-white text-xs",children:(0,e.jsx)(rr,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>Y(p.id),className:"p-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs",children:(0,e.jsx)(Ye,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>g(p.id),className:"p-1 rounded bg-gray-500 hover:bg-gray-600 text-white text-xs",children:(0,e.jsx)(Fo,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>me(p.id),className:"p-1 rounded bg-red-500 hover:bg-red-600 text-white text-xs",children:(0,e.jsx)(Pr,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>ke(p.id,"up"),disabled:j===0,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,e.jsx)(_o,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>ke(p.id,"down"),disabled:j===a.length-1,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,e.jsx)(Ut,{className:"w-3 h-3"})})]})]},p.id)})}),brandKitInfo&&(0,e.jsxs)("div",{className:"mt-8 w-full max-w-2xl bg-white/5 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Brand Kit"}),(0,e.jsx)("p",{className:"text-sm font-semibold text-white",children:brandKitInfo.label}),brandKitInfo.appliedAt&&(0,e.jsxs)("p",{className:"text-[10px] text-neutral-400 mt-0.5",children:["Synced ",new Date(brandKitInfo.appliedAt).toLocaleString()]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>y(!0),children:"Guide"}),(0,e.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>k("global"),children:"Surface Settings"})]})]}),(0,e.jsx)("p",{className:"text-[11px] text-neutral-400",children:"Colors pulled from your Brand Theme Generator snapshot are powering this widget."}),brandKitInfo.swatches.length>0&&(0,e.jsx)("div",{className:"grid grid-cols-2 gap-3",children:brandKitInfo.swatches.map(({label:p,color:j})=>(0,e.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,e.jsx)("div",{className:"h-10 rounded-md border border-white/10 mb-1",style:{backgroundColor:j||"#0B0E12"}}),(0,e.jsx)("div",{className:"text-[10px] uppercase text-neutral-400",children:p}),(0,e.jsx)("div",{className:"text-[11px] font-mono text-neutral-200",children:j||"--"})]},`${p}-${j}`))}),brandKitInfo.palette.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:brandKitInfo.palette.map((p,j)=>(0,e.jsxs)("div",{className:"flex flex-col items-center",children:[(0,e.jsx)("div",{className:"w-8 h-8 rounded-full border border-white/15",style:{backgroundColor:p}}),(0,e.jsx)("span",{className:"text-[9px] text-neutral-400 mt-1",children:p})]},`${p}-${j}`))})]}),P&&(0,e.jsxs)("div",{className:"mt-6 w-full max-w-2xl bg-black/30 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Notion Integration"}),(0,e.jsx)("p",{className:"text-base font-semibold text-white",children:P.databaseLabel}),(0,e.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-300 mt-1 flex-wrap",children:[(0,e.jsxs)("span",{className:"flex items-center gap-1",children:[(0,e.jsx)(Eo,{className:"w-4 h-4 text-purple-300"}),P.actionLabel]}),(0,e.jsxs)("span",{className:"flex items-center gap-1",children:[(0,e.jsx)(xo,{className:"w-4 h-4 text-purple-300"}),P.template||"No template selected"]})]})]}),(0,e.jsx)("button",{type:"button",className:"ml-auto text-xs px-3 py-1.5 rounded-md bg-purple-600 text-white font-semibold hover:bg-purple-500 transition-colors",onClick:()=>k("notionIntegration"),children:"Customize Sync"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"text-xs uppercase text-neutral-400",children:"Prefill Properties"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:P.prefill.length>0?P.prefill.map(({key:p,value:j})=>(0,e.jsxs)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/15 text-[11px] text-neutral-200",children:[p,": ",(0,e.jsx)("span",{className:"text-white",children:j||"value"})]},`${p}-${j}`)):(0,e.jsx)("span",{className:"text-[11px] text-neutral-500",children:"No prefill properties configured."})})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{className:`p-3 rounded-lg border ${P.unlockReady?"border-emerald-400 bg-emerald-500/10":"border-amber-300/50 bg-amber-500/10"}`,children:[(0,e.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,e.jsx)("span",{children:"Unlock Field"}),(0,e.jsx)("span",{children:P.unlockReady?"Unlocked":"Locked"})]}),(0,e.jsx)("div",{className:"text-sm font-semibold text-white mt-1",children:P.unlockField||"No field selected"}),!P.unlockReady&&P.unlockValue&&(0,e.jsxs)("div",{className:"text-xs text-neutral-300 mt-1",children:["Waiting for ",(0,e.jsx)("span",{className:"font-semibold",children:P.unlockValue})," (current: ",P.currentFieldValue||"n/a",")"]})]}),P.conditionalLabel&&(0,e.jsxs)("div",{className:"p-3 rounded-lg border border-purple-400/30 bg-purple-500/10",children:[(0,e.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,e.jsx)("span",{children:P.conditionalLabel}),(0,e.jsx)("span",{children:P.conditionResolved?"Condition Met":"Waiting"})]}),(0,e.jsx)("div",{className:"text-sm text-white mt-1",children:P.conditionalAction||"No fallback action configured"})]})]}),(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase text-neutral-400",children:[(0,e.jsxs)("span",{children:[(0,e.jsx)(No,{className:"w-3 h-3 inline mr-1"})," Structured Log Preview"]}),(0,e.jsxs)("span",{children:[structuredLog.length,"/5 entries"]})]}),structuredLog.length===0?(0,e.jsx)("div",{className:"text-[11px] text-neutral-500 bg-white/5 rounded-lg px-3 py-2",children:"Run the button to see the Notion payload preview."}):(0,e.jsx)("div",{className:"space-y-1",children:structuredLog.map(p=>(0,e.jsxs)("div",{className:"flex items-center justify-between text-[11px] bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-neutral-200",children:[(0,e.jsxs)("span",{children:[p.timestamp," - ",p.buttonLabel,p.behavior?` (${p.behavior})`:""]}),(0,e.jsx)("span",{className:"text-purple-300",children:p.action})]},p.id))}),(0,e.jsxs)("div",{className:"text-[10px] text-neutral-400",children:["Destination: ",(0,e.jsx)("span",{className:"text-neutral-200",children:P.logDestination})]})]})]}),l&&(0,e.jsxs)("div",{className:"mt-8 p-4 border rounded-lg shadow-lg bg-white w-full max-w-lg z-20",children:[(0,e.jsxs)("h3",{className:"font-bold text-lg mb-4 flex justify-between items-center",children:["Edit Button: ",a.find(p=>p.id===l)?.label,(0,e.jsx)("button",{onClick:()=>g(null),className:"text-neutral-500 hover:text-neutral-700",children:(0,e.jsx)(Je,{className:"w-4 h-4"})})]}),v!==-1&&(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Label"}),(0,e.jsx)("input",{type:"text",value:a[v].label,onChange:p=>pe(l,"label",p.target.value),className:"w-full p-2 border rounded-md"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Icon"}),(0,e.jsx)("input",{type:"text",value:a[v].icon,onChange:p=>pe(l,"icon",p.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., ✨"})]}),(0,e.jsxs)("label",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"checkbox",checked:a[v].hideIcon,onChange:p=>pe(l,"hideIcon",p.target.checked)})," Hide Icon"]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"URL"}),(0,e.jsx)("input",{type:"url",value:a[v].url,onChange:p=>pe(l,"url",p.target.value),className:"w-full p-2 border rounded-md",placeholder:"https://domain.ext/path"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Color Presets"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(z).map(p=>(0,e.jsx)("button",{onClick:()=>D(l,p),className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:z[p].bgColor,color:z[p].textColor},children:p},p))})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Advanced Colors"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Background Color"}),(0,e.jsx)("input",{type:"color",value:a[v].bgColor,onChange:p=>pe(l,"bgColor",p.target.value)})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-700",children:["Background Opacity (",a[v].bgOpacity,"%)"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:a[v].bgOpacity,onChange:p=>pe(l,"bgOpacity",parseInt(p.target.value,10))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Outline Color"}),(0,e.jsx)("input",{type:"color",value:a[v].outlineColor,onChange:p=>pe(l,"outlineColor",p.target.value)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Text Color"}),(0,e.jsx)("input",{type:"color",value:a[v].textColor,onChange:p=>pe(l,"textColor",p.target.value)})]}),(0,e.jsxs)("label",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"checkbox",checked:a[v].enableHoverHighlight,onChange:p=>pe(l,"enableHoverHighlight",p.target.checked)})," Enable Hover Highlight"]}),a[v].enableHoverHighlight&&(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Background Color"}),(0,e.jsx)("input",{type:"color",value:a[v].hoverBgColor,onChange:p=>pe(l,"hoverBgColor",p.target.value)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Text Color"}),(0,e.jsx)("input",{type:"color",value:a[v].hoverTextColor,onChange:p=>pe(l,"hoverTextColor",p.target.value)})]})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Layout Options"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Size"}),(0,e.jsxs)("select",{value:a[v].size,onChange:p=>pe(l,"size",p.target.value),className:"w-full p-2 border rounded-md",children:[(0,e.jsx)("option",{value:"small",children:"Small"}),(0,e.jsx)("option",{value:"medium",children:"Medium"}),(0,e.jsx)("option",{value:"large",children:"Large"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Corner Rounding"}),(0,e.jsxs)("select",{value:a[v].rounding,onChange:p=>pe(l,"rounding",p.target.value),className:"w-full p-2 border rounded-md",children:[(0,e.jsx)("option",{value:"none",children:"None"}),(0,e.jsx)("option",{value:"slight",children:"Slight"}),(0,e.jsx)("option",{value:"round",children:"Round"})]})]})]})]})]}),(0,e.jsxs)("button",{onClick:we,className:"mt-8 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[(0,e.jsx)(Yt,{className:"w-4 h-4"})," Add Button"]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>k("macroInput"),children:"Customize Modes"}),C&&(0,e.jsx)("div",{className:"absolute inset-0 z-40 bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:(0,e.jsxs)("div",{className:"max-h-full overflow-y-auto w-full max-w-4xl bg-[#0B0E12] border border-white/15 rounded-2xl p-6 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{className:"text-xs uppercase tracking-wide text-neutral-400 flex items-center gap-2",children:[(0,e.jsx)(zo,{className:"w-4 h-4 text-purple-300"}),"Configuration Playbook"]}),(0,e.jsx)("p",{className:"text-xl font-semibold text-white",children:"Customize every mode"}),(0,e.jsx)("p",{className:"text-sm text-neutral-300",children:"Use this quick reference whenever the Customize button is unavailable."})]}),(0,e.jsxs)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-md border border-white/20 text-neutral-200 hover:text-white hover:border-purple-400 transition-colors flex items-center gap-1",onClick:()=>y(!1),children:[(0,e.jsx)(Je,{className:"w-3 h-3"})," Close"]})]}),(0,e.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:ts.map(p=>(0,e.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-start gap-2",children:[(0,e.jsx)(Gt,{className:"w-4 h-4 text-purple-300 mt-1"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-sm font-semibold text-white",children:p.title}),(0,e.jsx)("p",{className:"text-xs text-neutral-300",children:p.description})]})]}),(0,e.jsx)("ul",{className:"space-y-1 text-xs text-neutral-200",children:p.items.map(j=>(0,e.jsxs)("li",{children:[(0,e.jsxs)("span",{className:"font-semibold text-white",children:[j.title,":"]})," ",j.body]},`${p.title}-${j.title}`))})]},p.title))})]})}),(0,e.jsx)("style",{children:`
        .button-live-preview {
          position: relative;
          outline: none;
          border: none;
          overflow: hidden;
          background: transparent;
        }
        .button-live-preview:hover:not(:disabled) {
          transform: translateY(-2px);
        }
        .button-live-preview--processing {
          opacity: 0.85;
        }
        .button-live-preview--active {
          animation: activeGlow 2.2s ease-in-out infinite;
        }
        .button-badge {
          position: absolute;
          top: 6px;
          right: 10px;
          background: rgba(0,0,0,0.3);
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          line-height: 1;
          border: 1px solid rgba(255,255,255,0.3);
        }
        .button-progress-ring {
          position: absolute;
          inset: 4px;
          border-radius: 999px;
          border: 2px solid rgba(255,255,255,0.2);
          border-top-color: rgba(255,255,255,0.7);
          animation: progressSpin 2.4s linear infinite;
          pointer-events: none;
        }
        .button-ripple {
          position: absolute;
          inset: -20%;
          border-radius: 50%;
          background: radial-gradient(circle, rgba(255,255,255,0.35) 0%, transparent 60%);
          animation: ripple 0.8s ease-out;
          pointer-events: none;
        }
        .button-energy-ring {
          position: absolute;
          inset: -6px;
          border-radius: 999px;
          background: conic-gradient(#8B5CF6 0deg, transparent 0deg);
          opacity: 0.7;
          transition: background 0.3s ease;
          pointer-events: none;
        }
        .button-live-preview--complete::after {
          content: '';
        }
        .button-complete {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(16,185,129,0.2);
          animation: completePop 0.4s ease forwards;
        }
        .button-done-pill {
          position: absolute;
          bottom: 6px;
          left: 10px;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          background: rgba(16,185,129,0.15);
          color: #059669;
          border: 1px solid rgba(16,185,129,0.35);
        }
        .button-done-pill svg {
          width: 12px;
          height: 12px;
        }
        .button-unlock-pill {
          position: absolute;
          top: 6px;
          left: 10px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          border: 1px solid rgba(251,191,36,0.6);
          background: rgba(251,191,36,0.15);
          color: #FBBF24;
        }
        .button-unlock-pill--ready {
          border-color: rgba(16,185,129,0.7);
          background: rgba(16,185,129,0.2);
          color: #10B981;
        }
        .button-limit-overlay {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(11,14,18,0.65);
          color: #F87171;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
        }
        .button-live-preview--streak {
          animation: streakGlow 1.8s ease-in-out infinite;
        }
        .button-live-preview--limited {
          opacity: 0.55;
        }
        .button-secret-pill {
          position: absolute;
          top: 6px;
          right: 10px;
          padding: 2px 6px;
          font-size: 10px;
          border-radius: 999px;
          background: rgba(168,85,247,0.2);
          border: 1px solid rgba(168,85,247,0.5);
          color: #E9D5FF;
          text-transform: uppercase;
          letter-spacing: 0.04em;
        }
        @keyframes activeGlow {
          0%, 100% { box-shadow: 0 0 12px rgba(139,92,246,0.45); }
          50% { box-shadow: 0 0 24px rgba(59,130,246,0.55); }
        }
        @keyframes streakGlow {
          0%, 100% { box-shadow: 0 0 18px rgba(59,130,246,0.45); }
          50% { box-shadow: 0 0 30px rgba(236,72,153,0.55); }
        }
        @keyframes ripple {
          from { transform: scale(0.6); opacity: 0.8; }
          to { transform: scale(1.2); opacity: 0; }
        }
        @keyframes progressSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes completePop {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})};var ls={id:"initial",label:"Button",icon:"?",hideIcon:!1,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:"",url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"};const is={id:"newButtonGenerator",label:"Button Generator",icon:"MousePointerClick",description:"Create customizable buttons with advanced styling and actions.",defaultConfig:{buttons:[ls],layout:"horizontal",alignment:"center",useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:q.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0,macroMode:{enabled:!0,actions:[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],actionsText:["log|Log quick note|180","toggle|Toggle active state|160","openLink|Open linked page|220"].join(`
`)},inputMode:{enabled:!0,label:"Add quick note",placeholder:"Add quick note or intention...",hints:["Add quick note","Add task title","Add pomodoro session notes"]},cycleMode:{enabled:!0,values:[{id:"start",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],valuesText:["Start >|Focus|#8B5CF6","Pause |||Rest|#F59E0B","Skip >>|Move|#06B6D4","Complete Done|Ship|#10B981"].join(`
`)},toggleMode:{enabled:!0,startActive:!1,glowWhenActive:!0,logToNotion:!0},visuals:{enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0,badgeLabel:"Logs today"},notionIntegration:{enabled:!0,database:"tasks",action:"create",template:"Daily Log",prefillPropertiesText:"Status=In Progress;Owner=Me",logEntries:!0,logDestination:"Console Preview",unlockField:"Mode",unlockValue:"Focus",currentFieldValue:"Focus",twoWay:{taskCompleted:!1,limitReached:!1,mode:"Focus"},conditional:{label:"If timer active",conditionMet:!1,thenAction:"Pause timer",elseAction:"Start focus"}},dataAware:{enabled:!0,metricLabel:"Logs today",sampleValue:3,goal:5,warningThreshold:2,statusIcon:"⚡",tasksIncomplete:!1,pomodoroStreakActive:!1,propertyDone:!1,doneLabel:"Marked Done",timerActive:!1,streakBroken:!1,projectTag:"General",projectTagTarget:"Music",musicTooltip:"Logs in Music DB",projectTagColor:"#C026D3",dynamicLabelsText:`Press Me
Let's cook 🔥
Energy +1
Keep grinding`}},sections:[{id:"global",label:"1. WIDGET SURFACE",description:"Dial in the canvas surrounding your buttons - transparency, background colors, and appearance mode."},{id:"layout",label:"2. BUTTON MODES",description:"Modes create entire categories of button behavior.",notes:[{title:"Action Mode",body:"Executes a single action such as logging, toggling, or opening a link."}]},{id:"macroInput",label:"3. MACRO + INPUT MODES",description:"Macro Mode chains multiple actions, while Input Mode collects context before launching the macro.",notes:[{title:"Macro Mode",body:"Executes sequential actions such as logging, toggling, opening links or changing states."},{title:"Input Mode",body:"Shows a miniature note field before running macros (quick note, task title, pomodoro notes, etc.)."}]},{id:"cycleToggle",label:"4. CYCLE + TOGGLE STATES",description:"Each press can cycle through preset states or flip a persistent toggle with Notion logging.",notes:[{title:"Cycle Mode",body:"Cycle through styles/statuses/views each press (Start, Pause, Skip, Complete)."},{title:"Toggle Mode",body:"Button keeps an Active/Inactive state, glows while active, and logs state changes."}]},{id:"notionIntegration",label:"5. NOTION INTEGRATION FEATURES",description:"Connect each button to a Notion database, templates, structured logs, and two-way conditions.",notes:[{title:"Connect to Database",body:"Pick Tasks, Journal, Habits, or Pomodoros and choose Create, Update, or Toggle actions."},{title:"Templates and Prefill",body:"Assign database templates and property defaults per button."},{title:"Two-Way Sync",body:"Grey out or switch modes when Notion properties hit certain states (completed, limits, focus modes)."},{title:"Conditional Actions",body:"If property/value matches, route to alternate actions (pause vs start, etc.)."}]},{id:"visuals",label:"6. VISUAL & INTERACTIVE FEATURES",description:"Make the button feel worth clicking with tactile feedback.",notes:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts."},{title:"Particle or Trace Effects",body:"Neon ripple, energy pulse, pixel burst, glow sweep, magnetic hover."},{title:"Active Duration Glow",body:"Pulses, color shifts, and progress arcs while the macro runs."},{title:"Button Badges",body:"Counts, status icons, warning dots, or data pills."}]},{id:"dataAware",label:"7. DATA-AWARE BUTTONS",description:"Buttons that adapt visually based on Notion data (counts, targets, warnings).",notes:[{title:"Visual cues",body:"Success aura on goal reached, warning glow when under target, metric badges."}]}],fields:[{name:"useTransparentBackground",label:"Transparent Widget Background",type:"boolean",section:"global"},{name:"setBackgroundColor",label:"Set Widget Background Color",type:"boolean",section:"global"},{name:"backgroundColor",label:"Widget Background Color",type:"color",section:"global"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"global",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"global"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"global"},{name:"layout",label:"Button Layout",type:"select",section:"layout",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Full Width",value:"full-width"},{label:"Vertical Stack",value:"vertical-stack"},{label:"Inline Cluster",value:"inline-cluster"},{label:"Linked Row",value:"linked-row"},{label:"Grid",value:"grid"}]},{name:"alignment",label:"Button Alignment",type:"select",section:"layout",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Space Evenly",value:"space-evenly"}]},{name:"macroMode.enabled",label:"Enable Macro Mode",type:"boolean",section:"macroInput"},{name:"macroMode.actionsText",label:"Macro Action Sequence (type|label|delay)",type:"textarea",rows:3,section:"macroInput"},{name:"inputMode.enabled",label:"Enable Input Prompt",type:"boolean",section:"macroInput"},{name:"inputMode.label",label:"Input Prompt Label",type:"text",section:"macroInput"},{name:"inputMode.placeholder",label:"Input Placeholder",type:"text",section:"macroInput"},{name:"inputMode.hints",label:"Input Hints (one per line)",type:"textarea",rows:3,section:"macroInput"},{name:"cycleMode.enabled",label:"Enable Cycle Mode",type:"boolean",section:"cycleToggle"},{name:"cycleMode.valuesText",label:"Cycle Presets (label|badge|color)",type:"textarea",rows:4,section:"cycleToggle"},{name:"toggleMode.enabled",label:"Enable Toggle Mode",type:"boolean",section:"cycleToggle"},{name:"toggleMode.startActive",label:"Start Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.glowWhenActive",label:"Glow When Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.logToNotion",label:"Log Toggle State (Notion)",type:"boolean",section:"cycleToggle"},{name:"notionIntegration.enabled",label:"Enable Notion Integration",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.database",label:"Database",type:"select",section:"notionIntegration",options:[{label:"Tasks",value:"tasks"},{label:"Journal",value:"journal"},{label:"Habits",value:"habits"},{label:"Pomodoros",value:"pomodoros"}]},{name:"notionIntegration.action",label:"Action",type:"select",section:"notionIntegration",options:[{label:"Create Row",value:"create"},{label:"Update Property",value:"update"},{label:"Toggle Checkbox",value:"toggle"}]},{name:"notionIntegration.template",label:"Template Name",type:"text",section:"notionIntegration"},{name:"notionIntegration.prefillPropertiesText",label:"Prefill Properties (key=value;key=value)",type:"textarea",rows:2,section:"notionIntegration"},{name:"notionIntegration.logEntries",label:"Structured Logging",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.logDestination",label:"Log Destination",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockField",label:"Unlock Field",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockValue",label:"Unlock Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.currentFieldValue",label:"Current Field Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.twoWay.taskCompleted",label:"Two-Way - Task Completed",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.limitReached",label:"Two-Way - Limit Reached",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.mode",label:"Two-Way - Mode Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.label",label:"Conditional Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.conditionMet",label:"Conditional – Condition Met",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.conditional.thenAction",label:"Conditional – If True Action",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.elseAction",label:"Conditional – If False Action",type:"text",section:"notionIntegration"},{name:"visuals.enableParticleEffects",label:"Enable Particle Effects",type:"boolean",section:"visuals"},{name:"visuals.activeGlow",label:"Active Duration Glow",type:"boolean",section:"visuals"},{name:"visuals.showProgressArc",label:"Show Progress Arc",type:"boolean",section:"visuals"},{name:"visuals.badgesEnabled",label:"Show Button Badges",type:"boolean",section:"visuals"},{name:"visuals.badgeLabel",label:"Badge Label",type:"text",section:"visuals"},{name:"dataAware.enabled",label:"Enable Data-Aware Styling",type:"boolean",section:"dataAware"},{name:"dataAware.metricLabel",label:"Metric Label",type:"text",section:"dataAware"},{name:"dataAware.sampleValue",label:"Sample value",type:"number",section:"dataAware"},{name:"dataAware.goal",label:"Goal target",type:"number",section:"dataAware"},{name:"dataAware.warningThreshold",label:"Warning threshold",type:"number",section:"dataAware"},{name:"dataAware.statusIcon",label:"Status Icon",type:"text",section:"dataAware"},{name:"dataAware.tasksIncomplete",label:"Mark as Tasks Incomplete",type:"boolean",section:"dataAware"},{name:"dataAware.pomodoroStreakActive",label:"Pomodoro Streak Active",type:"boolean",section:"dataAware"},{name:"dataAware.propertyDone",label:"Property Marked Done",type:"boolean",section:"dataAware"},{name:"dataAware.doneLabel",label:"Done Badge Label",type:"text",section:"dataAware"},{name:"dataAware.timerActive",label:"Timer Currently Active",type:"boolean",section:"dataAware"},{name:"dataAware.streakBroken",label:"Streak Broken",type:"boolean",section:"dataAware"},{name:"dataAware.projectTag",label:"Current Project Tag",type:"text",section:"dataAware"},{name:"dataAware.projectTagTarget",label:"Music Tag Target",type:"text",section:"dataAware"},{name:"dataAware.musicTooltip",label:"Music Tag Tooltip",type:"text",section:"dataAware"},{name:"dataAware.projectTagColor",label:"Music Tag Accent Color",type:"color",section:"dataAware"},{name:"dataAware.dynamicLabelsText",label:"Dynamic Labels (one per line)",type:"textarea",rows:4,section:"dataAware"}]};var Ot=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return t.replace(/[&<>'"]/g,r=>o[r])};const cs=t=>{const o=t.useTransparentBackground?"transparent":t.backgroundColor,r=Array.isArray(t.buttons)?t.buttons:[],s=d=>{const c=d.rounding==="none"?"0px":d.rounding==="slight"?"8px":"9999px",a=d.size==="small"?"8px 16px":d.size==="large"?"16px 32px":"12px 24px",m=d.size==="small"?"0.875rem":d.size==="large"?"1.25rem":"1rem",l=d.outlineColor==="transparent"?"0px":"1px",g=d.enableHoverHighlight?d.hoverBgColor:d.bgColor,n=d.enableHoverHighlight?d.hoverTextColor:d.textColor;return`
          background-color: ${d.bgColor}${d.bgOpacity<100?Math.round(255*(d.bgOpacity/100)).toString(16).padStart(2,"0"):""};
          color: ${d.textColor};
          border: ${l} solid ${d.outlineColor};
          border-radius: ${c};
          padding: ${a};
          font-size: ${m};
          font-family: inherit;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          text-decoration: none;
          cursor: pointer;
          flex-shrink: 0;
          width: ${t.layout==="full-width"?"100%":"auto"};
          text-align: center;
          box-shadow: 0 0 ${q.effects.glowBlur} rgba(0,0,0,0.2);
          transition: all 0.2s ease-in-out;
          --hover-bg: ${g};
          --hover-text: ${n};
      `};return`
    <div style="
      display: flex; 
      align-items: center; 
      justify-content: center; 
      height: 100vh; 
      width: 100vw; 
      background: ${o};
      padding: 16px;
      box-sizing: border-box;
    ">
      <div style="${`
      display: flex;
      gap: 16px;
      flex-wrap: ${t.layout==="vertical"?"nowrap":"wrap"};
      flex-direction: ${t.layout==="vertical"?"column":"row"};
      justify-content: ${t.alignment==="space-evenly"?"space-evenly":t.alignment==="center"?"center":t.alignment==="left"?"flex-start":"flex-end"};
      width: ${t.layout==="full-width"?"100%":"auto"};
      height: 100%;
      align-items: ${t.layout==="full-width"&&t.alignment==="center"?"center":t.layout==="full-width"&&t.alignment==="left"?"flex-start":t.layout==="full-width"&&t.alignment==="right"?"flex-end":"initial"}; /* Adjusted for full-width alignment */
  `}">
        ${r.map(d=>`
          <a href="${Ot(d.url)}" target="_blank" rel="noopener noreferrer" 
             style="${s(d)}"
             class="generated-button"
          >
            ${d.hideIcon?"":Ot(d.icon)}
            <span>${Ot(d.label)}</span>
          </a>
        `).join("")}
      </div>
      <style>
        .generated-button:hover {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      </style>
    </div>
  `},ds=()=>"";var Nt={background:"#0B0E12",text:"#F8F9FF",primary:"#8B5CF6",secondary:"#3B82F6"};const Be=(t,o={})=>{if(!t)return null;const r=typeof t=="object"?t:{},s=Array.isArray(r.palette)?r.palette:[],d=o.backgroundColor??r.backgroundColor??r.background??s[s.length-1]??Nt.background,c=o.textColor??r.textColor??r.text??s[0]??Nt.text,a=o.clockColor??r.clockColor??r.primaryColor??r.primary??Nt.primary,m=o.digitColor??r.digitColor??r.secondaryColor??r.secondary??Nt.secondary,l=o.accentColor??r.accentColor??r.accent??a,g=o.presetName??r.presetName??r.name,n={...r,...o,palette:s,presetName:g,name:r.name||g||"Custom Brand Theme",background:d,text:c,primary:r.primary??a,secondary:r.secondary??m,accent:r.accent??l,backgroundColor:d,textColor:c,clockColor:a,digitColor:m,accentColor:l};return n.colors={...r.colors,background:d,text:c,primary:n.primary,secondary:n.secondary,accent:n.accent,palette:s},n};var Fr=(t,o,r)=>"#"+[t,o,r].map(s=>{const d=s.toString(16);return d.length===1?"0"+d:d}).join(""),$t=t=>{const r=(a=>{const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return m?{r:parseInt(m[1],16),g:parseInt(m[2],16),b:parseInt(m[3],16)}:null})(t);if(!r)return 0;const[s,d,c]=[r.r,r.g,r.b].map(a=>(a=a/255,a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)));return .2126*s+.7152*d+.0722*c},us=t=>[...t].sort((o,r)=>$t(o)-$t(r)),no=({onColorsExtracted:t,onLogoUploaded:o})=>{const[r,s]=(0,h.useState)(!1),[d,c]=(0,h.useState)(null),[a,m]=(0,h.useState)(null),[l,g]=(0,h.useState)([]),n=(0,h.useRef)(null),u=(0,h.useRef)(null),b=async C=>{const y=C.target.files?.[0];if(!y)return;s(!0);const x=new FileReader;x.onload=_=>{const k=_.target.result;c(k),o&&o(k)},x.readAsDataURL(y)},w=C=>{if(!C||!C.palette||C.palette.length===0)return[];const y=us(C.palette),x=y[0],_=y[y.length-1],k=C.primary||x,N=C.secondary||y[1]||x,v=C.accent,z=[],G=(W,re=null)=>{const $={...q,colors:{...q.colors,primary:k,secondary:N,accent:v,background:W.backgroundColor,text:W.textColor,palette:C.palette},...W};return $.isDark=re!==null?re:$t($.colors.background)<.5,Be($)};return z.push(G({id:"vibrant",name:"Vibrant",backgroundColor:_,textColor:x,primaryColor:k,secondaryColor:N,accentColor:v,panelColor:k,digitColor:_})),z.push(G({id:"dark-mode",name:"Dark Mode",backgroundColor:x,textColor:_,primaryColor:k,secondaryColor:N,accentColor:v,panelColor:x,digitColor:_},!0)),z.push(G({id:"light-mode",name:"Light Mode",backgroundColor:_,textColor:x,primaryColor:k,secondaryColor:N,accentColor:v,panelColor:_,digitColor:x},!1)),z},T=()=>{if(!u.current)return;const C=new tt;try{const y=C.getColor(u.current),x=C.getPalette(u.current,8);if(!y||!x||x.length===0){s(!1),c(null);return}const _=x.map(v=>Fr(v[0],v[1],v[2])),k=Fr(y[0],y[1],y[2]),N=Be({...q,primary:k,secondary:_[1]||_[0],accent:_[2]||_[1],background:_[_.length-1],text:_[0],palette:_,colors:{...q.colors,primary:k,secondary:_[1]||_[0],accent:_[2]||_[1]}});m(N),g(w(N)),s(!1),t&&t(N)}catch{s(!1),c(null)}};return(0,e.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-900/20 to-blue-900/20 rounded-lg mb-4 border border-purple-500/30",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)(ve,{className:"w-4 h-4 text-purple-400"}),(0,e.jsx)("h4",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold",children:"Brand Logo Color Extraction"})]}),(0,e.jsx)("input",{ref:n,type:"file",accept:"image/*",onChange:b,className:"hidden"}),d?(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("img",{ref:u,src:d,alt:"Brand logo",crossOrigin:"anonymous",onLoad:T,className:"w-full h-32 object-contain bg-white/5 rounded-lg"}),(0,e.jsx)("button",{onClick:()=>{c(null),m(null),g([]),o&&o(null),t&&t(null)},className:"absolute top-2 right-2 p-1 bg-red-500/80 hover:bg-red-500 rounded text-white",children:(0,e.jsx)(Je,{className:"w-4 h-4"})})]}),r&&(0,e.jsxs)("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[(0,e.jsx)(go,{className:"w-4 h-4 animate-spin"}),"Extracting colors..."]}),a&&(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[(0,e.jsx)(Ie,{className:"w-3 h-3"}),"Colors extracted successfully!"]}),(0,e.jsx)("div",{className:"grid grid-cols-4 gap-2",children:a.palette.map((C,y)=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"w-full h-10 rounded border border-white/20 shadow-lg",style:{backgroundColor:C},title:C}),(0,e.jsx)("div",{className:"text-[8px] text-white/50 mt-1 font-mono",children:C})]},y))}),l.length>0&&(0,e.jsxs)("div",{className:"mt-4",children:[(0,e.jsx)("h5",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold mb-2",children:"Theme Variations"}),(0,e.jsx)("div",{className:"flex gap-2 justify-center",children:l.map(C=>(0,e.jsxs)("button",{onClick:()=>t&&t(Be(C)),className:"flex flex-col items-center p-2 rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors",title:`Apply ${C.name} Theme`,children:[(0,e.jsx)("div",{className:"w-12 h-6 rounded-md mb-1",style:{background:C.backgroundColor,border:`1px solid ${C.primaryColor}`}}),(0,e.jsx)("span",{className:"text-[10px] text-white/70",children:C.name})]},C.id))})]})]})]}):(0,e.jsxs)("button",{onClick:()=>n.current?.click(),className:"w-full py-8 border-2 border-dashed border-purple-400/50 rounded-lg hover:border-purple-400 hover:bg-purple-500/10 transition-all flex flex-col items-center gap-2 text-purple-300 hover:text-purple-200",children:[(0,e.jsx)(ko,{className:"w-8 h-8"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:"Upload Brand Logo"}),(0,e.jsx)("span",{className:"text-xs text-purple-400/70",children:"Auto-extract colors for your widget"})]})]})},ps={clock:Tt,quotes:Dr,counter:Ar,imageGallery:tr,countdown:Or,newButtonGenerator:sr,weather:St},ms=()=>{if(typeof window>"u")return null;const t=window.localStorage.getItem("jazer_brand_theme");if(!t)return null;try{const o=JSON.parse(t);if(o&&o.palette&&Array.isArray(o.palette)&&o.palette.length>0)return Be(o);window.localStorage.removeItem("jazer_brand_theme")}catch{window.localStorage.removeItem("jazer_brand_theme")}return null},hs=({onBack:t,onThemeGenerated:o})=>{console.log("[BrandThemeGenerator v2] Component loaded - Dec 4 2024");const[r,s]=(0,h.useState)(()=>ms()),d=(0,h.useMemo)(()=>r?oo(r):[],[r]),[c,a]=(0,h.useState)(null),m=(0,h.useMemo)(()=>{if(!d.length)return null;if(c){const x=d.find(_=>_.id===c);if(x)return x}return d[0]},[d,c]),[l,g]=(0,h.useState)(!0),[n,u]=(0,h.useState)(!1),b=x=>{if(!x){s(null),a(null);return}const _=Be(x);s(_),a(null);try{localStorage.setItem("jazer_brand_theme",JSON.stringify(_))}catch{}},w=()=>{if(!r)return;const x=m?{...r,...m,palette:r?.palette||m.palette}:r,_=Be(x,{presetName:m?.name??x?.presetName,name:m?.name??x?.name});localStorage.setItem("jazer_global_brand_theme",JSON.stringify(_)),localStorage.setItem("jazer_global_brand_active","true"),o&&o(_),u(!0),setTimeout(()=>u(!1),3e3)},T=()=>{window.confirm("This will remove your custom brand theme from all widgets. Continue?")&&(s(null),a(null),localStorage.removeItem("jazer_brand_theme"),localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active"),o&&o(null))},C=()=>{if(!r)return;const x={name:"Custom Brand Theme",timestamp:new Date().toISOString(),colors:r,presets:d},_=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),k=URL.createObjectURL(_),N=document.createElement("a");N.href=k,N.download="brand-theme.json",N.click(),URL.revokeObjectURL(k)},y=x=>{navigator.clipboard.writeText(x)};return(0,e.jsxs)("div",{className:"min-h-screen p-8 md:p-16 animate-fadeIn",style:{backgroundColor:"#000000",color:"#F8F9FF"},children:[(0,e.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsx)("button",{onClick:t,className:"p-3 rounded-xl transition-all hover:scale-105 btn-ghost",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",color:"var(--jazer-cyan)"},children:(0,e.jsx)(or,{className:"w-5 h-5"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight animate-float",style:{fontFamily:"var(--font-primary)",background:"var(--gradient-text)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textTransform:"uppercase"},children:"Brand Theme Generator"}),(0,e.jsx)("p",{className:"text-lg mt-2",style:{color:"var(--text-gray)",fontFamily:"var(--font-body)"},children:"Extract colors from your logo and apply them to all widgets"})]})]}),r&&(0,e.jsxs)("div",{className:"flex gap-3",children:[(0,e.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105 animate-glow",style:{background:"var(--gradient-accent)",color:"white",border:"2px solid var(--border-pink)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,e.jsx)(er,{className:"w-4 h-4"}),"Export Theme"]}),(0,e.jsxs)("button",{onClick:T,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105",style:{background:"var(--bg-card)",color:"var(--text-gray)",border:"2px solid var(--border-default)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,e.jsx)(nr,{className:"w-4 h-4"}),"Clear Theme"]})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,e.jsx)("div",{className:"space-y-6 animate-fadeInUp",children:(0,e.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-cyan)",boxShadow:"var(--shadow-cyan)"},children:[(0,e.jsx)(no,{onColorsExtracted:b}),r&&r.palette&&(0,e.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider",style:{color:"var(--text-gray)",fontFamily:"var(--font-secondary)"},children:"Extracted Colors"}),(0,e.jsx)("button",{onClick:()=>g(!l),className:"p-1 rounded transition-colors",style:{color:"var(--text-gray)"},children:l?(0,e.jsx)(fo,{className:"w-4 h-4"}):(0,e.jsx)(rt,{className:"w-4 h-4"})})]}),l&&r.palette&&Array.isArray(r.palette)&&(0,e.jsx)("div",{className:"grid grid-cols-4 gap-3",children:r.palette.map((x,_)=>(0,e.jsxs)("button",{onClick:()=>y(x),className:"group relative text-center transition-transform hover:scale-110",title:`Click to copy ${x}`,children:[(0,e.jsx)("div",{className:"w-full h-16 rounded-lg border-2 transition-all",style:{backgroundColor:x,borderColor:"rgba(255, 255, 255, 0.2)"}}),(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:(0,e.jsx)(rr,{className:"w-4 h-4",style:{color:"white"}})}),(0,e.jsx)("div",{className:"text-[9px] font-mono mt-1",style:{color:"var(--text-gray)"},children:x})]},_))}),(0,e.jsx)("button",{onClick:w,disabled:n,className:"w-full py-5 rounded-xl font-black text-lg flex items-center justify-center gap-3 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed animate-glow",style:{background:n?"linear-gradient(135deg, #00f2ea 0%, #4facfe 100%)":"var(--gradient-accent)",color:"white",fontFamily:"var(--font-primary)",textTransform:"uppercase",letterSpacing:"0.05em",border:n?"2px solid var(--jazer-cyan)":"2px solid var(--border-pink)",boxShadow:n?"var(--shadow-cyan)":"var(--shadow-card)"},children:n?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ie,{className:"w-6 h-6"}),m?`${m.name} Applied!`:"Theme Applied!"]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ve,{className:"w-6 h-6"}),m?`Apply ${m.name}`:"Apply to All Widgets"]})}),(0,e.jsx)("p",{className:"text-xs text-center",style:{color:"var(--text-gray)"},children:m?`This will apply "${m.name}" preset to all widgets`:"This will set your brand colors as the default for all widgets"})]})]})}),(0,e.jsx)("div",{className:"space-y-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:(0,e.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-purple)",boxShadow:"var(--shadow-purple)"},children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,e.jsx)(Ye,{className:"w-7 h-7",style:{color:"var(--jazer-purple)"}}),(0,e.jsxs)("h3",{className:"text-2xl font-black",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:["Generated Presets (",d.length,")"]})]}),d.length===0?(0,e.jsxs)("div",{className:"text-center py-16 rounded-xl border-2 border-dashed",style:{borderColor:"var(--border-cyan)",color:"var(--text-gray)",background:"rgba(0, 242, 234, 0.05)"},children:[(0,e.jsx)(ve,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--jazer-cyan)",opacity:.6}}),(0,e.jsx)("p",{className:"text-xl font-bold",style:{fontFamily:"var(--font-secondary)",color:"white"},children:"Upload a logo to generate presets"}),(0,e.jsx)("p",{className:"text-sm mt-2",style:{fontFamily:"var(--font-body)"},children:"8 unique color schemes will be created automatically"})]}):(0,e.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:d.map(x=>(0,e.jsxs)("button",{onClick:()=>a(x.id),className:"w-full text-left p-5 rounded-xl transition-all hover:scale-[1.02]",style:{background:m?.id===x.id?"var(--gradient-card)":"var(--bg-card)",border:`2px solid ${m?.id===x.id?"var(--jazer-cyan)":"var(--border-default)"}`,boxShadow:m?.id===x.id?"var(--shadow-cyan)":"none"},children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-bold text-sm",style:{color:"white",fontFamily:"var(--font-secondary)"},children:x.name}),(0,e.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-gray)"},children:x.description})]}),m?.id===x.id&&(0,e.jsx)(Ie,{className:"w-5 h-5",style:{color:"var(--jazer-cyan)"}})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.backgroundColor},title:`Background: ${x.backgroundColor}`}),(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.clockColor},title:`Primary: ${x.clockColor}`}),(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.digitColor},title:`Digits: ${x.digitColor}`}),(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:x.textColor},title:`Text: ${x.textColor}`})]}),x.glow&&(0,e.jsxs)("div",{className:"mt-2 text-xs flex items-center gap-2",style:{color:"var(--jazer-cyan)"},children:[(0,e.jsx)(ve,{className:"w-3 h-3"}),"Includes glow effect"]})]},x.id))})]})})]}),r&&(0,e.jsxs)("div",{className:"glass-card animate-fadeInUp",style:{border:"2px solid var(--border-pink)",boxShadow:"var(--shadow-pink)",animationDelay:"0.2s"},children:[(0,e.jsxs)("h3",{className:"text-2xl font-black mb-6 flex items-center gap-3",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:[(0,e.jsx)(ve,{className:"w-7 h-7",style:{color:"var(--jazer-pink)"}}),"Widgets Using Your Brand Theme"]}),(0,e.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(ps).map(([x,_])=>(0,e.jsxs)("div",{className:"p-5 rounded-xl text-center transition-all hover:scale-105",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",boxShadow:"0 4px 12px rgba(0, 242, 234, 0.1)"},children:[(0,e.jsx)(_,{className:"w-10 h-10 mx-auto mb-3",style:{color:r?.primary||"var(--jazer-cyan)"}}),(0,e.jsx)("div",{className:"text-sm font-bold capitalize",style:{color:"white",fontFamily:"var(--font-secondary)"},children:x.replace(/([A-Z])/g," $1").trim()}),(0,e.jsx)("div",{className:"text-xs mt-1 font-medium",style:{color:"var(--jazer-cyan)",fontFamily:"var(--font-body)"},children:"Theme Active"})]},x))}),(0,e.jsx)("div",{className:"mt-6 p-5 rounded-xl",style:{background:"linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(255, 0, 110, 0.1))",border:"2px solid var(--border-purple)"},children:(0,e.jsxs)("p",{className:"text-sm leading-relaxed",style:{color:"white",fontFamily:"var(--font-body)"},children:["💡 ",(0,e.jsx)("strong",{style:{color:"var(--jazer-cyan)",fontWeight:700},children:"Pro Tip:"})," Your brand theme is saved locally and will be automatically applied to all widgets. You can always come back here to update or clear your theme."]})})]})]}),(0,e.jsx)("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #000000;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: var(--jazer-purple);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: var(--jazer-cyan);
        }
      `})]})},xs=hs,gs=(t,o,r)=>Math.max(o,Math.min(r,t));const bs=({title:t="Upgrades",items:o=[],radius:r=120,maxItems:s=8})=>{const[d,c]=(0,h.useState)(!1),a=(0,h.useRef)(null),m=(0,h.useMemo)(()=>o.slice(0,gs(s,1,12)),[o,s]),l=(0,h.useMemo)(()=>o.filter(n=>n.kind==="toggle"&&n.enabled).length,[o]);(0,h.useEffect)(()=>{if(!d)return;const n=b=>{b.key==="Escape"&&c(!1)},u=b=>{a.current&&(a.current.contains(b.target)||c(!1))};return window.addEventListener("keydown",n),window.addEventListener("pointerdown",u),()=>{window.removeEventListener("keydown",n),window.removeEventListener("pointerdown",u)}},[d]);const g=n=>{if(!d)return{transform:"translate(0px, 0px) scale(0.7)",opacity:0,pointerEvents:"none"};const u=m.length,b=-170,w=(u<=1?-90:b+n*(-60-b)/(u-1))*Math.PI/180;return{transform:`translate(${Math.cos(w)*r}px, ${Math.sin(w)*r}px) scale(1)`,opacity:1,pointerEvents:"auto"}};return(0,e.jsx)("div",{ref:a,className:"absolute bottom-4 right-4 z-30",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"absolute bottom-0 right-0 text-[10px] uppercase tracking-[0.3em] text-white/60",style:{transform:d?"translate(-8px, -56px)":"translate(-8px, -44px)",transition:"transform 160ms ease"},children:d?t:"Upgrade"}),m.map((n,u)=>{const b=n.icon||ve,w=n.kind==="toggle"?!!n.enabled:!1,T=w?"ring-2 ring-emerald-300/70":"ring-1 ring-white/10",C=w?"bg-emerald-500/20 border-emerald-300/40":"bg-white/10 border-white/15";return(0,e.jsx)("button",{type:"button",title:n.description?`${n.label} — ${n.description}`:n.label,onClick:()=>{if(n.kind==="toggle"){n.onToggle?.(!n.enabled),n.keepOpen||c(!1);return}n.onSelect?.(),c(!1)},className:`absolute bottom-0 right-0 h-10 w-10 rounded-full border ${C} ${T} grid place-items-center text-white shadow-lg shadow-black/40 backdrop-blur-md transition`,style:{...g(u),transitionProperty:"transform, opacity, background-color, border-color",transitionDuration:"180ms",transitionTimingFunction:"ease"},"aria-label":n.label,children:(0,e.jsx)(b,{className:"h-4 w-4"})},n.id)}),(0,e.jsxs)("button",{type:"button",onClick:()=>c(n=>!n),className:"relative h-14 w-14 rounded-full border border-white/15 bg-gradient-to-br from-purple-500 via-fuchsia-500 to-cyan-400 shadow-xl shadow-purple-900/40 ring-1 ring-white/10 grid place-items-center text-white","aria-expanded":d,"aria-label":d?"Close upgrades":"Open upgrades",children:[(0,e.jsx)(ve,{className:"h-5 w-5 drop-shadow"}),l>0&&(0,e.jsx)("span",{className:"absolute -top-1 -left-1 min-w-6 h-6 px-1 rounded-full bg-black/60 border border-white/15 text-[10px] font-semibold grid place-items-center",children:l})]})]})})};function fs(t=5){const o="notion_wiz_recent_widgets",[r,s]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const d=window.localStorage.getItem(o);return d?JSON.parse(d):[]}catch{return[]}});return{recentWidgets:r,addRecentWidget:(0,h.useCallback)((d,c)=>{s(a=>{const m=a.filter(g=>g.id!==d),l=[{id:d,label:c,timestamp:Date.now()},...m].slice(0,t);try{window.localStorage.setItem(o,JSON.stringify(l))}catch{}return l})},[t]),clearRecent:(0,h.useCallback)(()=>{s([]);try{window.localStorage.removeItem(o)}catch{}},[])}}function ys(t){const o=Date.now()-t,r=Math.floor(o/1e3),s=Math.floor(r/60),d=Math.floor(s/60),c=Math.floor(d/24);return c>0?`${c} day${c>1?"s":""} ago`:d>0?`${d} hour${d>1?"s":""} ago`:s>0?`${s} minute${s>1?"s":""} ago`:"Just now"}var vs=300,ws=12,ks=120,Wt={black:{bg:"#000000",text:"#FFFFFF",outline:"#000000"},grey:{bg:"#9B9A97",text:"#FFFFFF",outline:"#9B9A97"},yellow:{bg:"#DFAB01",text:"#FFFFFF",outline:"#DFAB01"},purple:{bg:"#6940A5",text:"#FFFFFF",outline:"#6940A5"},brown:{bg:"#64473A",text:"#FFFFFF",outline:"#64473A"},green:{bg:"#0F7B6C",text:"#FFFFFF",outline:"#0F7B6C"},pink:{bg:"#AD1A72",text:"#FFFFFF",outline:"#AD1A72"},orange:{bg:"#D9730D",text:"#FFFFFF",outline:"#D9730D"},blue:{bg:"#0B6E99",text:"#FFFFFF",outline:"#0B6E99"},red:{bg:"#E03E3E",text:"#FFFFFF",outline:"#E03E3E"}},_s=["😊","🚀","🎨","💼","🔗","📅","✨","⭐","🔥","💡","📚","📝","📧","💬","📞","📍","🏠","💻","📱","📸","🎥","🎧","🎵","🎮","🕹️","🎲","🏆","🥇","⚽","🏀","❤️","👍","👋","🙌","👏","🤝","👀","🧠","💪","⚡","🛑","✅","❌","❓","❗","➡️","⬅️","⬆️","⬇️","🔗"],Ir=[{id:"cycle",label:"Cycle Button",description:"Pomodoro start / pause / skip break",icon:"⏱",config:{label:"Pomodoro Cycle",icon:"⏱",tooltip:"Cycle focus, pause, skip",behaviorType:"cycle",variant:"capsule"}},{id:"createPage",label:"Create Page Button",description:"Creates a Notion page entry",icon:"📄",config:{label:"Create Page",icon:"📄",tooltip:"Creates a Notion page",behaviorType:"createPage",variant:"outline"}},{id:"template",label:"Template Button",description:"Applies a database template",icon:"🧩",config:{label:"Apply Template",icon:"🧩",tooltip:"Runs assigned template",behaviorType:"template",variant:"ghost"}},{id:"counter",label:"Counter Button",description:"Counts presses and displays value",icon:"🔢",config:{label:"Log Count",icon:"🔢",tooltip:"Adds to counter",behaviorType:"counter",variant:"solid"}},{id:"modeSwitcher",label:"Mode Switcher",description:"Switches focus/break modes",icon:"🔀",config:{label:"Mode Switch",icon:"🔀",tooltip:"Switches mode",behaviorType:"modeSwitcher",variant:"capsule"}},{id:"themeToggle",label:"Theme Toggle",description:"Toggles light / dark theme",icon:"🌓",config:{label:"Theme Toggle",icon:"🌓",tooltip:"Toggles theme",behaviorType:"themeToggle",variant:"orb"}},{id:"playlist",label:"Playlist Button",description:"Cycles through playlist names",icon:"🎵",config:{label:"Playlist",icon:"🎵",tooltip:"Cycle playlist tracks",behaviorType:"playlist",variant:"circular",playlistText:`Lo-fi Beats
Hyperfocus Mix
Break Vibes`}},{id:"navigation",label:"Navigation Button",description:"Opens a Notion page",icon:"🔗",config:{label:"Open Notion",icon:"🔗",tooltip:"Opens linked Notion page",behaviorType:"navigation",variant:"outline"}},{id:"meta",label:"Meta Button",description:"Runs macro sequences",icon:"🧠",config:{label:"Meta Macro",icon:"🧠",tooltip:"Runs macro playlist",behaviorType:"meta",variant:"solid"}},{id:"secret",label:"Secret Button",description:"Long-press unlocks a hidden UI",icon:"🕵️",config:{label:"Secret Button",icon:"🕵️",tooltip:"Hold for 2 seconds",behaviorType:"secret",variant:"ghost"}}],dt=4,H={colors:{electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},ui:{deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},fonts:{heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},fontFamily:'"Montserrat", system-ui, sans-serif',sizes:{h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)",gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)",logo:{minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"/logo.svg",gif:"/logo.svg",favicon:"/icon.svg"}}},Br=t=>typeof t!="string"?t:t.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]),Cs=(t,o)=>{const[r,s]=(0,h.useState)(t);return(0,h.useEffect)(()=>{const d=setTimeout(()=>s(t),o);return()=>clearTimeout(d)},[t,o]),r},js=t=>btoa(encodeURIComponent(JSON.stringify(t))),Ns=t=>{try{return JSON.parse(decodeURIComponent(atob(t)))}catch{return null}},Ss=()=>{if(typeof window>"u")return null;const t=window.localStorage.getItem("jazer_global_brand_theme"),o=window.localStorage.getItem("jazer_global_brand_active");if(t&&o==="true")try{return Be(JSON.parse(t))}catch{return null}const r=window.localStorage.getItem("jazer_brand_theme");if(r)try{return Be(JSON.parse(r))}catch{return null}return null},Ts=(t,o)=>t.appearanceMode==="none"?{bg:t.bgColor||"transparent",text:t.textColor||"#000"}:{bg:t.backgroundMode==="transparent"?"transparent":o?"#0B0E12":t.bgColor||"#FFFFFF",text:o?t.darkTextColor||"#FFFFFF":t.lightTextColor||"#37352F"},lo=class extends h.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){}render(){return this.state.hasError?(0,e.jsx)("div",{className:"flex items-center justify-center h-full bg-red-50 p-8 text-center rounded-xl",children:(0,e.jsxs)("div",{children:[(0,e.jsx)(Et,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"font-bold text-red-900 mb-2",children:"Widget Error"}),(0,e.jsx)("p",{className:"text-sm text-red-700 mb-4",children:this.state.error?.message||"Something went wrong"}),(0,e.jsx)("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Reset Widget"})]})}):this.props.children}},io={none:{id:"none",label:"None / Custom",fontFamily:"ui-sans-serif, system-ui, sans-serif",headingFontFamily:"ui-sans-serif, system-ui, sans-serif",bgColor:"#ffffff",textColor:"#37352f",accentColor:"#e16259",fontLinks:"",cssVariables:"",extraCSS:""},jazer:{id:"jazer",label:"Neon",fontFamily:'"Montserrat", system-ui, sans-serif',headingFontFamily:'"Orbitron", system-ui, sans-serif',bgColor:H.colors.nightBlack,textColor:H.colors.stardustWhite,accentColor:H.colors.electricPurple,logoPath:H.logo.paths.svg,logoGif:H.logo.paths.gif,faviconPath:H.logo.paths.favicon,fontLinks:`
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
    `,cssVariables:`:root {
      --jazer-electric-purple: ${H.colors.electricPurple};
      --jazer-cosmic-blue: ${H.colors.cosmicBlue};
      --jazer-neon-pink: ${H.colors.neonPink};
      --jazer-sunburst-gold: ${H.colors.sunburstGold};
      --jazer-aether-teal: ${H.colors.aetherTeal};
      --jazer-ultraviolet: ${H.colors.ultraviolet};
      --jazer-night-black: ${H.colors.nightBlack};
      --jazer-stardust-white: ${H.colors.stardustWhite};
      --jazer-graphite: ${H.colors.graphite};
      --jazer-soft-slate: ${H.colors.softSlate};
      
      --jazer-glow-blur: ${H.glowBlur};
      --jazer-glow-purple: ${H.glow};
    }`,extraCSS:`
    body {
      background-color: ${H.colors.nightBlack};
      color: ${H.colors.stardustWhite};
      font-family: ${H.fontFamily};
    }

    .neon-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      color: ${H.colors.stardustWhite}; 
      text-shadow: ${H.glow}; 
      letter-spacing: ${H.letterSpacing}; 
    }
    .neon-gradient-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      background: ${H.gradient}; 
      -webkit-background-clip: text; 
      background-clip: text; 
      color: transparent; 
      text-shadow: ${H.glow}; 
      letter-spacing: ${H.letterSpacing}; 
    }
    h1, h2, h3 { letter-spacing: ${H.letterSpacing}; font-family: "Orbitron", system-ui, sans-serif; } 
    h1 { font-size: ${H.sizes.h1}; }
    h2 { font-size: ${H.sizes.h2}; color: ${H.colors.electricPurple}; }
    h3 { font-size: ${H.sizes.h3}; color: ${H.colors.cosmicBlue}; } 
    
    button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${H.colors.cosmicBlue}; outline-offset: 2px; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: ${H.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb { background: ${H.colors.graphite}; border-radius: 5px; border: 1px solid ${H.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb:hover { background: ${H.colors.softSlate}; }
    
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes roulette { 
      0% { transform: translateY(-20px); opacity: 0; } 
      100% { transform: translateY(0); opacity: 1; } 
    }
    `}},Fs=()=>(0,e.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg mb-4",children:[(0,e.jsx)("h4",{className:"text-xs uppercase tracking-wider text-gray-400 mb-3",children:"Brand Colors"}),(0,e.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(H.colors).map(([t,o])=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"w-full h-10 rounded mb-1 border border-white/10",style:{backgroundColor:o},title:t}),(0,e.jsx)("div",{className:"text-[8px] text-white/50 truncate",children:t})]},t))})]}),Is=({onSelect:t,onClose:o})=>{const[r,s]=(0,h.useState)(""),d=_s.filter(c=>c.includes(r));return(0,e.jsxs)("div",{className:"absolute z-50 bg-[#1A1D29] border border-gray-700 rounded-lg shadow-xl w-64 max-h-60 flex flex-col top-full left-0 mt-1",children:[(0,e.jsx)("div",{className:"p-2 border-b border-gray-700",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(ht,{size:12,className:"absolute left-2 top-2 text-gray-500"}),(0,e.jsx)("input",{autoFocus:!0,className:"w-full bg-[#0B0E12] pl-7 pr-2 py-1 text-xs text-white rounded border border-gray-700 outline-none focus:border-purple-500",placeholder:"Search...",value:r,onChange:c=>s(c.target.value)})]})}),(0,e.jsx)("div",{className:"grid grid-cols-7 gap-1 p-2 overflow-y-auto",children:d.map((c,a)=>(0,e.jsx)("button",{className:"text-lg hover:bg-gray-700 rounded p-1",onClick:()=>{t(c),o()},children:c},a))})]})},Bs=({value:t,onChange:o})=>{const[r,s]=(0,h.useState)(null),[d,c]=(0,h.useState)(null),a=(0,h.useRef)(null),m=(0,h.useRef)(0),l=(0,h.useMemo)(()=>[{value:"custom",label:"Custom"},...Ir.map(k=>({value:k.config.behaviorType||k.id,label:k.label}))],[]),g=[{value:"solid",label:"Solid"},{value:"text",label:"Text Only"},{value:"icon",label:"Icon Only"},{value:"iconText",label:"Icon + Text"},{value:"capsule",label:"Capsule"},{value:"circular",label:"Circular"},{value:"orb",label:"Floating Orb"},{value:"outline",label:"Outline"},{value:"ghost",label:"Ghost"}];(0,h.useEffect)(()=>{const k=N=>{a.current&&!a.current.contains(N.target)&&c(null)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const n=(k,N)=>{const v=[...t];v[k]={...v[k],...N},o(v)},u={label:"New Button",url:"",icon:"✨",hideIcon:!1,colorPreset:"grey",backgroundColor:"#9B9A97",backgroundOpacity:100,outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBackgroundColor:"#FFFFFF",hoverTextColor:"#9B9A97",enableHoverHighlight:!0,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:""},b=()=>(m.current+=1,`btn-${m.current}`),w=()=>{const k={id:b(),...u};o([...t,k]),s(t.length)},T=k=>{const N={id:b(),...u,...k.config};o([...t,N]),s(t.length)},C=(k,N)=>{N.stopPropagation();const v=[...t],z={...t[k],id:b()};v.splice(k+1,0,z),o(v)},y=(k,N)=>{N.stopPropagation(),o(t.filter((v,z)=>z!==k)),r===k&&s(null)},x=(k,N)=>{N.stopPropagation();const v=t[k];o(t.map(z=>({...z,colorPreset:v.colorPreset,backgroundColor:v.backgroundColor,backgroundOpacity:v.backgroundOpacity,outlineColor:v.outlineColor,textColor:v.textColor,hoverBackgroundColor:v.hoverBackgroundColor,hoverTextColor:v.hoverTextColor,enableHoverHighlight:v.enableHoverHighlight})))},_=(k,N)=>{const v=Wt[N];n(k,{colorPreset:N,backgroundColor:v.bg,outlineColor:v.outline,textColor:v.text,hoverBackgroundColor:"#FFFFFF",hoverTextColor:v.bg})};return(0,e.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,e.jsx)("div",{className:"flex flex-col gap-2",children:t.map((k,N)=>(0,e.jsxs)("div",{className:"bg-[#1A1D29] border border-gray-700 rounded-lg overflow-hidden transition-all hover:border-gray-600",children:[(0,e.jsxs)("div",{className:"p-2.5 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors",onClick:()=>s(r===N?null:N),children:[(0,e.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,e.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs border border-white/10",style:{backgroundColor:k.backgroundColor,color:k.textColor},children:k.icon||""}),(0,e.jsx)("span",{className:"text-xs font-medium text-gray-200 truncate max-w-[100px]",children:k.label})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:v=>x(N,v),title:"Copy style to all",children:(0,e.jsx)(qt,{size:12})}),(0,e.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:v=>C(N,v),title:"Duplicate",children:(0,e.jsx)(rr,{size:12})}),(0,e.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-400 hover:bg-red-900/30 rounded",onClick:v=>y(N,v),title:"Delete",children:(0,e.jsx)(Pr,{size:12})}),(0,e.jsx)(ar,{size:12,style:{transform:r===N?"rotate(90deg)":"none",transition:"0.2s",color:"#718096"}})]})]}),r===N&&(0,e.jsxs)("div",{className:"p-3 bg-[#111318] border-t border-gray-800 flex flex-col gap-3 animate-in slide-in-from-top-2",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)("div",{style:{width:"50px",position:"relative"},ref:a,children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Icon"}),(0,e.jsx)("button",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs text-center hover:border-purple-500 transition-colors",onClick:()=>c(d===N?null:N),children:k.icon||"+"}),d===N&&(0,e.jsx)(Is,{onSelect:v=>n(N,{icon:v}),onClose:()=>c(null)})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Label"}),(0,e.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500 transition-colors",value:k.label,onChange:v=>n(N,{label:v.target.value})})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 flex justify-between",children:["URL ",(0,e.jsx)(Lr,{size:10,className:"opacity-50"})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-blue-400 p-1.5 pl-6 rounded text-xs outline-none focus:border-purple-500",placeholder:"https://...",value:k.url,onChange:v=>n(N,{url:v.target.value})}),(0,e.jsx)(zr,{size:10,className:"absolute left-2 top-2 text-gray-500"})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Button Type"}),(0,e.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:k.behaviorType||"custom",onChange:v=>n(N,{behaviorType:v.target.value}),children:l.map(v=>(0,e.jsx)("option",{value:v.value,children:v.label},v.value))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Variant"}),(0,e.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:k.variant||"solid",onChange:v=>n(N,{variant:v.target.value}),children:g.map(v=>(0,e.jsx)("option",{value:v.value,children:v.label},v.value))})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Tooltip"}),(0,e.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:k.tooltip||"",onChange:v=>n(N,{tooltip:v.target.value}),placeholder:"Describe the action..."})]}),k.behaviorType==="playlist"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Playlist Items (one per line)"}),(0,e.jsx)("textarea",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",rows:3,value:k.playlistText||"",onChange:v=>n(N,{playlistText:v.target.value})})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:k.hideIcon,onChange:v=>n(N,{hideIcon:v.target.checked})}),(0,e.jsx)("span",{className:"text-xs text-gray-400",children:"Hide Icon"})]}),(0,e.jsxs)("div",{className:"border-t border-gray-800 pt-2",children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-2 block",children:"Quick Colors"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Wt).map(v=>(0,e.jsx)("div",{className:`w-4 h-4 rounded-full cursor-pointer border border-white/10 transition-transform hover:scale-110 ${k.colorPreset===v?"ring-1 ring-white":""}`,style:{backgroundColor:Wt[v].bg},onClick:()=>_(N,v),title:v},v))})]}),(0,e.jsxs)("div",{className:"border-t border-gray-800 pt-2 space-y-2",children:[(0,e.jsxs)("label",{className:"text-[9px] uppercase font-bold text-purple-400 flex items-center gap-1",children:[(0,e.jsx)(Ye,{size:10})," Custom Styles"]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Bg Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)("input",{type:"color",value:k.backgroundColor,onChange:v=>n(N,{backgroundColor:v.target.value,colorPreset:null}),className:"w-5 h-5 rounded cursor-pointer bg-transparent p-0 border-none"}),(0,e.jsx)("span",{className:"text-[9px] font-mono text-gray-400",children:k.backgroundColor})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"text-[9px] text-gray-500 block mb-1",children:["Opacity ",k.backgroundOpacity,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:k.backgroundOpacity,onChange:v=>n(N,{backgroundOpacity:Number(v.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Text Color"}),(0,e.jsx)("input",{type:"color",value:k.textColor,onChange:v=>n(N,{textColor:v.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Outline"}),(0,e.jsx)("input",{type:"color",value:k.outlineColor,onChange:v=>n(N,{outlineColor:v.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,e.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:k.enableHoverHighlight,onChange:v=>n(N,{enableHoverHighlight:v.target.checked})}),(0,e.jsx)("span",{className:"text-xs text-gray-400",children:"Enable Hover Highlight"})]}),k.enableHoverHighlight&&(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l border-purple-500/20",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Bg"}),(0,e.jsx)("input",{type:"color",value:k.hoverBackgroundColor,onChange:v=>n(N,{hoverBackgroundColor:v.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Text"}),(0,e.jsx)("input",{type:"color",value:k.hoverTextColor,onChange:v=>n(N,{hoverTextColor:v.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]})]})]})]},k.id))}),(0,e.jsxs)("div",{className:"p-3 bg-[#0F1115] border border-gray-800 rounded-lg space-y-2",children:[(0,e.jsx)("div",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Quick Templates"}),(0,e.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Ir.map(k=>(0,e.jsxs)("button",{className:"p-2 rounded-lg border border-white/10 bg-white/5 hover:border-purple-400 hover:bg-purple-500/10 transition flex items-center gap-2 text-left",onClick:()=>T(k),children:[(0,e.jsx)("span",{className:"text-lg",children:k.icon}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-semibold text-white",children:k.label}),(0,e.jsx)("div",{className:"text-[10px] text-gray-400",children:k.description})]})]},k.id))})]}),(0,e.jsxs)("button",{onClick:w,className:"w-full py-2.5 bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/30 rounded-lg text-xs font-bold text-purple-300 flex items-center justify-center gap-2 transition-all",children:[(0,e.jsx)(Yt,{size:14})," Add Button"]})]})},Ms=h.memo(({field:t,value:o,onChange:r})=>{if(t.locked)return(0,e.jsxs)("div",{className:"flex justify-between items-center py-1 opacity-50",children:[(0,e.jsx)("span",{className:"text-sm text-gray-300",children:t.label}),(0,e.jsx)("span",{className:"text-xs text-gray-500",children:"🔒 Premium"})]});if(t.type==="boolean")return(0,e.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,e.jsx)("span",{className:"text-sm text-gray-300",children:t.label}),(0,e.jsx)("button",{onClick:()=>r(!o),className:`w-10 h-5 rounded-full p-1 transition-colors duration-300 ${o?"bg-purple-600":"bg-gray-700"}`,children:(0,e.jsx)("div",{className:`w-3 h-3 rounded-full bg-white shadow-md transform transition-transform duration-300 ${o?"translate-x-5":"translate-x-0"}`})})]});if(t.type==="select")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("select",{value:o||"",onChange:s=>r(s.target.value),className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500",style:{pointerEvents:"auto"},children:t.options.map(s=>(0,e.jsx)("option",{value:s.value,disabled:s.disabled,children:s.label},s.value))})]});if(t.type==="color")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"color",value:o||"#000000",onChange:s=>r(s.target.value),className:"w-8 h-8 rounded bg-transparent border-none cursor-pointer"}),(0,e.jsx)("input",{type:"text",value:o,onChange:s=>r(s.target.value),className:"flex-1 bg-gray-800 text-white text-xs p-2 rounded border border-gray-700"})]})]});if(t.type==="text"||t.type==="number"||t.type==="date"||t.type==="datetime-local")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("input",{type:t.type,value:o,onChange:s=>r(t.type==="number"?Number(s.target.value):s.target.value),min:t.min,max:t.max,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500 transition-colors"})]});if(t.type==="textarea")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("textarea",{value:o||"",onChange:s=>r(s.target.value),rows:t.rows||4,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500"})]});if(t.type==="checkbox-list"){const s=d=>{const c=Array.isArray(o)?o:[];c.includes(d)?r(c.filter(a=>a!==d)):r([...c,d])};return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1",children:t.options.map(d=>{const c=(o||[]).includes(d.value);return(0,e.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-1 rounded",onClick:()=>s(d.value),children:[(0,e.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${c?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c&&(0,e.jsx)(Ie,{size:10,className:"text-white"})}),(0,e.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}if(t.type==="bar-list"){const s=(c,a)=>{const m=[...o];a===-1&&c>0?[m[c],m[c-1]]=[m[c-1],m[c]]:a===1&&c<m.length-1&&([m[c],m[c+1]]=[m[c+1],m[c]]),r(m)},d=c=>{const a=[...o];a[c].enabled=!a[c].enabled,r(a)};return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 overflow-hidden",children:o.map((c,a)=>(0,e.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-gray-800 last:border-0 hover:bg-white/5",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("button",{onClick:()=>d(a),className:`w-4 h-4 flex items-center justify-center rounded border ${c.enabled?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c.enabled&&(0,e.jsx)(Ie,{size:12,className:"text-white"})}),(0,e.jsx)("span",{className:`text-xs ${c.enabled?"text-white":"text-gray-500"}`,children:c.label})]}),(0,e.jsxs)("div",{className:"flex gap-1",children:[(0,e.jsx)("button",{onClick:()=>s(a,-1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:a===0,children:(0,e.jsx)(Io,{size:12})}),(0,e.jsx)("button",{onClick:()=>s(a,1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:a===o.length-1,children:(0,e.jsx)(jo,{size:12})})]})]},c.id))})]})}if(t.type==="button-manager")return(0,e.jsx)(Bs,{value:o||[],onChange:r});if(t.type==="multiselect"){const s=d=>{const c=Array.isArray(o)?o:[];if(c.includes(d))r(c.filter(a=>a!==d));else{if(t.maxItems&&c.length>=t.maxItems)return;r([...c,d])}};return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),t.maxItems&&(0,e.jsxs)("span",{className:"text-xs text-gray-500",children:[(o||[]).length,"/",t.maxItems," selected"]})]}),t.helpText&&(0,e.jsx)("p",{className:"text-xs text-gray-500",children:t.helpText}),(0,e.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1 max-h-64 overflow-y-auto",children:t.options.map(d=>{const c=(o||[]).includes(d.value),a=t.maxItems&&!c&&(o||[]).length>=t.maxItems;return(0,e.jsxs)("div",{className:`flex items-center gap-2 p-1 rounded ${a?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-white/5"}`,onClick:()=>!a&&s(d.value),children:[(0,e.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${c?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c&&(0,e.jsx)(Ie,{size:10,className:"text-white"})}),(0,e.jsx)("span",{className:"text-xs text-gray-300",children:d.label})]},d.value)})})]})}return null}),We={clock:{...Ra,icon:(0,e.jsx)(Tt,{className:"w-4 h-4"}),Component:Ja,generateHTML:Qa,generateScript:ao},weather:{...pa,icon:(0,e.jsx)(St,{className:"w-4 h-4"}),Component:$r,generateHTML:Wa,generateScript:ro},countdown:{...Za,icon:(0,e.jsx)(Or,{className:"w-4 h-4"}),Component:Xa,generateHTML:$a,generateScript:so},counter:{...ea,icon:(0,e.jsx)(Ar,{className:"w-4 h-4"}),Component:ta,generateHTML:ra,generateScript:oa},imageGallery:{...aa,icon:(0,e.jsx)(tr,{className:"w-4 h-4"}),Component:sa,generateHTML:la,generateScript:ia},newButtonGenerator:{...is,icon:(0,e.jsx)(sr,{className:"w-4 h-4"}),Component:ns,generateHTML:cs,generateScript:ds},quotes:{...ca,icon:(0,e.jsx)(Dr,{className:"w-4 h-4"}),Component:da,generateHTML:ua,generateScript:qr},simpleList:{id:"simpleList",label:"List",icon:(0,e.jsx)(Ht,{className:"w-4 h-4"}),defaultConfig:{title:"To Do",items:`Task 1
Task 2`,accentColor:H.colors.cosmicBlue,textColor:H.colors.graphite,bgColor:H.colors.stardustWhite},fields:[{name:"title",label:"Title",type:"text"},{name:"items",label:"Items",type:"textarea"},{name:"accentColor",label:"Accent",type:"color"}],Component:({config:t})=>{const o=(t.items||"").split(`
`).filter(Boolean);return(0,e.jsxs)("div",{className:"h-full w-full p-6 overflow-y-auto",style:{background:t.bgColor,color:t.textColor},children:[(0,e.jsx)("h3",{className:"font-bold mb-4 pb-2 border-b-2 text-lg",style:{borderColor:t.accentColor},children:t.title}),(0,e.jsx)("ul",{className:"space-y-2",children:o.map((r,s)=>(0,e.jsxs)("li",{className:"flex gap-2 items-center",children:[(0,e.jsx)("div",{className:"w-4 h-4 border rounded",style:{borderColor:t.accentColor}}),(0,e.jsx)("span",{children:r})]},s))})]})},generateHTML:t=>`
      <div style="padding:24px; height:100%; overflow-y:auto; background:${t.bgColor}; color:${t.textColor};">
        <h3 style="font-weight:bold; margin-bottom:16px; padding-bottom:8px; border-bottom:2px solid ${t.accentColor};">${Br(t.title)}</h3>
        <ul style="list-style:none; padding:0; margin:0;">
          ${(t.items||"").split(`
`).filter(Boolean).map(o=>`<li style="display:flex; gap:12px; margin-bottom:8px; cursor:pointer; align-items:center;" onclick="this.style.opacity = this.style.opacity === '0.5' ? '1' : '0.5'"><div style="width:16px; height:16px; border:2px solid ${t.accentColor}; border-radius:4px;"></div><span>${Br(o)}</span></li>`).join("")}
        </ul>
      </div>
    `,generateScript:()=>""},pomodoro:{id:"pomodoro",label:"Pomodoro",icon:(0,e.jsx)(To,{className:"w-4 h-4"}),defaultConfig:{workTime:25,breakTime:5,accentColor:H.colors.neonPink,textColor:H.colors.graphite,bgColor:H.colors.stardustWhite},fields:[{name:"workTime",label:"Work",type:"number"},{name:"breakTime",label:"Break",type:"number"},{name:"accentColor",label:"Color",type:"color"}],Component:({config:t})=>{const o=Math.max(1,parseInt(t.workTime,10)||25),r=Math.max(1,parseInt(t.breakTime,10)||5),s=o*60,d=r*60,[c,a]=(0,h.useState)(s),[m,l]=(0,h.useState)(!1),[g,n]=(0,h.useState)(!0),u=(0,h.useRef)(g);(0,h.useEffect)(()=>{u.current=g},[g]),(0,h.useEffect)(()=>{l(!1),n(!0),u.current=!0,a(s)},[s,d]),(0,h.useEffect)(()=>{if(!m)return;const C=setInterval(()=>{a(y=>{if(y>1)return y-1;const x=!u.current;return u.current=x,n(x),x?s:d})},1e3);return()=>clearInterval(C)},[m,s,d]);const b=C=>`${Math.floor(C/60).toString().padStart(2,"0")}:${(C%60).toString().padStart(2,"0")}`,w=()=>{l(C=>!C)},T=()=>{l(!1),n(!0),u.current=!0,a(s)};return(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-center",style:{background:t.bgColor,color:t.textColor},children:[(0,e.jsxs)("div",{className:"text-sm font-semibold uppercase tracking-widest",style:{color:t.accentColor},children:[g?"Work":"Break"," Session"]}),(0,e.jsx)("div",{className:"text-5xl font-bold tabular-nums",children:b(c)}),(0,e.jsxs)("div",{className:"flex gap-3",children:[(0,e.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-semibold",style:{background:t.accentColor},onClick:w,children:m?"Pause":"Start"}),(0,e.jsx)("button",{className:"px-6 py-2 rounded-full border font-semibold",style:{borderColor:t.accentColor,color:t.accentColor},onClick:T,children:"Reset"})]})]})},generateHTML:t=>`
      <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; gap:16px; text-align:center;">
        <div id="phase" style="font-size:14px; font-weight:600; text-transform:uppercase; letter-spacing:0.2em; color:${t.accentColor};">Work Session</div>
        <div id="timer" style="font-size:48px; font-weight:bold; margin-bottom:8px; font-family:'Courier New', monospace;">${String(t.workTime).padStart(2,"0")}:00</div>
        <div style="display:flex; gap:12px;">
          <button onclick="togglePomodoro()" id="btn" style="background:${t.accentColor}; color:white; border:none; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Start</button>
          <button onclick="resetPomodoro()" style="background:transparent; color:${t.accentColor}; border:2px solid ${t.accentColor}; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Reset</button>
        </div>
      </div>
    `,generateScript:t=>`
      (function() {
        const workMinutes = Math.max(1, parseInt(${JSON.stringify(t.workTime)}, 10) || 25);
        const breakMinutes = Math.max(1, parseInt(${JSON.stringify(t.breakTime)}, 10) || 5);
        const workSeconds = workMinutes * 60;
        const breakSeconds = breakMinutes * 60;
        let remaining = workSeconds;
        let isRunning = false;
        let isWorkPhase = true;
        let timerId = null;
        const timerEl = document.getElementById('timer');
        const phaseEl = document.getElementById('phase');
        const btn = document.getElementById('btn');

        function format(seconds) {
          const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          return mins + ':' + secs;
        }

        function updateDisplay() {
          timerEl.textContent = format(remaining);
          phaseEl.textContent = (isWorkPhase ? 'Work' : 'Break') + ' Session';
        }

        function switchPhase() {
          isWorkPhase = !isWorkPhase;
          remaining = isWorkPhase ? workSeconds : breakSeconds;
          updateDisplay();
        }

        function tick() {
          if (remaining > 0) {
            remaining -= 1;
            updateDisplay();
          } else {
            switchPhase();
          }
        }

        window.togglePomodoro = function togglePomodoro() {
          isRunning = !isRunning;
          btn.textContent = isRunning ? 'Pause' : 'Start';
          if (isRunning) {
            timerId = setInterval(tick, 1000);
          } else if (timerId) {
            clearInterval(timerId);
            timerId = null;
  }
};

        window.resetPomodoro = function resetPomodoro() {
          if (timerId) {
            clearInterval(timerId);
            timerId = null;
          }
          isRunning = false;
          isWorkPhase = true;
          remaining = workSeconds;
          btn.textContent = 'Start';
          updateDisplay();
        };

        updateDisplay();
      })();
    `}},Vt={clock:"Time & Productivity",countdown:"Time & Productivity",pomodoro:"Time & Productivity",simpleList:"Time & Productivity",weather:"Data & Information",quotes:"Data & Information",counter:"Interactive",newButtonGenerator:"Interactive",imageGallery:"Media"},As=({isOpen:t,onClose:o,widgetDef:r,config:s})=>{const d=(0,h.useMemo)(()=>{if(!t)return"";const m=js(s);return`${window.location.origin}${window.location.pathname}?embed=1&widget=${r.id}&config=${m}`},[t,s,r]);if(!t)return null;const c=()=>{navigator.clipboard.writeText(d),alert("Link copied! Paste into Notion using /embed")},a=()=>{const m=r.generateHTML?r.generateHTML(s):`<!-- ${r.label} Widget -->`,l=r.generateScript?r.generateScript(s):"",g=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${r.label} Widget</title>
    <style>
      body { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; }
    </style>
</head>
<body>
    ${m}
    <script>${l}<\/script>
</body>
</html>`;navigator.clipboard.writeText(g),alert("HTML Code copied!")};return(0,e.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in",children:(0,e.jsxs)("div",{className:"bg-[#1A1D29] w-full max-w-2xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden flex flex-col",children:[(0,e.jsxs)("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-[#0B0E12]",children:[(0,e.jsxs)("h3",{className:"text-white font-bold text-xl font-mono flex items-center gap-2",children:[(0,e.jsx)(Wo,{className:"text-purple-500"})," GET WIDGET"]}),(0,e.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-white",children:(0,e.jsx)(Je,{})})]}),(0,e.jsxs)("div",{className:"p-8 space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("h4",{className:"text-lg font-bold text-white",children:"Embed Link (Recommended)"}),(0,e.jsxs)("div",{className:"bg-[#0B0E12] p-4 rounded-xl border border-gray-800 flex gap-2 items-center",children:[(0,e.jsx)("input",{readOnly:!0,value:d,className:"bg-transparent w-full text-sm text-purple-300 outline-none font-mono truncate"}),(0,e.jsx)("button",{onClick:c,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-colors",children:"Copy Link"})]}),(0,e.jsxs)("p",{className:"text-xs text-gray-500",children:["In Notion, type ",(0,e.jsx)("code",{className:"bg-gray-800 px-1 rounded",children:"/embed"})," and paste this URL. Requires this app to be hosted publicly."]})]}),(0,e.jsxs)("div",{className:"border-t border-white/5 pt-6 space-y-4",children:[(0,e.jsx)("h4",{className:"text-lg font-bold text-white",children:"Standalone Code"}),(0,e.jsxs)("button",{onClick:a,className:"w-full bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[(0,e.jsx)(vo,{size:16})," Copy HTML Code"]}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Copy the full HTML code and save it as a .html file. Host it on GitHub Pages, Netlify, or Vercel."})]})]})]})})},zs=({activeBrandId:t,config:o,activeWidgetId:r,debouncedConfig:s,handleConfigChange:d,brandTheme:c,ActiveWidget:a,showExport:m,setShowExport:l,onCustomizeRequest:g,upgradeItems:n})=>{const[u,b]=(0,h.useState)(800),[w,T]=(0,h.useState)(450),[C,y]=(0,h.useState)(!1),x=(0,h.useRef)(null),_=c||s?.brandThemeSnapshot||o.brandThemeSnapshot,k=(0,h.useMemo)(()=>[{id:"phone",label:"Phone",width:360,height:640},{id:"tablet",label:"Tablet",width:820,height:640},{id:"desktop",label:"Desktop",width:1100,height:640}],[]),N=(z,G)=>{G.preventDefault(),y(z)},v=z=>{b(z.width),T(z.height)};return(0,h.useEffect)(()=>{const z=W=>{if(!C||!x.current)return;const re=x.current.getBoundingClientRect();(C==="horizontal"||C==="both")&&b(Math.max(300,Math.min(1600,W.clientX-re.left-40))),(C==="vertical"||C==="both")&&T(Math.max(200,Math.min(1e3,W.clientY-re.top-40)))},G=()=>{y(!1)};return C&&(document.addEventListener("mousemove",z),document.addEventListener("mouseup",G)),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",G)}},[C]),(0,e.jsxs)("div",{ref:x,className:"flex-1 flex flex-col relative h-full",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,e.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",style:{background:t==="jazer"?`radial-gradient(circle at 50% 10%, ${H.ui.nebulaPurple} 0%, ${H.colors.nightBlack} 100%)`:"#f5f5f5",boxShadow:t==="jazer"?H.glow:"none"},children:(0,e.jsxs)("div",{className:"shadow-2xl rounded-xl overflow-hidden relative group",style:{width:`${u}px`,height:`${w}px`,maxWidth:"100%",maxHeight:"min(80vh, 720px)",backgroundColor:o.bgColor,border:"2px solid var(--jazer-cosmic-blue)",boxShadow:"var(--jazer-glow-blue), 0 20px 40px rgba(0,0,0,0.4)",transition:C?"none":"all 0.2s ease"},children:[(0,e.jsx)("div",{className:"absolute top-3 left-3 z-20 flex gap-2",children:k.map(z=>(0,e.jsx)("button",{type:"button",onClick:()=>v(z),className:`px-3 py-1 rounded-full text-[11px] uppercase tracking-[0.3em] border transition ${Math.round(u)===z.width&&Math.round(w)===z.height?"border-white text-white bg-white/20":"border-white/20 text-white/70 bg-black/30 hover:border-white/40 hover:text-white"}`,children:z.label},z.id))}),(0,e.jsx)(lo,{children:(0,e.jsx)(a.Component,{config:s,onConfigChange:d,brand:H,brandTheme:_,onCustomizeRequest:g})},r),Array.isArray(n)&&n.length>0&&(0,e.jsx)(bs,{title:r==="newButtonGenerator"?"Button Upgrades":"Widget Upgrades",items:n}),(0,e.jsx)("div",{onMouseDown:z=>N("horizontal",z),className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(90deg, transparent, var(--jazer-electric-purple))"},children:(0,e.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-12 rounded-l",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,e.jsx)("div",{onMouseDown:z=>N("vertical",z),className:"absolute left-0 right-0 bottom-0 h-2 cursor-ns-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(180deg, transparent, var(--jazer-electric-purple))"},children:(0,e.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 h-1 w-12 rounded-t",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,e.jsx)("div",{onMouseDown:z=>N("both",z),className:"absolute right-0 bottom-0 w-6 h-6 cursor-nwse-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"var(--jazer-electric-purple)",clipPath:"polygon(100% 0, 100% 100%, 0 100%)",boxShadow:"var(--jazer-glow-purple)"}}),(0,e.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-mono opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(139, 92, 246, 0.9)",color:"var(--jazer-stardust-white)",backdropFilter:"blur(10px)"},children:[u," × ",w]})]})}),(0,e.jsx)(As,{isOpen:m,onClose:()=>l(!1),widgetDef:a,config:o})]})};function Es({onSelect:t,onBrandGenerator:o,setSearchInputRef:r}){const[s,d]=(0,h.useState)("all"),[c,a]=(0,h.useState)(""),m=(0,h.useRef)(null);(0,h.useEffect)(()=>{r&&m.current&&r(m.current)},[r]);const l=(0,h.useMemo)(()=>Object.values(We).map(x=>({...x,category:Vt[x.id]||"Other"})),[]),g=(0,h.useMemo)(()=>["all",...Array.from(new Set(l.map(x=>x.category)))],[l]),n=["weather","clock","newButtonGenerator"],u=(0,h.useMemo)(()=>l.filter(x=>n.includes(x.id)),[l]),b=(0,h.useMemo)(()=>{const x=c.trim().toLowerCase();return l.filter(_=>{const k=s==="all"||_.category===s,N=!x||[_.label,_.description].filter(Boolean).some(v=>v.toLowerCase().includes(x));return k&&N})},[l,s,c]),w={weather:"Most Advanced",clock:"Fan Favorite",countdown:"New Animation",newButtonGenerator:"Workflow Booster",imageGallery:"Creator Ready",quotes:"API Connected",pomodoro:"Focus Mode"},T=[{label:"Widgets",value:"9",subLabel:"Final list"},{label:"Categories",value:"4",subLabel:"Time, Data, Media, Interactive"},{label:"API Integrations",value:"2",subLabel:"Weather + Quotes"},{label:"Brand Kits",value:"∞",subLabel:"Generator-powered"}],C=[{icon:(0,e.jsx)(ut,{className:"w-5 h-5 text-purple-300"}),title:"Choose a widget",copy:"Clock, Weather, Buttons, and more with presets tuned to Notion."},{icon:(0,e.jsx)(Ye,{className:"w-5 h-5 text-cyan-300"}),title:"Apply your brand",copy:"Upload a logo once and sync its palette across every widget."},{icon:(0,e.jsx)(er,{className:"w-5 h-5 text-pink-300"}),title:"Export / embed",copy:"Copy the embed link or HTML snippet directly into Notion."}],y=[{quote:"“The builder finally feels as premium as the widgets themselves. I can move from idea to embedded widget in minutes.”",author:"Nara · Product Ops"},{quote:"“Brand kit syncing blew my mind—upload logo, click apply, every widget updates instantly.”",author:"Lewis · Creator"},{quote:"“Favorite part is the Button Generator. Macro + toggle modes mean I can run my workflows without leaving Notion.”",author:"Mika · Studio Lead"}];return(0,e.jsx)("div",{className:"min-h-screen px-4 sm:px-6 lg:px-16 py-8 flex flex-col items-center",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:(0,e.jsxs)("div",{className:"w-full max-w-6xl space-y-14",children:[(0,e.jsxs)("section",{className:"space-y-6 text-center",children:[(0,e.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[(0,e.jsx)("span",{className:"px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border border-white/15 text-neutral-300",children:"Final Widget List v1.2"}),(0,e.jsx)("span",{className:"px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border border-white/15 text-neutral-300",children:"Professional Grade"})]}),(0,e.jsx)("div",{className:"inline-flex items-center justify-center p-3 rounded-full animate-pulse-neon mx-auto",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",border:"1px solid var(--jazer-electric-purple)"},children:(0,e.jsx)(ve,{className:"w-8 h-8",style:{color:"var(--jazer-electric-purple)"}})}),(0,e.jsx)("h1",{className:"text-4xl md:text-6xl font-black tracking-tight gradient-text neon-text",style:{fontFamily:"Orbitron, sans-serif"},children:"Design-grade Notion Widgets"}),(0,e.jsx)("p",{className:"text-lg md:text-xl max-w-3xl mx-auto leading-relaxed",style:{color:"var(--jazer-soft-slate)"},children:"Shuttle nine premium widgets—clock, weather, pomodoro, button generator, and more—directly into Notion. Every control respects neon themes, responsive layouts, and your custom brand kit."}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap items-center justify-center gap-4",children:[(0,e.jsx)("button",{onClick:()=>t("clock"),className:"px-8 py-3 rounded-full text-sm font-bold tracking-[0.2em] uppercase bg-gradient-to-r from-purple-500 to-pink-500 hover:scale-105 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300 w-full sm:w-auto text-center",children:"Start Building"}),(0,e.jsxs)("button",{onClick:o,className:"px-8 py-3 rounded-full text-sm font-bold tracking-[0.2em] uppercase border border-white/20 text-neutral-200 hover:border-cyan-400 hover:text-white transition flex items-center gap-2 justify-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-300 w-full sm:w-auto",children:[(0,e.jsx)(Ye,{className:"w-4 h-4"})," Sync Brand Kit"]})]}),(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:T.map(x=>(0,e.jsxs)("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5",children:[(0,e.jsx)("div",{className:"text-3xl font-black",children:x.value}),(0,e.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-neutral-400 mt-1",children:x.label}),(0,e.jsx)("p",{className:"text-[11px] text-neutral-400 mt-1",children:x.subLabel})]},x.label))})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Spotlight"}),(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Featured widgets"})]}),(0,e.jsxs)("button",{onClick:()=>t("weather"),className:"px-4 py-2 rounded-full border border-white/15 text-sm text-neutral-200 hover:border-purple-300 hover:text-white transition flex items-center gap-2 self-start sm:self-auto focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:["Explore builder ",(0,e.jsx)(or,{className:"w-4 h-4 rotate-180"})]})]}),(0,e.jsx)("div",{className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 md:overflow-visible",children:u.map(x=>(0,e.jsxs)("div",{className:"rounded-2xl p-6 border border-white/10 bg-gradient-to-br from-white/10 to-transparent backdrop-blur min-w-[260px] snap-center md:min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-white/10 text-purple-200",children:x.icon}),w[x.id]&&(0,e.jsx)("span",{className:"px-3 py-1 rounded-full text-[11px] uppercase tracking-widest bg-purple-500/20 border border-purple-400 text-purple-200",children:w[x.id]})]}),(0,e.jsx)("h3",{className:"text-xl font-semibold mb-2",children:x.label}),(0,e.jsx)("p",{className:"text-sm text-neutral-300 mb-6",children:x.description||`Create a beautiful ${x.label.toLowerCase()} widget for your Notion pages.`}),(0,e.jsxs)("button",{onClick:()=>t(x.id),className:"w-full py-2 rounded-lg border border-white/15 text-sm font-semibold text-white hover:border-purple-400 transition",children:["Customize ",x.label]})]},x.id))})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,e.jsx)("div",{className:"flex gap-2 w-full overflow-x-auto pb-2 pr-4",style:{WebkitOverflowScrolling:"touch"},role:"tablist","aria-label":"Widget categories",children:g.map(x=>(0,e.jsx)("button",{type:"button",onClick:()=>d(x),className:`px-3 py-1.5 rounded-full text-[11px] uppercase tracking-widest border transition ${s===x?"border-purple-400 text-white bg-purple-500/20":"border-white/15 text-neutral-300 hover:border-purple-300 hover:text-white"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400`,"aria-pressed":s===x,role:"tab",children:x==="all"?"All widgets":x},x))}),(0,e.jsxs)("div",{className:"relative ml-auto",children:[(0,e.jsx)(ht,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,e.jsx)("input",{ref:m,type:"text",value:c,onChange:x=>a(x.target.value),placeholder:"Search widgets...",className:"pl-9 pr-3 py-2 rounded-full bg-white/5 border border-interactive text-sm text-white placeholder:text-neutral-500 focus-ring","aria-label":"Search widgets"})]})]}),(0,e.jsx)("div",{className:"py-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(x=>(0,e.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center text-purple-200",children:x.icon}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:x.label}),(0,e.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:x.category})]})]}),(0,e.jsx)("p",{className:"text-sm text-neutral-300 flex-1",children:x.description||`Create a ${x.label.toLowerCase()} widget.`}),(0,e.jsxs)("button",{onClick:()=>t(x.id),className:"mt-4 w-full py-2 rounded-lg bg-purple-500/20 border border-purple-400 text-sm font-semibold text-purple-50 hover:bg-purple-500/30 transition",children:["Build ",x.label]})]},x.id))})]}),(0,e.jsx)("section",{className:"p-1 rounded-2xl bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400",children:(0,e.jsxs)("div",{className:"rounded-2xl bg-[#0F111C] p-6 sm:p-8 flex flex-col lg:flex-row gap-8 items-start w-full",children:[(0,e.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"p-3 rounded-full bg-purple-500/20 border border-purple-300/40",children:(0,e.jsx)(ve,{className:"w-6 h-6 text-purple-200"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Brand Kit"}),(0,e.jsx)("h3",{className:"text-2xl font-bold",children:"Generate once, sync everywhere"})]})]}),(0,e.jsx)("p",{className:"text-sm text-neutral-200 max-w-2xl",children:"Upload a logo, capture its palette, and notch it into every widget automatically. The generator writes to local storage so your theme loads every time you reopen the builder."}),(0,e.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-neutral-200",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Ie,{className:"w-4 h-4 text-emerald-400"}),"8+ curated presets per brand"]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Ie,{className:"w-4 h-4 text-emerald-400"}),"Auto-applies to light + dark modes"]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Ie,{className:"w-4 h-4 text-emerald-400"}),"Palette chips ready for export"]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Ie,{className:"w-4 h-4 text-emerald-400"}),"One-click re-launch from builder"]})]})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-3 w-full lg:w-auto",children:[(0,e.jsx)("button",{onClick:o,className:"px-8 py-3 rounded-full font-bold tracking-[0.2em] uppercase bg-white text-black hover:scale-105 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white",children:"Launch Generator"}),(0,e.jsx)("button",{onClick:()=>t("newButtonGenerator"),className:"px-8 py-3 rounded-full font-bold tracking-[0.2em] uppercase border border-white/20 text-white hover:border-cyan-300 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-300",children:"Preview With Buttons"})]})]})}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Workflow"}),(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"How builders ship faster"})]}),(0,e.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:C.map(x=>(0,e.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-5 space-y-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:x.icon}),(0,e.jsx)("h3",{className:"text-lg font-semibold",children:x.title}),(0,e.jsx)("p",{className:"text-sm text-neutral-300",children:x.copy})]},x.title))})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-400",children:"Loved by teams"}),(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Feedback from early builders"})]}),(0,e.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(x=>(0,e.jsxs)("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-transparent p-5",children:[(0,e.jsx)("p",{className:"text-sm text-neutral-200 leading-relaxed",children:x.quote}),(0,e.jsx)("p",{className:"mt-4 text-xs uppercase tracking-[0.3em] text-neutral-400",children:x.author})]},x.author))})]}),(0,e.jsx)("footer",{className:"text-center pt-8 text-sm text-neutral-500",children:(0,e.jsxs)("p",{children:["© ",new Date().getFullYear()," Notion Wiz. Built for the Notion community."]})})]})})}var co=(t,o)=>{if(!o)return t;const r={...t};return r.brandThemeSnapshot={...o,appliedAt:o.appliedAt||new Date().toISOString()},o.backgroundColor&&(r.bgColor=o.backgroundColor,r.backgroundColor!==void 0&&(r.backgroundColor=o.backgroundColor)),o.textColor&&r.textColor!==void 0&&(r.textColor=o.textColor),o.accentColor&&r.accentColor!==void 0&&(r.accentColor=o.accentColor),r.lightMode&&(r.lightMode={...r.lightMode,backgroundColor:o.backgroundColor||r.lightMode.backgroundColor,clockColor:o.clockColor||r.lightMode.clockColor,digitColor:o.digitColor||o.clockColor||r.lightMode.digitColor,textColor:o.textColor||r.lightMode.textColor}),r.darkMode&&(r.darkMode={...r.darkMode,backgroundColor:o.backgroundColor||r.darkMode.backgroundColor,clockColor:o.clockColor||r.darkMode.clockColor,digitColor:o.digitColor||o.clockColor||r.darkMode.digitColor,textColor:o.textColor||r.darkMode.textColor}),o.glow!==void 0&&r.glowEffect!==void 0&&(r.glowEffect=o.glow),o.texture&&r.backgroundTexture!==void 0&&(r.backgroundTexture=o.texture),r},Rt=(t,o,r)=>{if(o==="custom"&&r)return co(t,r);if(o==="none"){const c={...t};return delete c.brandThemeSnapshot,c}const s=io[o];if(!s){const c={...t};return delete c.brandThemeSnapshot,c}const d={...t};return delete d.brandThemeSnapshot,s.fontFamily&&(d.fontFamily=s.fontFamily),s.bgColor&&(d.bgColor=s.bgColor),s.textColor&&(d.textColor=s.textColor),s.accentColor&&(d.accentColor=s.accentColor),o==="jazer"&&(d.glowEffect!==void 0&&(d.glowEffect=!0),d.gradientText!==void 0&&(d.gradientText=!0)),d};function Ls({initialWidgetId:t,onBack:o,globalBrandTheme:r,onBrandThemeUpdate:s,onLaunchBrandGenerator:d}){const c=(0,h.useMemo)(()=>r?Be(r):null,[r]),[a,m]=(0,h.useState)(t),[l,g]=(0,h.useState)(c?"custom":"none"),[n,u]=(0,h.useState)(()=>{const f=We[t].defaultConfig;return c?co(f,c):f}),[b,w]=(0,h.useState)(c),[T,C]=(0,h.useState)({}),[y,x]=(0,h.useState)(""),_=(0,h.useRef)({}),k=(0,h.useRef)(null),N=(0,h.useRef)(null),v=(0,h.useRef)(null),[z,G]=(0,h.useState)(null),[W,re]=(0,h.useState)(!1),[$,ce]=(0,h.useState)(dt),[U,P]=(0,h.useState)(!1),[ne,we]=(0,h.useState)(!1),[xe,me]=(0,h.useState)(""),[ke,pe]=(0,h.useState)("all"),[D,Y]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const f=window.localStorage.getItem("notion_wiz_pins");return f?JSON.parse(f):[]}catch{return[]}}),{recentWidgets:le,addRecentWidget:be}=fs(),[Ze,He]=(0,h.useState)(!1),Ee=(0,h.useCallback)(()=>typeof window>"u"?!0:window.innerWidth>=1024,[]),[Me,nt]=(0,h.useState)(Ee),[Ke,Le]=(0,h.useState)(Ee);(0,h.useEffect)(()=>{if(typeof window>"u")return;let f=Ee();const A=()=>{const I=Ee();I!==f&&(f=I,nt(I),Le(I))};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[Ee]);const F=Cs(n,vs),M=b||c,p=!!M,j=M?.presetName||M?.name||"Custom Brand Theme",S=We[a],E=(0,h.useMemo)(()=>S?.sections?S.sections.map(f=>{const A=S.fields.filter(I=>(I.section||"general")===f.id).length;return{...f,controlCount:A}}).filter(f=>f.controlCount>0):[],[S]);(0,h.useEffect)(()=>{const f=document.createElement("link");return f.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap",f.rel="stylesheet",document.head.appendChild(f),()=>document.head.removeChild(f)},[]),(0,h.useEffect)(()=>{_.current={}},[a]),(0,h.useEffect)(()=>{if(!U)return;const f=A=>{v.current&&(v.current.contains(A.target)||P(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[U]),(0,h.useEffect)(()=>{if(!(typeof window>"u"))try{localStorage.setItem("notion_wiz_pins",JSON.stringify(D))}catch{}},[D]);const B=(0,h.useCallback)(f=>{C(A=>({...A,[f]:A[f]===!1}))},[]),J=(0,h.useCallback)(f=>T[f]!==!1,[T]),O=f=>{m(f),we(!1),ce(dt);const A=We[f].defaultConfig;u(Rt(A,l,M)),He(!1),me("");const I=We[f];I&&be(f,I.label)},ee=f=>{const A=Rt(We[a].defaultConfig,l,M);JSON.stringify(n)!==JSON.stringify(A)&&!window.confirm("Applying a brand kit will override your current customizations. Continue?")||(g(f),u(I=>Rt(I,f,M)))},ae=(f,A)=>A.split(".").reduce((I,R)=>I?.[R],f),Z=(f,A,I)=>{const R=A.split("."),oe=R.pop(),Q=R.reduce((ye,he)=>(ye[he]||(ye[he]={}),ye[he]),f);return Q[oe]=I,f},K=(0,h.useCallback)((f,A)=>{if(f.includes(".")){u(I=>{const R={...I};return Z(R,f,A),R});return}if(f==="lightMode"||f==="darkMode"){u(I=>({...I,[f]:{...I[f],...A}}));return}u(I=>{let R=A;if(typeof I[f]=="number"&&typeof A=="string"){const oe=parseInt(A,10);R=Number.isNaN(oe)?I[f]:oe}return{...I,[f]:R}})},[]),Ne=(0,h.useCallback)(f=>{x(f),f.trim()?ce(Number.MAX_SAFE_INTEGER):ce(dt)},[]),fe=(0,h.useCallback)(f=>{const A=f?Be(f):null;if(A){w(A),g("custom"),s?.(A);try{localStorage.setItem("jazer_global_brand_theme",JSON.stringify(A)),localStorage.setItem("jazer_global_brand_active","true")}catch{}return}w(null),g(I=>I==="custom"?"none":I),s?.(null);try{localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active")}catch{}},[s]),L=(0,h.useMemo)(()=>["all","pinned",...Array.from(new Set(Object.values(Vt)))],[]),de=(0,h.useMemo)(()=>{const f=xe.trim().toLowerCase(),A=I=>D.indexOf(I);return Object.values(We).map(I=>({...I,category:Vt[I.id]||"Other",isPinned:D.includes(I.id)})).filter(I=>f?[I.label,I.description].filter(Boolean).map(R=>String(R).toLowerCase()).some(R=>R.includes(f)):!0).filter(I=>ke==="all"?!0:ke==="pinned"?I.isPinned:I.category===ke).sort((I,R)=>{const oe=A(I.id),Q=A(R.id);return oe!==Q?oe===-1?1:Q===-1?-1:oe-Q:I.label.localeCompare(R.label)})},[xe,ke,D]),ue=(0,h.useCallback)(f=>{Y(A=>A.includes(f)?A.filter(I=>I!==f):[...A,f])},[]),Se=(0,h.useMemo)(()=>[{id:"brandControls",label:"Brand Kit"},{id:"appearanceControls",label:"Surface"},...E.map(f=>({id:f.id,label:f.label}))],[E]),{nodes:Ae,total:V}=(0,h.useMemo)(()=>{if(!S)return{nodes:[],total:0};const f=y.trim().toLowerCase(),A=S.sections?S.sections.map(Q=>Q.id):[...new Set(S.fields.map(Q=>Q.section))].filter(Boolean),I=S.fields.filter(Q=>!Q.section);I.length>0&&!A.includes("general")&&A.unshift("general");const R=Q=>f?[Q.label,Q.name,Q.placeholder,Q.section].filter(Boolean).map(ye=>String(ye).toLowerCase()).some(ye=>ye.includes(f)):!0,oe=A.map(Q=>{const ye=Q==="general"?I:S.fields.filter(se=>se.section===Q);if(ye.length===0)return null;let he=Q,_e=null;S.sections?(_e=S.sections.find(se=>se.id===Q),he=_e?_e.label:Q):he={time:"Time Display",style:"Clock Style",analog:"Analog Customization",typography:"Typography",background:"Background",interactive:"Interactive Mode",theme:"Preset Themes",appearance:"Appearance Mode",features:"Additional Features",effects:"Visual Effects",event:"Event Setup",units:"Time Units",completion:"Completion",general:"General Settings"}[Q]||Q;const De=he.toLowerCase(),vt=f&&_e?.description?.toLowerCase().includes(f),Pe=f&&_e?.notes?.some(se=>[se.title,se.body].filter(Boolean).some(Qe=>Qe.toLowerCase().includes(f))),Xe=f&&(De.includes(f)||vt||Pe),wt=a==="newButtonGenerator"&&!ne&&!f,ir={macroInput:!!(n.macroMode?.enabled||n.inputMode?.enabled),cycleToggle:!!(n.cycleMode?.enabled||n.toggleMode?.enabled),notionIntegration:!!n.notionIntegration?.enabled,visuals:!!(n.visuals?.enableParticleEffects||n.visuals?.activeGlow||n.visuals?.showProgressArc||n.visuals?.badgesEnabled),dataAware:!!n.dataAware?.enabled};if(wt&&Object.prototype.hasOwnProperty.call(ir,Q)&&!ir[Q]){const se=()=>{Q==="macroInput"&&K("macroMode.enabled",!0),Q==="cycleToggle"&&K("toggleMode.enabled",!0),Q==="notionIntegration"&&K("notionIntegration.enabled",!0),Q==="dataAware"&&K("dataAware.enabled",!0),Q==="visuals"&&K("visuals",{...n.visuals,enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0})};return(0,e.jsxs)("div",{ref:Qe=>{Qe&&(_.current[Q]=Qe)},className:`border border-white/10 rounded-lg bg-white/5 overflow-hidden ${z===Q?"ring-2 ring-purple-400":""}`,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>B(Q),className:"w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold text-white",children:[(0,e.jsxs)("div",{className:"flex flex-col text-left",children:[(0,e.jsxs)("span",{className:"flex items-center gap-2",children:[(0,e.jsx)(mo,{className:"w-4 h-4 text-neutral-400"}),he]}),(0,e.jsx)("span",{className:"text-[11px] font-normal text-neutral-400",children:"Hidden while disabled. Enable this upgrade to configure it."})]}),(0,e.jsx)(Ut,{className:"w-4 h-4 transition-transform",style:{transform:J(Q)?"rotate(180deg)":"rotate(0deg)"}})]}),J(Q)&&(0,e.jsx)("div",{className:"p-3 space-y-3 border-t border-white/5",children:(0,e.jsxs)("div",{className:"flex items-start justify-between gap-3 bg-black/20 border border-white/10 rounded-lg p-3",children:[(0,e.jsx)("div",{className:"text-xs text-neutral-300 leading-snug",children:"Use the expanding Upgrade orb on the preview to turn this on, or enable it here."}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,e.jsx)("button",{type:"button",onClick:()=>we(!0),className:"text-[11px] px-3 py-1.5 rounded-full border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition",children:"Show"}),(0,e.jsx)("button",{type:"button",onClick:se,className:"text-[11px] px-3 py-1.5 rounded-full border border-emerald-300/60 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition",children:"Enable"})]})]})})]},Q)}const cr=Xe?ye:ye.filter(R);if(cr.length===0)return null;const dr=f?!0:J(Q);return(0,e.jsxs)("div",{ref:se=>{se&&(_.current[Q]=se)},className:`border border-white/10 rounded-lg bg-white/5 overflow-hidden ${z===Q?"ring-2 ring-purple-400":""}`,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>B(Q),className:"w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold text-white",children:[(0,e.jsxs)("div",{className:"flex flex-col text-left",children:[(0,e.jsx)("span",{children:he}),_e?.description&&(0,e.jsx)("span",{className:"text-[11px] font-normal text-neutral-400",children:_e.description})]}),(0,e.jsx)(Ut,{className:"w-4 h-4 transition-transform",style:{transform:dr?"rotate(180deg)":"rotate(0deg)"}})]}),dr&&(0,e.jsxs)("div",{className:"p-3 space-y-3 border-t border-white/5",children:[_e?.notes?.length>0&&(0,e.jsx)("div",{className:"space-y-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2",children:_e.notes.map(se=>(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("div",{className:"text-xs font-semibold text-white",children:se.title}),se.body&&(0,e.jsx)("p",{children:se.body})]},`${Q}-${se.title}`))}),cr.map(se=>{let Qe=se;if(se.name==="presetTheme"&&b&&a==="clock"){const Lt=[{label:"--- Brand-Based Themes ---",value:"__separator__",disabled:!0},{label:"Brand Monochrome",value:"brand-monochrome"},{label:"Brand Contrast",value:"brand-contrast"},{label:"Brand Vibrant",value:"brand-vibrant"},{label:"Brand Professional",value:"brand-professional"},{label:"Brand Dark",value:"brand-dark"},{label:"Brand Light",value:"brand-light"},{label:"Brand Neon",value:"brand-neon"},{label:"Brand Minimal",value:"brand-minimal"}];Qe={...se,options:[...se.options,...Lt]}}return(0,e.jsx)(Ms,{field:Qe,value:se.name.includes(".")?ae(n,se.name):n[se.name],onChange:Lt=>K(se.name,Lt)},se.name)})]})]},Q)}).filter(Boolean);return oe.length===0?{nodes:[(0,e.jsx)("div",{className:"text-xs text-neutral-400 italic",children:f?`No settings match "${y}".`:"No configurable settings available."},"empty")],total:0}:{nodes:f?oe:oe.slice(0,$),total:oe.length}},[S,a,b,n,y,K,z,J,ne,B,$]),Re=!y.trim()&&V>$;(0,h.useEffect)(()=>{if(y.trim()||$>=V)return;const f=typeof window<"u"?window.requestAnimationFrame:null,A=()=>{const I=k.current;I&&I.scrollHeight<=I.clientHeight+40&&ce(R=>Math.min(R+dt,V))};if(f)return f(A),()=>{};A()},[y,V,$]),(0,h.useEffect)(()=>{if(!Re)return;const f=N.current;if(!f)return;const A=k.current||null,I=new IntersectionObserver(R=>{R[0].isIntersecting&&ce(oe=>Math.min(oe+dt,V))},{root:A,threshold:.25});return I.observe(f),()=>I.disconnect()},[Re,V]);const Ge=(0,h.useCallback)(f=>!f||!_.current[f]?!1:(_.current[f].scrollIntoView({behavior:"smooth",block:"center"}),C(A=>({...A,[f]:!0})),G(f),setTimeout(()=>{G(A=>A===f?null:A)},1500),!0),[]),ge=(0,h.useCallback)(f=>{!Ge(f)&&f?(ce(Number.MAX_SAFE_INTEGER),typeof window<"u"&&window.requestAnimationFrame(()=>{setTimeout(()=>Ge(f),80)})):!f&&k.current&&k.current.scrollIntoView({behavior:"smooth",block:"start"}),re(!0),setTimeout(()=>re(!1),1200)},[Ge]),lt=(0,h.useMemo)(()=>{const f=[{id:"upgrade-brand",label:"Brand Kit Sync",description:"Apply a global palette and keep widgets consistent.",icon:Ye,kind:"navigate",cta:"Open",onSelect:()=>ge("brandControls")},{id:"upgrade-surface",label:"Surface & Canvas",description:"Tune background, text, and sizing for a cleaner embed.",icon:ut,kind:"navigate",cta:"Open",onSelect:()=>ge("appearanceControls")}];if(a!=="newButtonGenerator")return f;const A=[{id:"upgrade-hover",label:"Hover Menu",description:"Show hover glow + interaction hints on the widget surface.",icon:rt,kind:"toggle",enabled:!!n.showHoverMenu,keepOpen:!0,onToggle:R=>K("showHoverMenu",R)},{id:"upgrade-customize-button",label:"Customize Button",description:"Expose quick navigation into the Configure panel.",icon:xr,kind:"toggle",enabled:!!n.showCustomizeButton,keepOpen:!0,onToggle:R=>K("showCustomizeButton",R)},{id:"upgrade-macro",label:"Macro Mode",description:"Run a sequence of actions from one click.",icon:Ht,kind:"toggle",enabled:!!n.macroMode?.enabled,keepOpen:!0,onToggle:R=>K("macroMode.enabled",R)},{id:"upgrade-input",label:"Input Mode",description:"Prompt for a quick note before running actions.",icon:Mo,kind:"toggle",enabled:!!n.inputMode?.enabled,keepOpen:!0,onToggle:R=>K("inputMode.enabled",R)},{id:"upgrade-cycle",label:"Cycle Mode",description:"Cycle through presets (Start, Pause, Skip, Complete).",icon:nr,kind:"toggle",enabled:!!n.cycleMode?.enabled,keepOpen:!0,onToggle:R=>K("cycleMode.enabled",R)},{id:"upgrade-toggle",label:"Toggle State",description:"Persist an Active/Inactive state with glow + logging.",icon:Bo,kind:"toggle",enabled:!!n.toggleMode?.enabled,keepOpen:!0,onToggle:R=>K("toggleMode.enabled",R)},{id:"upgrade-notion",label:"Notion Integration",description:"Simulate database actions, templates, and two-way conditions.",icon:zr,kind:"toggle",enabled:!!n.notionIntegration?.enabled,keepOpen:!0,onToggle:R=>K("notionIntegration.enabled",R)},{id:"upgrade-visuals",label:"Premium Visuals",description:"Particles, progress arc, badges, and active glow.",icon:ve,kind:"toggle",enabled:!!(n.visuals?.enableParticleEffects||n.visuals?.activeGlow||n.visuals?.showProgressArc||n.visuals?.badgesEnabled),keepOpen:!0,onToggle:R=>K("visuals",{...n.visuals,enableParticleEffects:R,activeGlow:R,showProgressArc:R,badgesEnabled:R})},{id:"upgrade-data-aware",label:"Data-Aware Reactions",description:"Let sample metrics change colors, labels, and status.",icon:wo,kind:"toggle",enabled:!!n.dataAware?.enabled,keepOpen:!0,onToggle:R=>K("dataAware.enabled",R)}],I=[{id:"jump-modes",label:"Edit Modes & Macros",description:"Jump straight to macro + input mode settings.",icon:qt,kind:"navigate",cta:"Jump",onSelect:()=>ge("macroInput")},{id:"jump-notion",label:"Configure Notion Sync",description:"Database, template, two-way rules, and conditionals.",icon:qt,kind:"navigate",cta:"Jump",onSelect:()=>ge("notionIntegration")}];return[...f,...A,...I]},[a,n,K,ge]);return(0,e.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row font-sans",style:{backgroundColor:"var(--jazer-night-black)",color:"var(--jazer-stardust-white)"},children:[!Me&&Ke&&(0,e.jsx)("button",{type:"button",className:"fixed inset-0 bg-black/60 z-30 lg:hidden","aria-label":"Close widget list overlay",onClick:()=>Le(!1)}),(0,e.jsxs)("div",{className:`${Me?"relative w-full lg:w-72":"fixed inset-y-0 left-0 w-72 max-w-[85vw] transform transition-transform duration-300 z-40"} flex flex-col h-full min-h-0`,style:{backgroundColor:"var(--jazer-graphite)",borderRight:"1px solid var(--jazer-soft-slate)",transform:Me||Ke?"translateX(0)":"translateX(-100%)"},children:[(0,e.jsxs)("div",{className:"p-4 space-y-3",style:{borderBottom:"1px solid var(--jazer-soft-slate)"},children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-500",children:"Builder"}),(0,e.jsxs)("h1",{className:"text-lg font-bold flex items-center gap-2 gradient-text neon-text",children:[(0,e.jsx)(ut,{className:"w-5 h-5",style:{color:"var(--jazer-electric-purple)"}})," ",S?.label||"Widget"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[!Me&&(0,e.jsx)("button",{type:"button","aria-label":"Close widget list",onClick:()=>Le(!1),className:"p-1 rounded-full border border-white/15 text-neutral-200 hover:border-purple-400 hover:text-white transition",children:(0,e.jsx)(Je,{className:"w-3 h-3"})}),(0,e.jsxs)("button",{"aria-label":"Navigate back to home",onClick:o,className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full border border-white/10 text-neutral-300 hover:border-purple-400 hover:text-white transition-colors",children:[(0,e.jsx)(or,{className:"w-3 h-3"})," Exit"]})]})]}),(0,e.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug",children:"Choose a widget to edit. Use search or pin your frequent favorites for faster access."})]}),(0,e.jsxs)("div",{className:"px-4 py-3 border-b border-subtle space-y-2",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(ht,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,e.jsx)("input",{type:"text",value:xe,onChange:f=>me(f.target.value),placeholder:"Search widgets...",className:"w-full bg-white/5 border-interactive rounded-full py-2 pl-9 pr-9 text-sm text-white placeholder:text-neutral-400 focus-ring transition-all","aria-label":"Search widgets"}),xe&&(0,e.jsx)("button",{onClick:()=>me(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-white transition-colors focus-ring rounded","aria-label":"Clear search",children:(0,e.jsx)(Je,{className:"w-4 h-4"})})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between text-[10px] uppercase tracking-widest text-neutral-500",children:[(0,e.jsxs)("span",{children:[de.length," results"]}),(0,e.jsx)("span",{className:"text-neutral-400",children:"Pin favorites for quick access"})]})]}),(0,e.jsx)("div",{className:"px-4 py-2 border-b border-subtle flex flex-wrap gap-2",children:L.map(f=>{const A=f==="all"?"All Widgets":f==="pinned"?"Pinned":f,I=ke===f,R=f==="pinned"&&D.length===0,oe={all:ut,pinned:gr,"Time & Productivity":Tt,"Data & Information":Co,"Media & Display":tr,"Interactive & Actions":sr,Other:yo}[f]||null;return(0,e.jsxs)("button",{type:"button",disabled:R,onClick:()=>pe(f),className:`
                  text-[10px] px-3 py-1.5 rounded-full border transition-all flex items-center gap-1.5
                  ${I?"border-accent text-white bg-purple-500/20 shadow-sm":"border-interactive text-neutral-300 hover:border-emphasis hover:text-white hover:bg-white/5"} 
                  ${R?"opacity-30 cursor-not-allowed":""} 
                  focus-ring
                `,"aria-pressed":I,children:[oe&&(0,e.jsx)(oe,{className:"w-3 h-3"}),A]},f)})}),(0,e.jsxs)("nav",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-3",children:[le.length>0&&ke==="all"&&!xe&&(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,e.jsxs)("h3",{className:"text-[10px] uppercase tracking-wider font-bold text-purple-400 flex items-center gap-1.5",children:[(0,e.jsx)(Tt,{className:"w-3 h-3"}),"Recent"]}),(0,e.jsx)("span",{className:"text-[9px] text-neutral-500",children:le.length})]}),(0,e.jsx)("div",{className:"space-y-1.5",children:le.slice(0,3).map(f=>(0,e.jsxs)("button",{type:"button",onClick:()=>O(f.id),className:`
                        w-full px-3 py-2 rounded-lg text-left transition-all flex items-center justify-between group
                        ${a===f.id?"bg-purple-500/15 border border-accent text-white":"bg-white/5 border border-subtle hover:border-interactive hover:bg-white/[0.07] text-neutral-300 hover:text-white"}
                      `,children:[(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("div",{className:"text-xs font-medium truncate",children:f.label}),(0,e.jsx)("div",{className:"text-[10px] text-neutral-500",children:ys(f.timestamp)})]}),(0,e.jsx)(ar,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]},f.id))}),(0,e.jsx)("div",{className:"border-t border-subtle pt-2"})]}),de.length===0?(0,e.jsx)("div",{className:"text-xs text-neutral-400 bg-white/5 border-subtle rounded-xl p-4",children:"No widgets match your search. Try a different phrase or reset filters."}):de.map(f=>{const A=f.description||`Customize the ${f.label} widget.`,I=a===f.id;return(0,e.jsxs)("div",{className:`border rounded-xl p-3 flex items-start gap-3 transition-all duration-200 ${I?"border-accent bg-purple-500/15 shadow-lg shadow-purple-900/30":"border-interactive bg-white/5 hover:border-emphasis hover:bg-white/[0.07]"}`,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>O(f.id),className:"flex-1 text-left flex items-start gap-3 focus-ring-inset rounded",children:[(0,e.jsx)("div",{className:`pt-1 px-2 py-1 rounded-lg text-sm transition-colors ${I?"text-purple-300 bg-purple-500/10":"text-neutral-300"}`,children:f.icon}),(0,e.jsxs)("div",{className:"space-y-1 flex-1 min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,e.jsx)("span",{className:"text-sm font-semibold text-white",children:f.label}),I&&(0,e.jsx)("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded-full bg-purple-500/20 border border-accent text-purple-200",children:"Active"})]}),(0,e.jsx)("p",{className:"text-[11px] text-neutral-400 leading-snug line-clamp-2",children:A}),(0,e.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-neutral-500",children:f.category})]})]}),(0,e.jsx)("button",{type:"button","aria-label":f.isPinned?"Unpin widget":"Pin widget",onClick:R=>{R.stopPropagation(),ue(f.id)},className:`p-1.5 rounded-full border transition-all focus-ring ${f.isPinned?"border-amber-300 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20":"border-interactive text-neutral-400 hover:border-amber-200 hover:text-amber-200 hover:bg-amber-500/10"}`,children:(0,e.jsx)(gr,{className:"w-3.5 h-3.5",fill:f.isPinned?"#FCD34D":"none"})})]},f.id)})]})]}),(0,e.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,e.jsxs)("div",{className:"border-b border-white/10 bg-[#10121A] px-4 py-4 sm:px-6 sm:py-6 space-y-4",children:[!Me&&(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("button",{type:"button",onClick:()=>Le(!0),className:"px-3 py-1.5 rounded-full border border-white/15 text-xs uppercase tracking-[0.3em] flex items-center gap-2 text-neutral-200 hover:border-purple-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:[(0,e.jsx)(ut,{className:"w-3 h-3"})," Widgets"]}),(0,e.jsx)("span",{className:"text-[11px] uppercase tracking-[0.3em] text-neutral-500",children:"Preview"})]}),(0,e.jsx)(zs,{activeBrandId:l,config:n,activeWidgetId:a,debouncedConfig:F,handleConfigChange:K,brandTheme:b,ActiveWidget:S,showExport:Ze,setShowExport:He,onCustomizeRequest:ge,upgradeItems:lt})]}),(0,e.jsxs)("div",{className:"flex-1 flex flex-col border-t border-white/5 bg-[#0F1115] min-h-0",children:[(0,e.jsxs)("div",{className:"lg:sticky lg:top-0 z-10 border-b border-white/10 bg-[#0A0C12]/95 backdrop-blur-md px-4 py-3 flex flex-wrap items-center gap-3",children:[(0,e.jsx)("div",{className:"text-xs font-bold uppercase tracking-[0.4em] text-neutral-500",children:"Configure"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[a==="newButtonGenerator"&&(0,e.jsxs)("button",{type:"button",onClick:()=>we(f=>!f),className:`text-[11px] px-3 py-1.5 rounded-full border transition flex items-center gap-1.5 ${ne?"border-emerald-300/60 text-emerald-100 bg-emerald-500/10":"border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white"}`,"aria-pressed":ne,title:ne?"Hide advanced sections when disabled":"Show all sections (even if disabled)",children:[(0,e.jsx)(Ht,{className:"w-3.5 h-3.5"}),ne?"All":"Guided"]}),(0,e.jsxs)("div",{className:"relative",ref:v,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>P(f=>!f),className:"flex items-center gap-2 px-3 py-1.5 text-[11px] rounded-full border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition","aria-expanded":U,children:[(0,e.jsx)(Er,{className:"w-4 h-4"}),"Sections"]}),U&&(0,e.jsx)("div",{className:"absolute right-0 mt-2 w-60 bg-[#0C0F16] border border-white/10 rounded-xl shadow-lg shadow-black/40 p-2 space-y-1 max-h-72 overflow-y-auto custom-scrollbar",children:Se.map(f=>{const A=z===f.id||f.id==="brandControls"&&!z;return(0,e.jsxs)("button",{type:"button",onClick:()=>{ge(f.id),P(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-left text-[12px] transition ${A?"bg-purple-500/20 border border-purple-400 text-white":"bg-white/5 border border-white/5 text-neutral-200 hover:border-purple-300 hover:text-white"}`,children:[(0,e.jsx)("span",{children:f.label}),A&&(0,e.jsx)("span",{className:"text-[10px] uppercase tracking-wide text-purple-200",children:"Active"})]},f.id)})})]}),(0,e.jsxs)("button",{"aria-label":"Get export code",onClick:()=>He(!0),className:"text-[11px] px-3 py-1.5 rounded-full border border-pink-400/60 text-white bg-pink-500/20 hover:bg-pink-500/30 transition flex items-center gap-1",children:[(0,e.jsx)(er,{className:"w-3 h-3"})," Export"]})]})]}),(0,e.jsxs)("div",{ref:k,className:"flex-1 overflow-y-auto px-4 sm:px-6 py-6 space-y-8 transition-all",style:{outline:W?"2px solid var(--jazer-electric-purple)":"none",outlineOffset:W?"2px":"0",overscrollBehavior:"contain",paddingBottom:Me?void 0:"8rem"},children:[(0,e.jsxs)("section",{ref:f=>{f&&(_.current.brandControls=f)},className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-400",children:"Brand Kit"}),(0,e.jsx)("h3",{className:"text-base font-semibold text-white",children:"Global Palette"})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("select",{"aria-label":"Select brand kit",value:l,onChange:f=>ee(f.target.value),className:"bg-[#0B0E12] border border-white/10 rounded-full text-xs text-white px-3 py-1.5",children:[(0,e.jsx)("option",{value:"none",children:"None"}),(0,e.jsx)("option",{value:"jazer",children:"Neon"}),p&&(0,e.jsx)("option",{value:"custom",children:j})]}),d&&(0,e.jsx)("button",{type:"button",onClick:d,className:"text-[11px] px-3 py-1.5 rounded-full border border-cyan-400/60 text-cyan-100 hover:border-cyan-200 transition",children:"Launch Generator"})]})]}),(0,e.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{className:"space-y-3",children:[l==="jazer"&&(0,e.jsxs)("div",{className:"p-3 bg-purple-500/10 border border-purple-400/40 rounded-xl text-xs text-purple-100 space-y-1",children:[(0,e.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,e.jsx)(ve,{className:"w-3 h-3"})," Official Neon Kit"]}),(0,e.jsx)("p",{className:"text-purple-200/80",children:"Orbitron & Montserrat fonts, neon gradient accents, and night-mode canvas."})]}),l==="custom"&&M&&(0,e.jsxs)("div",{className:"p-3 bg-cyan-500/10 border border-cyan-400/40 rounded-xl text-xs text-cyan-100 space-y-2",children:[(0,e.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,e.jsx)(ve,{className:"w-3 h-3"})," ",j]}),(0,e.jsx)("p",{className:"text-cyan-100/80",children:"Widgets are synced with your logo palette."}),(0,e.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Background",color:M.backgroundColor||M.background},{label:"Primary",color:M.clockColor||M.primary},{label:"Digits",color:M.digitColor||M.secondary},{label:"Text",color:M.textColor||M.text}].map(({label:f,color:A})=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"h-10 rounded border border-white/20",style:{backgroundColor:A||"#0B0E12"}}),(0,e.jsx)("div",{className:"mt-1 text-[9px] uppercase text-neutral-400",children:f}),(0,e.jsx)("div",{className:"text-[9px] font-mono text-neutral-300",children:A||"--"})]},f))})]})]}),l==="custom"&&M?.palette?.length>0&&(0,e.jsxs)("div",{className:"bg-[#0B0E12] border border-white/10 rounded-xl p-3",children:[(0,e.jsx)("div",{className:"text-[10px] uppercase text-neutral-500 mb-2",children:"Palette Swatches"}),(0,e.jsx)("div",{className:"grid grid-cols-5 gap-2",children:M.palette.map((f,A)=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"w-full h-10 rounded border border-white/10",style:{backgroundColor:f}}),(0,e.jsx)("div",{className:"text-[8px] text-neutral-400 truncate mt-1",children:f})]},`${f}-${A}`))})]}),l==="jazer"&&(0,e.jsx)(Fs,{})]})]}),(0,e.jsxs)("section",{ref:f=>{f&&(_.current.appearanceControls=f)},className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] text-neutral-400",children:"Surface"}),(0,e.jsx)("h3",{className:"text-base font-semibold text-white",children:"Canvas & Appearance"})]}),n.fontSize!==void 0&&(0,e.jsxs)("div",{className:"text-[11px] text-neutral-400",children:[n.fontSize,"px"]})]}),n.fontSize!==void 0&&(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("div",{className:"flex justify-between",children:(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-400",children:"Font Size"})}),(0,e.jsx)("input",{"aria-label":"Font size slider",type:"range",min:ws,max:ks,value:n.fontSize,onChange:f=>K("fontSize",parseInt(f.target.value)),className:"w-full h-2 bg-neutral-800 rounded-full appearance-none cursor-pointer accent-purple-500"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1",children:"Background"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-white/10 p-2 rounded-lg",children:[(0,e.jsx)("input",{"aria-label":"Background color",type:"color",value:n.bgColor,onChange:f=>K("bgColor",f.target.value),className:"w-8 h-8 rounded border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.bgColor})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-400 mb-1",children:"Text"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-white/10 p-2 rounded-lg",children:[(0,e.jsx)("input",{"aria-label":"Text color",type:"color",value:n.textColor||"#000000",onChange:f=>K("textColor",f.target.value),className:"w-8 h-8 rounded border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.textColor})]})]})]})]}),(0,e.jsxs)("section",{className:"space-y-4 bg-white/5 border border-white/10 rounded-2xl p-5",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between text-xs font-bold text-neutral-400 uppercase",children:[(0,e.jsxs)("span",{className:"flex items-center gap-2",children:[(0,e.jsx)(ht,{className:"w-3 h-3"})," Quick Find"]}),y&&(0,e.jsx)("button",{type:"button",onClick:()=>Ne(""),className:"text-[10px] text-neutral-300 hover:text-white transition-colors",children:"Clear"})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(ht,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"}),(0,e.jsx)("input",{type:"text",value:y,onChange:f=>Ne(f.target.value),placeholder:"Search labels, sections, or controls...",className:"w-full bg-white/5 border border-white/10 rounded-full py-2.5 pl-10 pr-3 text-sm text-white placeholder:text-neutral-400 focus:outline-none focus:border-purple-400 focus:ring-0"})]}),E.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(f=>(0,e.jsxs)("button",{type:"button",onClick:()=>ge(f.id),className:`px-3 py-1.5 rounded-full border text-[11px] ${z===f.id?"border-purple-400 text-white bg-purple-500/20":"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white"}`,children:[f.label," · ",f.controlCount]},f.id))})]}),(0,e.jsx)(no,{onColorsExtracted:f=>{if(!f){fe(null),u(Pe=>{if(!Pe.brandThemeSnapshot)return Pe;const Xe={...Pe};return delete Xe.brandThemeSnapshot,Xe});return}const A=Be(f,{appliedAt:new Date().toISOString()});if(!A)return;fe(A);const I={...n,brandThemeSnapshot:A},R=A.backgroundColor||A.background,oe=A.textColor||A.text,Q=A.text||A.textColor||"#0B0E12",ye=A.background||A.backgroundColor||"#F8F9FF",he=A.clockColor||A.primary||A.primaryColor,_e=A.digitColor||A.secondary||A.secondaryColor||he,De=A.accentColor||A.accent||he,vt=Array.isArray(A.palette)?A.palette:[];if(a==="clock"?(I.lightMode={...I.lightMode,textColor:oe,panelColor:R,digitColor:he,clockColor:he,backgroundColor:R},I.darkMode={...I.darkMode,textColor:ye,panelColor:Q,digitColor:_e,clockColor:De,backgroundColor:Q},I.bgColor=R):a==="countdown"?(I.lightMode={...I.lightMode,textColor:oe,panelColor:R,digitColor:he,backgroundColor:R},I.darkMode={...I.darkMode,textColor:ye,panelColor:Q,digitColor:_e,backgroundColor:Q},I.bgColor=R):a==="quotes"&&(I.lightMode={...I.lightMode,textColor:oe,authorColor:_e,backgroundColor:R},I.darkMode={...I.darkMode,textColor:ye,authorColor:De,backgroundColor:Q},I.bgColor=R),a==="counter")I.lightTextColor=oe,I.darkTextColor=Q,I.bgColor=R;else if(a==="weather")I.bgColor=R,I.textColor=oe,I.accentColor=De;else if(a==="imageGallery")I.bgColor=R;else if(a==="newButtonGenerator"){const Pe=vt.length>0?vt:[he,De,oe].filter(Boolean);I.buttons&&Array.isArray(I.buttons)&&(I.buttons=I.buttons.map((Xe,wt)=>({...Xe,backgroundColor:Pe[wt%Pe.length]||he,textColor:oe,outlineColor:De,hoverBackgroundColor:R,hoverTextColor:Pe[wt%Pe.length]||he}))),I.bgColor=R}else a==="simpleList"||a==="pomodoro"?(I.bgColor=R,I.textColor=oe,I.accentColor=De):(I.bgColor=R,I.textColor=oe,I.accentColor!==void 0&&(I.accentColor=De));u(I)}}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase",children:[(0,e.jsx)(xr,{className:"w-3 h-3"})," Widget Controls"]}),Ae,Re&&(0,e.jsx)("div",{ref:N,className:"py-4 text-center text-[11px] text-neutral-400",children:"Keep scrolling to load more controls..."})]}),(0,e.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,e.jsx)(Ye,{className:"w-3 h-3"})," Light Mode Colors"]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,e.jsx)("input",{type:"color",value:n.lightMode?.textColor||H.colors.graphite,onChange:f=>K("lightMode",{textColor:f.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.lightMode?.textColor||H.colors.graphite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,e.jsx)("input",{type:"color",value:n.lightMode?.panelColor||H.colors.stardustWhite,onChange:f=>K("lightMode",{panelColor:f.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.lightMode?.panelColor||H.colors.stardustWhite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,e.jsx)("input",{type:"color",value:n.lightMode?.digitColor||H.colors.nightBlack,onChange:f=>K("lightMode",{digitColor:f.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.lightMode?.digitColor||H.colors.nightBlack})]})]})]}),(0,e.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-400 uppercase tracking-widest border-b border-neutral-100 pb-2",children:[(0,e.jsx)(Ye,{className:"w-3 h-3"})," Dark Mode Colors"]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Text Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,e.jsx)("input",{type:"color",value:n.darkMode?.textColor||H.colors.stardustWhite,onChange:f=>K("darkMode",{textColor:f.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.darkMode?.textColor||H.colors.stardustWhite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Panel Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,e.jsx)("input",{type:"color",value:n.darkMode?.panelColor||H.colors.graphite,onChange:f=>K("darkMode",{panelColor:f.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.darkMode?.panelColor||H.colors.graphite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-xs font-medium text-neutral-600",children:"Digit Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 border border-neutral-200 p-1 rounded",children:[(0,e.jsx)("input",{type:"color",value:n.darkMode?.digitColor||H.colors.stardustWhite,onChange:f=>K("darkMode",{digitColor:f.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:"text-[10px] font-mono text-neutral-400",children:n.darkMode?.digitColor||H.colors.stardustWhite})]})]})]}),(0,e.jsx)("hr",{className:"border-neutral-100"}),a==="clock"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("hr",{className:"border-neutral-100 my-4"}),(0,e.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:["💡 ",(0,e.jsx)("strong",{children:"Advanced Clock Features:"})," Full light/dark mode support, 7+ clock styles, and custom fonts available in the full version."]})]})]}),!Me&&(0,e.jsxs)("div",{className:"fixed bottom-4 left-4 right-4 z-30 flex items-center gap-3 bg-[#0A0C12]/95 border border-white/10 rounded-full px-4 py-2 shadow-lg shadow-black/40 backdrop-blur",children:[(0,e.jsx)("button",{type:"button",onClick:()=>P(!0),className:"flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400",children:"Sections"}),(0,e.jsx)("button",{type:"button",onClick:()=>He(!0),className:"flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border border-white/15 text-neutral-200 hover:border-pink-300 hover:text-white transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300",children:"Export"})]})]})]})]})}function Ds(){const t=(0,h.useMemo)(()=>new URLSearchParams(window.location.search),[]),o=t.get("embed")==="1",r=t.get("widget"),s=t.get("config"),[d,c]=(0,h.useState)("landing"),[a,m]=(0,h.useState)("clock"),[l,g]=(0,h.useState)(()=>Ss()),[n,u]=(0,h.useState)("landing"),[b,w]=(0,h.useState)(!1),[T,C]=(0,h.useState)(null),y=G=>{m(G),c("builder")},x=()=>{u(d),c("brand-generator")},_=()=>{c("landing")},k=(0,h.useCallback)(()=>{c(n||"landing")},[n]),N=G=>{g(G?Be(G):null)};if(Jo({"cmd+k":()=>{_()},"cmd+e":()=>{},"cmd+b":()=>{x()},"cmd+/":()=>{T&&T.focus()},"?":G=>{G.target.tagName==="INPUT"||G.target.tagName==="TEXTAREA"||w(!0)},Escape:()=>{w(!1)}},!o),o&&r&&We[r]){const G=We[r];let W=G.defaultConfig||{};s&&(W=Ns(s)||W);const re=Ts(W,!1),$=G.Component;return(0,e.jsx)("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:re.bg,color:re.text,fontFamily:"sans-serif",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,e.jsx)("div",{className:"w-full h-full",children:(0,e.jsx)($,{config:W,brandTheme:W.brandThemeSnapshot})})})}const v=l?.presetName||l?.name||"Custom Brand Theme",z=l?`${l.presetName||l.name||"custom"}-${l.appliedAt||l.backgroundColor||"base"}`:"none";return(0,e.jsxs)(Xo,{children:[(0,e.jsx)("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap');
        ${io.jazer.extraCSS}
      `}),(0,e.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--jazer-night-black)"},children:[(0,e.jsx)(Yo,{currentView:d,onNavigateHome:_,onNavigateBuilder:()=>y(a||"clock"),onNavigateBrand:x,onOpenHelp:()=>w(!0),selectedWidgetId:a,selectedWidgetLabel:We[a]?.label||"",hasBrandTheme:!!l,brandLabel:v}),(0,e.jsx)("div",{className:"flex-1 w-full",children:d==="landing"?(0,e.jsx)(Es,{onSelect:y,onBrandGenerator:x,setSearchInputRef:C}):d==="brand-generator"?(0,e.jsx)(lo,{children:(0,e.jsx)(xs,{onBack:k,onThemeGenerated:N})}):(0,e.jsx)(Ls,{initialWidgetId:a,onBack:_,globalBrandTheme:l,onBrandThemeUpdate:N,onLaunchBrandGenerator:x},z)}),(0,e.jsx)(Zo,{isOpen:b,onClose:()=>w(!1)})]})]})}var Ps=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches;const Os=({children:t})=>{const[o,r]=(0,h.useState)(q),[s,d]=(0,h.useState)(()=>Ps()),[c,a]=(0,h.useState)("jazer-neon");(0,h.useEffect)(()=>{if(typeof window<"u"){const b=window.matchMedia("(prefers-color-scheme: dark)"),w=T=>d(T.matches);return b.addEventListener("change",w),()=>b.removeEventListener("change",w)}},[]);const m=(0,h.useCallback)((b,w="custom")=>{r(b),a(w)},[]),l=(0,h.useCallback)(()=>{r(q),a("jazer-neon")},[]),g=(0,h.useCallback)((b,w=q.colors.stardustWhite)=>o?.colors?.[b]||w,[o]),n=(0,h.useMemo)(()=>({...o,isDark:s,activeBrandId:c,isJazerNeon:c==="jazer-neon"}),[o,s,c]),u=(0,h.useMemo)(()=>({theme:n,setTheme:m,resetToJazerNeon:l,getColor:g,activeBrandId:c,baseTheme:q}),[n,m,l,g,c]);return(0,e.jsx)(Gr.Provider,{value:u,children:t})};(0,Go.createRoot)(document.getElementById("root")).render((0,e.jsx)(h.StrictMode,{children:(0,e.jsx)(Os,{children:(0,e.jsx)(Ds,{})})}));
