import{a as Co,i as kt,n as dt,r as No,t as Ne}from"./rolldown-runtime-Dq6TatWD.js";import{$ as nt,A as So,B as kr,C as qe,D as Rr,E as To,F as Fo,G as Io,H as Hr,I as Bo,J as cr,K as Mo,L as Ao,M as Qt,N as zo,O as _r,P as Gr,Q as Eo,R as Zt,S as gt,T as dr,U as Tt,V as qr,W as lt,X as Kt,Y as Lo,Z as ur,_ as it,_t as At,a as Do,at as Po,b as Ur,bt as Wo,c as $r,ct as Oo,d as Xt,dt as pr,et as yt,f as rt,ft as Vt,g as jr,gt as Ro,h as ye,ht as Ho,i as ze,it as Ft,j as Go,k as qo,l as Uo,lt as $o,m as Yo,mt as Jo,n as Qo,nt as Cr,o as Zo,ot as vt,p as er,pt as Fe,q as Se,r as Ze,rt as Ko,s as _t,st as mr,t as Xo,tt as Vo,u as ot,ut as ea,v as Yr,vt as ta,w as ra,x as tr,xt as oa,y as hr,yt as aa,z as xr}from"./vendor-BGHVmxJS.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))n(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var sa=Wo(),h=oa(),It=function(t,o){return t<o?-1:t>o?1:0},Nr=function(t){return t.reduce(function(o,r){return o+r},0)},na=(function(){function t(r){this.colors=r}var o=t.prototype;return o.palette=function(){return this.colors},o.map=function(r){return r},t})(),la=(function(){function t(c,s,m){return(c<<10)+(s<<5)+m}function o(c){var s=[],m=!1;function d(){s.sort(c),m=!0}return{push:function(g){s.push(g),m=!1},peek:function(g){return m||d(),g===void 0&&(g=s.length-1),s[g]},pop:function(){return m||d(),s.pop()},size:function(){return s.length},map:function(g){return s.map(g)},debug:function(){return m||d(),s}}}function r(c,s,m,d,g,l,p){var x=this;x.r1=c,x.r2=s,x.g1=m,x.g2=d,x.b1=g,x.b2=l,x.histo=p}function n(){this.vboxes=new o(function(c,s){return It(c.vbox.count()*c.vbox.volume(),s.vbox.count()*s.vbox.volume())})}function u(c,s){if(s.count()){var m=s.r2-s.r1+1,d=s.g2-s.g1+1,g=Math.max.apply(null,[m,d,s.b2-s.b1+1]);if(s.count()==1)return[s.copy()];var l,p,x,k,F=0,N=[],y=[];if(g==m)for(l=s.r1;l<=s.r2;l++){for(k=0,p=s.g1;p<=s.g2;p++)for(x=s.b1;x<=s.b2;x++)k+=c[t(l,p,x)]||0;N[l]=F+=k}else if(g==d)for(l=s.g1;l<=s.g2;l++){for(k=0,p=s.r1;p<=s.r2;p++)for(x=s.b1;x<=s.b2;x++)k+=c[t(p,l,x)]||0;N[l]=F+=k}else for(l=s.b1;l<=s.b2;l++){for(k=0,p=s.r1;p<=s.r2;p++)for(x=s.g1;x<=s.g2;x++)k+=c[t(p,x,l)]||0;N[l]=F+=k}return N.forEach(function(v,j){y[j]=F-v}),(function(v){var j,w,T,f,H,Q=v+"1",D=v+"2",B=0;for(l=s[Q];l<=s[D];l++)if(N[l]>F/2){for(T=s.copy(),f=s.copy(),H=(j=l-s[Q])<=(w=s[D]-l)?Math.min(s[D]-1,~~(l+w/2)):Math.max(s[Q],~~(l-1-j/2));!N[H];)H++;for(B=y[H];!B&&N[H-1];)B=y[--H];return T[D]=H,f[Q]=T[D]+1,[T,f]}})(g==m?"r":g==d?"g":"b")}}return r.prototype={volume:function(c){var s=this;return s._volume&&!c||(s._volume=(s.r2-s.r1+1)*(s.g2-s.g1+1)*(s.b2-s.b1+1)),s._volume},count:function(c){var s=this,m=s.histo;if(!s._count_set||c){var d,g,l,p=0;for(d=s.r1;d<=s.r2;d++)for(g=s.g1;g<=s.g2;g++)for(l=s.b1;l<=s.b2;l++)p+=m[t(d,g,l)]||0;s._count=p,s._count_set=!0}return s._count},copy:function(){var c=this;return new r(c.r1,c.r2,c.g1,c.g2,c.b1,c.b2,c.histo)},avg:function(c){var s=this,m=s.histo;if(!s._avg||c){var d,g,l,p,x=0,k=0,F=0,N=0;if(s.r1===s.r2&&s.g1===s.g2&&s.b1===s.b2)s._avg=[s.r1<<3,s.g1<<3,s.b1<<3];else{for(g=s.r1;g<=s.r2;g++)for(l=s.g1;l<=s.g2;l++)for(p=s.b1;p<=s.b2;p++)x+=d=m[t(g,l,p)]||0,k+=d*(g+.5)*8,F+=d*(l+.5)*8,N+=d*(p+.5)*8;s._avg=x?[~~(k/x),~~(F/x),~~(N/x)]:[~~(8*(s.r1+s.r2+1)/2),~~(8*(s.g1+s.g2+1)/2),~~(8*(s.b1+s.b2+1)/2)]}}return s._avg},contains:function(c){var s=this,m=c[0]>>3;return gval=c[1]>>3,bval=c[2]>>3,m>=s.r1&&m<=s.r2&&gval>=s.g1&&gval<=s.g2&&bval>=s.b1&&bval<=s.b2}},n.prototype={push:function(c){this.vboxes.push({vbox:c,color:c.avg()})},palette:function(){return this.vboxes.map(function(c){return c.color})},size:function(){return this.vboxes.size()},map:function(c){for(var s=this.vboxes,m=0;m<s.size();m++)if(s.peek(m).vbox.contains(c))return s.peek(m).color;return this.nearest(c)},nearest:function(c){for(var s,m,d,g=this.vboxes,l=0;l<g.size();l++)((m=Math.sqrt(Math.pow(c[0]-g.peek(l).color[0],2)+Math.pow(c[1]-g.peek(l).color[1],2)+Math.pow(c[2]-g.peek(l).color[2],2)))<s||s===void 0)&&(s=m,d=g.peek(l).color);return d},forcebw:function(){var c=this.vboxes;c.sort(function(g,l){return It(Nr(g.color),Nr(l.color))});var s=c[0].color;s[0]<5&&s[1]<5&&s[2]<5&&(c[0].color=[0,0,0]);var m=c.length-1,d=c[m].color;d[0]>251&&d[1]>251&&d[2]>251&&(c[m].color=[255,255,255])}},{quantize:function(c,s){if(!Number.isInteger(s)||s<1||s>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!c.length||s<2||s>256||!c.length||s<2||s>256)return!1;for(var m=[],d=new Set,g=0;g<c.length;g++){var l=c[g],p=l.join(",");d.has(p)||(d.add(p),m.push(l))}if(m.length<=s)return new na(m);var x=(function(j){var w,T=new Array(32768);return j.forEach(function(f){w=t(f[0]>>3,f[1]>>3,f[2]>>3),T[w]=(T[w]||0)+1}),T})(c);x.forEach(function(){});var k=(function(j,w){var T,f,H,Q=1e6,D=0,B=1e6,C=0,Z=1e6,$=0;return j.forEach(function(W){(T=W[0]>>3)<Q?Q=T:T>D&&(D=T),(f=W[1]>>3)<B?B=f:f>C&&(C=f),(H=W[2]>>3)<Z?Z=H:H>$&&($=H)}),new r(Q,D,B,C,Z,$,w)})(c,x),F=new o(function(j,w){return It(j.count(),w.count())});function N(j,w){for(var T,f=j.size(),H=0;H<1e3;){if(f>=w||H++>1e3)return;if((T=j.pop()).count()){var Q=u(x,T),D=Q[0],B=Q[1];if(!D)return;j.push(D),B&&(j.push(B),f++)}else j.push(T),H++}}F.push(k),N(F,.75*s);for(var y=new o(function(j,w){return It(j.count()*j.volume(),w.count()*w.volume())});F.size();)y.push(F.pop());N(y,s);for(var v=new n;y.size();)v.push(y.pop());return v}}})().quantize,Jr=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};Jr.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var st=function(){};st.prototype.getColor=function(t,o){return o===void 0&&(o=10),this.getPalette(t,5,o)[0]},st.prototype.getPalette=function(t,o,r){var n=(function(s){var m=s.colorCount,d=s.quality;if(m!==void 0&&Number.isInteger(m)){if(m===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");m=Math.max(m,2),m=Math.min(m,20)}else m=10;return(d===void 0||!Number.isInteger(d)||d<1)&&(d=10),{colorCount:m,quality:d}})({colorCount:o,quality:r}),u=new Jr(t),c=la((function(s,m,d){for(var g,l,p,x,k,F=s,N=[],y=0;y<m;y+=d)l=F[0+(g=4*y)],p=F[g+1],x=F[g+2],((k=F[g+3])===void 0||k>=125)&&(l>250&&p>250&&x>250||N.push([l,p,x]));return N})(u.getImageData().data,u.width*u.height,n.quality),n.colorCount);return c?c.palette():null},st.prototype.getColorFromUrl=function(t,o,r){var n=this,u=document.createElement("img");u.addEventListener("load",function(){o(n.getPalette(u,5,r)[0],t)}),u.src=t},st.prototype.getImageData=function(t,o){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var n=new Uint8Array(this.response);i=n.length;for(var u=new Array(i),c=0;c<n.length;c++)u[c]=String.fromCharCode(n[c]);var s=u.join("");o("data:image/png;base64,"+window.btoa(s))}},r.send()},st.prototype.getColorAsync=function(t,o,r){var n=this;this.getImageData(t,function(u){var c=document.createElement("img");c.addEventListener("load",function(){o(n.getPalette(c,5,r)[0],this)}),c.src=u})};const Qr=(0,h.createContext)(),Ee=()=>{const t=(0,h.useContext)(Qr);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};var e=Xo();function Sr({items:t=[],className:o=""}){if(t.length===0)return null;const{theme:r}=Ee(),n=!!r?.isDark;return(0,e.jsx)("nav",{"aria-label":"Breadcrumb",className:`flex items-center gap-2 text-sm ${o}`,children:(0,e.jsx)("ol",{className:"flex items-center gap-2",children:t.map((u,c)=>{const s=c===t.length-1,m=c===0&&u.label==="Home";return(0,e.jsxs)("li",{className:"flex items-center gap-2",children:[c>0&&(0,e.jsx)(pr,{className:`w-4 h-4 ${n?"text-neutral-500":"text-slate-400"}`,"aria-hidden":"true"}),s?(0,e.jsxs)("span",{className:`font-medium flex items-center gap-1.5 ${n?"text-white":"text-slate-900"}`,"aria-current":"page",children:[m&&(0,e.jsx)(kr,{className:"w-4 h-4"}),u.label]}):(0,e.jsxs)("button",{onClick:u.onClick,className:`transition-colors flex items-center gap-1.5 focus-ring rounded px-1 -mx-1 ${n?"text-neutral-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,type:"button",children:[m&&(0,e.jsx)(kr,{className:"w-4 h-4"}),u.label]})]},c)})})})}function ia({currentView:t,onNavigateHome:o,onNavigateBuilder:r,onNavigateBrand:n,onOpenHelp:u,selectedWidgetId:c,selectedWidgetLabel:s,hasBrandTheme:m,brandLabel:d}){const{theme:g,toggleColorMode:l}=Ee(),p=!!g?.isDark,x=[{id:"landing",label:"Home",action:o},{id:"builder",label:"Builder",action:r,disabled:!c},{id:"brand-generator",label:"Brand Kit",action:n}],[k,F]=(0,h.useState)(!1),[N,y]=(0,h.useState)(!0),v=(0,h.useRef)(null);(0,h.useEffect)(()=>{const w=()=>{y(window.innerWidth>=1024)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),(0,h.useEffect)(()=>{if(!k)return;const w=T=>{v.current&&(v.current.contains(T.target)||F(!1))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[k]);const j=h.useMemo(()=>{const w=[{label:"Home",onClick:o}];return t==="builder"&&c&&s?(w.push({label:s,onClick:null}),w.push({label:"Builder",onClick:null})):t==="brand-generator"&&w.push({label:"Brand Generator",onClick:null}),w},[t,c,s,o]);return(0,e.jsx)("header",{className:`w-full border-b backdrop-blur-md sticky top-0 z-30 shadow-lg ${p?"border-subtle bg-[#0B0E12]/90 text-white":"border-sky-100 bg-white/80 text-slate-900"}`,children:(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4",children:[(0,e.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("button",{onClick:o,className:"flex items-center gap-3 focus-ring rounded-lg group","aria-label":"Go to home",children:(0,e.jsx)("img",{src:"/logo.svg",alt:"MetraNode",className:"h-10 w-auto max-w-[200px] group-hover:scale-105 transition-transform",onError:w=>{console.error("Logo failed to load"),w.target.style.display="none"}})}),!N&&(0,e.jsx)("button",{type:"button",onClick:()=>F(w=>!w),className:`md:hidden p-2 rounded-lg border transition focus-ring ${p?"border-interactive text-neutral-200 hover:border-purple-300 hover:text-white":"border-sky-200 text-slate-600 hover:border-sky-400 hover:text-sky-900"}`,"aria-label":"Toggle navigation menu","aria-expanded":k,children:(0,e.jsx)(Rr,{className:"w-5 h-5"})})]}),(0,e.jsxs)("nav",{className:"flex-1 flex flex-col md:flex-row md:items-center gap-4",children:[N?(0,e.jsx)("div",{className:"flex items-center gap-2",children:x.map(w=>{const T=t===w.id;return(0,e.jsx)("button",{type:"button",onClick:w.action,disabled:w.disabled,className:`
                        px-4 py-2 rounded-lg text-sm font-semibold transition-all focus-ring
                        ${T?p?"bg-purple-500/20 text-white border-2 border-purple-400 shadow-lg":"bg-sky-100 text-sky-900 border-2 border-sky-300 shadow-sm":p?"text-neutral-300 hover:text-white hover:bg-white/5 border-2 border-transparent":"text-slate-500 hover:text-sky-900 hover:bg-sky-50 border-2 border-transparent"}
                        ${w.disabled?"opacity-40 cursor-not-allowed":""}
                      `,"aria-current":T?"page":void 0,children:w.label},w.id)})}):(0,e.jsx)("div",{className:"relative",ref:v,children:k&&(0,e.jsx)("div",{className:`absolute left-0 top-0 min-w-[200px] border rounded-xl shadow-2xl p-2 space-y-1 animate-fadeIn ${p?"bg-[#0C0F16] border-interactive":"bg-white border-sky-200"}`,children:x.map(w=>{const T=t===w.id;return(0,e.jsx)("button",{type:"button",onClick:()=>{w.action(),F(!1)},disabled:w.disabled,className:`
                            w-full px-4 py-2.5 rounded-lg text-left text-sm font-medium transition
                            ${T?p?"bg-purple-500/20 border border-purple-400 text-white":"bg-sky-100 border border-sky-300 text-sky-900":p?"bg-white/5 border border-subtle text-neutral-200 hover:border-purple-300 hover:text-white":"bg-white border border-sky-200 text-slate-600 hover:border-sky-400 hover:text-sky-900"}
                            ${w.disabled?"opacity-40 cursor-not-allowed":""}
                          `,children:w.label},w.id)})})}),N&&j.length>1&&(0,e.jsx)("div",{className:"hidden lg:block",children:(0,e.jsx)(Sr,{items:j})}),(0,e.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,e.jsx)("span",{className:`hidden sm:inline uppercase tracking-widest ${p?"text-neutral-500":"text-slate-400"}`,children:"Brand"}),(0,e.jsxs)("span",{className:`
                  px-3 py-1.5 rounded-full border text-xs font-semibold flex items-center gap-1.5
                  ${m?p?"border-emerald-400/50 bg-emerald-500/10 text-emerald-200":"border-emerald-300 bg-emerald-50 text-emerald-700":p?"border-interactive bg-white/5 text-neutral-300":"border-sky-200 bg-sky-50 text-slate-600"}
                `,children:[m&&(0,e.jsx)(ye,{className:"w-3 h-3"}),(0,e.jsx)("span",{className:"hidden sm:inline",children:m?d:"Neon"}),(0,e.jsx)("span",{className:"sm:hidden",children:m?"✓":"–"})]})]}),(0,e.jsx)("button",{onClick:l,role:"switch","aria-checked":p,"aria-label":`Switch to ${p?"light":"dark"} mode`,title:p?"Switch to light mode":"Switch to dark mode",className:`w-11 h-11 rounded-lg border transition focus-ring flex items-center justify-center cursor-pointer ${p?"border-interactive text-neutral-300 hover:border-white/40 hover:text-white":"border-sky-200 text-slate-600 hover:border-sky-400 hover:text-sky-900"}`,children:p?(0,e.jsx)(Xt,{className:"w-4 h-4"}):(0,e.jsx)(To,{className:"w-4 h-4"})}),u&&(0,e.jsx)("button",{onClick:u,className:`p-2 rounded-lg border transition focus-ring ${p?"border-interactive text-neutral-300 hover:border-purple-300 hover:text-white":"border-sky-200 text-slate-600 hover:border-sky-400 hover:text-sky-900"}`,"aria-label":"Open help and shortcuts",title:"Keyboard shortcuts",children:(0,e.jsx)(mr,{className:"w-4 h-4"})})]})]})]}),!N&&j.length>1&&(0,e.jsx)("div",{className:`mt-3 pt-3 border-t ${p?"border-subtle":"border-sky-100"}`,children:(0,e.jsx)(Sr,{items:j})})]})})}function ca(t={},o=!0){const r=(0,h.useCallback)(n=>{if(!o)return;const u=[];(n.ctrlKey||n.metaKey)&&u.push("cmd"),n.altKey&&u.push("alt"),n.shiftKey&&u.push("shift");const c=n.key.toLowerCase();u.push(c);const s=u.join("+"),m=n.key,d=t[s]||t[m];d&&(n.preventDefault(),n.stopPropagation(),d(n))},[t,o]);(0,h.useEffect)(()=>{if(o)return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[r,o])}function da(t){const o=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;return t.split("+").map(r=>{switch(r.toLowerCase()){case"cmd":return o?"⌘":"Ctrl";case"alt":return o?"⌥":"Alt";case"shift":return o?"⇧":"Shift";case"escape":return"Esc";default:return r.toUpperCase()}}).join(o?"":"+")}function ua({isOpen:t,onClose:o}){if(!t)return null;const r=[{category:"Navigation",items:[{keys:"cmd+k",description:"Open quick widget switcher"},{keys:"cmd+/",description:"Focus search input"},{keys:"Escape",description:"Close modals and overlays"}]},{category:"Actions",items:[{keys:"cmd+e",description:"Open export modal"},{keys:"cmd+b",description:"Go to brand generator"},{keys:"cmd+s",description:"Quick save (export)"}]},{category:"Help",items:[{keys:"?",description:"Show this help dialog"}]}];return(0,e.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",children:(0,e.jsxs)("div",{className:"bg-[#0B0E12] border-2 border-purple-400/30 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:n=>n.stopPropagation(),children:[(0,e.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,e.jsx)(Bo,{className:"w-5 h-5 text-purple-400"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{id:"shortcuts-title",className:"text-xl font-bold text-white",children:"Keyboard Shortcuts"}),(0,e.jsx)("p",{className:"text-sm text-neutral-400",children:"Boost your productivity with these shortcuts"})]})]}),(0,e.jsx)("button",{onClick:o,className:"p-2 hover:bg-white/10 rounded-lg transition-colors focus-ring","aria-label":"Close shortcuts dialog",children:(0,e.jsx)(Ze,{className:"w-5 h-5 text-neutral-400"})})]}),(0,e.jsx)("div",{className:"px-6 py-6 overflow-y-auto max-h-[calc(80vh-120px)] space-y-6",children:r.map(n=>(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-xs uppercase tracking-wider font-bold text-purple-400 mb-3",children:n.category}),(0,e.jsx)("div",{className:"space-y-2",children:n.items.map((u,c)=>(0,e.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[(0,e.jsx)("span",{className:"text-sm text-neutral-300",children:u.description}),(0,e.jsx)("kbd",{className:"px-3 py-1.5 bg-[#1F2937] border border-white/20 rounded-lg text-xs font-mono text-white shadow-sm",children:da(u.keys)})]},c))})]},n.category))}),(0,e.jsx)("div",{className:"px-6 py-4 border-t border-white/10 bg-white/5",children:(0,e.jsxs)("p",{className:"text-xs text-neutral-400 text-center",children:["Press ",(0,e.jsx)("kbd",{className:"px-2 py-0.5 bg-[#1F2937] border border-white/20 rounded text-[10px] font-mono",children:"?"})," anytime to see this dialog"]})})]})})}var pa=(0,h.createContext)(null);function ma({children:t}){const[o,r]=(0,h.useState)([]),n=(0,h.useCallback)((s,m="info",d=3e3)=>{const g=Date.now()+Math.random(),l={id:g,message:s,type:m,duration:d};return r(p=>[...p,l]),d>0&&setTimeout(()=>{r(p=>p.filter(x=>x.id!==g))},d),g},[]),u=(0,h.useCallback)(s=>{r(m=>m.filter(d=>d.id!==s))},[]),c=(0,h.useMemo)(()=>({success:(s,m)=>n(s,"success",m),error:(s,m)=>n(s,"error",m),info:(s,m)=>n(s,"info",m),warning:(s,m)=>n(s,"warning",m)}),[n]);return(0,e.jsxs)(pa.Provider,{value:{toast:c,addToast:n,removeToast:u},children:[t,(0,e.jsx)(ha,{toasts:o,onRemove:u})]})}function ha({toasts:t,onRemove:o}){return t.length===0?null:(0,e.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2 max-w-sm",children:t.map(r=>(0,e.jsx)(xa,{...r,onClose:()=>o(r.id)},r.id))})}function xa({id:t,message:o,type:r,onClose:n}){const u={success:Oo,error:$o,warning:_t,info:Zt},c={success:"bg-green-500/20 border-green-400 text-green-100",error:"bg-red-500/20 border-red-400 text-red-100",warning:"bg-amber-500/20 border-amber-400 text-amber-100",info:"bg-blue-500/20 border-blue-400 text-blue-100"},s=u[r]||Zt;return(0,e.jsxs)("div",{className:`
        flex items-start gap-3 p-4 rounded-xl border backdrop-blur-sm
        shadow-lg animate-fadeIn
        ${c[r]}
      `,role:"alert",children:[(0,e.jsx)(s,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,e.jsx)("p",{className:"flex-1 text-sm font-medium",children:o}),(0,e.jsx)("button",{onClick:n,className:"flex-shrink-0 hover:opacity-70 transition-opacity focus-ring rounded","aria-label":"Close notification",children:(0,e.jsx)(Ze,{className:"w-4 h-4"})})]})}var ie={electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},Zr={deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},bt={heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},rr='"Montserrat", system-ui, sans-serif',ft={h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},Te={letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)"},zt={gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)"},Kr={minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"Notion Widget Builder Logo (150 x 50 px).png",gif:"Notion Widget Builder Logo (150 x 50 px).png",favicon:"Notion Widget Builder Icon (100 x 100 px).png"}};const at={colors:ie,ui:Zr,fonts:bt,fontFamily:rr,sizes:ft,glowBlur:Te.glowBlur,glowBlurSubtle:Te.glowBlurSubtle,glow:Te.glow,glowStrong:Te.glowStrong,gradient:zt.gradient,borderGradient:zt.borderGradient,logo:Kr},Y={id:"jazer-neon",name:"Neon",colors:ie,ui:Zr,fonts:bt,fontFamily:rr,sizes:ft,effects:Te,gradients:zt,logo:Kr,fontLinks:`
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
  `,cssVariables:`:root {
    --jazer-electric-purple: ${ie.electricPurple};
    --jazer-cosmic-blue: ${ie.cosmicBlue};
    --jazer-neon-pink: ${ie.neonPink};
    --jazer-sunburst-gold: ${ie.sunburstGold};
    --jazer-aether-teal: ${ie.aetherTeal};
    --jazer-ultraviolet: ${ie.ultraviolet};
    --jazer-night-black: ${ie.nightBlack};
    --jazer-stardust-white: ${ie.stardustWhite};
    --jazer-graphite: ${ie.graphite};
    --jazer-soft-slate: ${ie.softSlate};
    
    --jazer-glow-blur: ${Te.glowBlur};
    --jazer-glow-purple: ${Te.glow};
  }`,extraCSS:`
  body {
    background-color: ${ie.nightBlack};
    color: ${ie.stardustWhite};
    font-family: ${rr};
  }

  .neon-text { 
    font-family: "${bt.heading}", system-ui, sans-serif; 
    color: ${ie.stardustWhite}; 
    text-shadow: ${Te.glow}; 
    letter-spacing: ${Te.letterSpacing}; 
  }
  .neon-gradient-text { 
    font-family: "${bt.heading}", system-ui, sans-serif; 
    background: ${zt.gradient}; 
    -webkit-background-clip: text; 
    background-clip: text; 
    color: transparent; 
    text-shadow: ${Te.glow}; 
    letter-spacing: ${Te.letterSpacing}; 
  }
  h1, h2, h3 { letter-spacing: ${Te.letterSpacing}; font-family: "${bt.heading}", system-ui, sans-serif; } 
  h1 { font-size: ${ft.h1}; }
  h2 { font-size: ${ft.h2}; color: ${ie.electricPurple}; }
  h3 { font-size: ${ft.h3}; color: ${ie.cosmicBlue}; } 
  
  button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${ie.cosmicBlue}; outline-offset: 2px; }
  
  /* Scrollbar */
  ::-webkit-scrollbar { width: 10px; }
  ::-webkit-scrollbar-track { background: ${ie.nightBlack}; }
  ::-webkit-scrollbar-thumb { background: ${ie.graphite}; border-radius: 5px; border: 1px solid ${ie.nightBlack}; }
  ::-webkit-scrollbar-thumb:hover { background: ${ie.softSlate}; }
  
  @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
  @keyframes roulette { 
    0% { transform: translateY(-20px); opacity: 0; } 
    100% { transform: translateY(0); opacity: 1; } 
  }
  `},ga={id:"counter",label:"Counter",description:"Track habits and count things",defaultConfig:{counterTitle:"Counter",preferredIcons:"plusMinus",counterSize:"medium",centerText:!0,textShadows:!1,transparentBg:!1,backgroundColor:Y.colors.stardustWhite,hideResetButton:!1,step:1,minValue:null,maxValue:null,resetValue:0,textColorLight:Y.colors.nightBlack,textColorDark:Y.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"counterTitle",label:"Counter Title",type:"text",section:"settings"},{name:"preferredIcons",label:"Preferred Icons",type:"select",section:"settings",options:[{label:"Plus and Minus",value:"plusMinus"},{label:"Arrows",value:"arrows"}]},{name:"counterSize",label:"Counter Size",type:"select",section:"settings",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"centerText",label:"Center Text",type:"boolean",section:"style"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"style"},{name:"transparentBg",label:"Use Transparent Background",type:"boolean",section:"style"},{name:"backgroundColor",label:"Background Color",type:"color",section:"style"},{name:"hideResetButton",label:"Hide Reset Button",type:"boolean",section:"behavior"},{name:"step",label:"Step",type:"number",section:"behavior"},{name:"minValue",label:"Min Value",type:"number",section:"behavior"},{name:"maxValue",label:"Max Value",type:"number",section:"behavior"},{name:"resetValue",label:"Reset Value",type:"number",section:"behavior"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},ba=({config:t,onCustomizeRequest:o})=>{const{getColor:r}=Ee(),[n,u]=(0,h.useState)(t.resetValue||0),[c,s]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{if(t.appearanceMode!=="system"||typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)"),N=y=>s(y.matches);return F.addEventListener("change",N),()=>F.removeEventListener("change",N)},[t.appearanceMode]);const m=(0,h.useMemo)(()=>t.appearanceMode==="system"?c:t.appearanceMode==="dark",[t.appearanceMode,c]),d={small:{container:"text-4xl p-4",button:"text-2xl px-3 py-1",title:"text-sm"},medium:{container:"text-6xl p-6",button:"text-3xl px-4 py-2",title:"text-base"},large:{container:"text-8xl p-8",button:"text-4xl px-5 py-2",title:"text-lg"},xlarge:{container:"text-9xl p-10",button:"text-5xl px-6 py-3",title:"text-xl"}},g=d[t.counterSize]||d.medium,l=m?t.textColorDark||r("stardustWhite"):t.textColorLight||r("graphite"),p=t.transparentBg?"transparent":t.backgroundColor||r("stardustWhite"),x={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"↑",decrement:"↓"}},k=x[t.preferredIcons]||x.plusMinus;return(0,e.jsxs)("div",{style:{backgroundColor:p,color:l,textAlign:t.centerText?"center":"left",textShadow:t.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none",borderRadius:"8px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:t.centerText?"center":"flex-start"},className:`${g.container} relative`,children:[(0,e.jsx)("div",{className:`font-bold mb-4 ${g.title}`,children:t.counterTitle}),(0,e.jsx)("div",{className:"font-bold mb-6",children:n}),(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("button",{onClick:()=>u(F=>{const N=F-(t.step||1);return t.minValue!==null&&N<t.minValue?t.minValue:N}),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:l,border:`2px solid ${l}`},children:k.decrement}),(0,e.jsx)("button",{onClick:()=>u(F=>{const N=F+(t.step||1);return t.maxValue!==null&&N>t.maxValue?t.maxValue:N}),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity`,style:{backgroundColor:m?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:l,border:`2px solid ${l}`},children:k.increment}),!t.hideResetButton&&(0,e.jsx)("button",{onClick:()=>u(t.resetValue||0),className:`${g.button} rounded-lg hover:opacity-80 transition-opacity text-sm`,style:{backgroundColor:m?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:l,border:`1px solid ${l}`},children:"Reset"})]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-xs font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>o?.("features"),children:"Customize"})]})};var Tr=t=>typeof t!="string"?t:t.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const fa=t=>{const o={plusMinus:{increment:"+",decrement:"-"},arrows:{increment:"↑",decrement:"↓"}},r=o[t.preferredIcons]||o.plusMinus;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${Tr(t.counterTitle)}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: system-ui, -apple-system, sans-serif; 
      background: ${t.transparentBg?"transparent":t.backgroundColor};
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .counter-container {
      text-align: ${t.centerText?"center":"left"};
      color: ${t.textColorLight};
      padding: ${t.counterSize==="small"?"1rem":t.counterSize==="large"?"2rem":t.counterSize==="xlarge"?"2.5rem":"1.5rem"};
    }
    .counter-title {
      font-size: ${t.counterSize==="small"?"0.875rem":t.counterSize==="large"?"1.125rem":t.counterSize==="xlarge"?"1.25rem":"1rem"};
      font-weight: bold;
      margin-bottom: 1rem;
      text-shadow: ${t.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-value {
      font-size: ${t.counterSize==="small"?"2.25rem":t.counterSize==="large"?"6rem":t.counterSize==="xlarge"?"8rem":"3.75rem"};
      font-weight: bold;
      margin-bottom: 1.5rem;
      text-shadow: ${t.textShadows?"2px 2px 4px rgba(0,0,0,0.3)":"none"};
    }
    .counter-buttons {
      display: flex;
      gap: 1rem;
      justify-content: ${t.centerText?"center":"flex-start"};
    }
    button {
      font-size: ${t.counterSize==="small"?"1.5rem":t.counterSize==="large"?"2.25rem":t.counterSize==="xlarge"?"3rem":"1.875rem"};
      padding: ${t.counterSize==="small"?"0.25rem 0.75rem":t.counterSize==="large"?"0.5rem 1.25rem":t.counterSize==="xlarge"?"0.75rem 1.5rem":"0.5rem 1rem"};
      border-radius: 0.5rem;
      border: 2px solid currentColor;
      background: rgba(0,0,0,0.1);
      cursor: pointer;
      transition: opacity 0.2s;
    }
    button:hover { opacity: 0.8; }
    button.reset {
      font-size: 0.875rem;
      border-width: 1px;
      background: rgba(0,0,0,0.05);
    }
    @media (prefers-color-scheme: dark) {
      .counter-container { color: ${t.textColorDark}; }
      button { background: rgba(255,255,255,0.2); }
      button.reset { background: rgba(255,255,255,0.1); }
    }
  </style>
</head>
<body>
  <div class="counter-container">
    <div class="counter-title">${Tr(t.counterTitle)}</div>
    <div class="counter-value" id="count">0</div>
    <div class="counter-buttons">
      <button onclick="changeCount(-1)">${r.decrement}</button>
      <button onclick="changeCount(1)">${r.increment}</button>
      ${t.hideResetButton?"":'<button class="reset" onclick="resetCount()">Reset</button>'}
    </div>
  </div>
  <script>
    let count = parseInt(localStorage.getItem('counter_value') || '0');
    document.getElementById('count').textContent = count;
    
    function changeCount(delta) {
      count += delta;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
    
    function resetCount() {
      count = 0;
      document.getElementById('count').textContent = count;
      localStorage.setItem('counter_value', count);
    }
  <\/script>
</body>
</html>`},ya=()=>"",va={id:"imageGallery",label:"Image Gallery",description:"Dynamic image gallery with advanced controls.",defaultConfig:{images:["https://images.unsplash.com/photo-1472214103451-9374bd1c798e","https://images.unsplash.com/photo-1506744038136-462a42ee7a1b"],captions:[],minImagesRequired:1,sizingMode:"cover",animateGallerySpeedToggle:!1,scrollSpeed:"1s",dotsIndicator:!0,overlayArrows:!1,slideBackgroundColor:Y.colors.stardustWhite,textColor:Y.colors.nightBlack,dropShadows:!1,transparentBackground:!1,setBackgroundColor:!0,arrowColorLight:Y.colors.graphite,arrowColorDark:Y.colors.stardustWhite,dotsColorLight:Y.colors.graphite,dotsColorDark:Y.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0},fields:[{name:"images",label:"Image URLs (one per line)",type:"textarea",section:"imageManagement"},{name:"captions",label:"Image Captions (one per line)",type:"textarea",section:"imageManagement"},{name:"sizingMode",label:"Image Sizing Mode",type:"select",section:"imageDisplay",options:[{label:"Contain",value:"contain"},{label:"Cover",value:"cover"},{label:"Wrap Around Image Size",value:"wrap"}]},{name:"animateGallerySpeedToggle",label:"Animate Gallery Speed",type:"boolean",section:"animationControls"},{name:"scrollSpeed",label:"Scroll Speed",type:"select",section:"animationControls",options:[{label:"Very Slow (3s)",value:"3s"},{label:"Slow (2s)",value:"2s"},{label:"Regular (1s)",value:"1s"},{label:"Fast (0.5s)",value:"0.5s"},{label:"Very Fast (0.3s)",value:"0.3s"},{label:"Extremely Fast (0.2s)",value:"0.2s"},{label:"Warp Speed (0.1s)",value:"0.1s"}]},{name:"dotsIndicator",label:"Show Dots Indicator",type:"boolean",section:"navigation"},{name:"overlayArrows",label:"Show Overlay Arrows",type:"boolean",section:"navigation"},{name:"slideBackgroundColor",label:"Slide Background Color",type:"color",section:"style"},{name:"textColor",label:"Text Color",type:"color",section:"style"},{name:"dropShadows",label:"Drop Shadows",type:"boolean",section:"style"},{name:"transparentBackground",label:"Transparent Background",type:"boolean",section:"style"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"style"},{name:"arrowColorLight",label:"Arrow Color (Light Mode)",type:"color",section:"colors"},{name:"arrowColorDark",label:"Arrow Color (Dark Mode)",type:"color",section:"colors"},{name:"dotsColorLight",label:"Dots Color (Light Mode)",type:"color",section:"colors"},{name:"dotsColorDark",label:"Dots Color (Dark Mode)",type:"color",section:"colors"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},wa=({config:t,onCustomizeRequest:o})=>{const r=(t.images||[]).filter(Boolean),[n,u]=(0,h.useState)(0),[c,s]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[m,d]=(0,h.useState)(!1),g=(0,h.useMemo)(()=>{const y=parseFloat(t.scrollSpeed);return(Number.isFinite(y)&&y>0?y:5)*1e3},[t.scrollSpeed]);(0,h.useEffect)(()=>{if(typeof window>"u")return;const y=window.matchMedia("(prefers-color-scheme: dark)"),v=j=>s(j.matches);return y.addEventListener("change",v),()=>y.removeEventListener("change",v)},[]);const l=(0,h.useMemo)(()=>t.appearanceMode==="dark"?!0:t.appearanceMode==="light"?!1:c,[t.appearanceMode,c]);if((0,h.useEffect)(()=>{let y=requestAnimationFrame(()=>{});return r.length===0?y=requestAnimationFrame(()=>u(0)):y=requestAnimationFrame(()=>{u(v=>Math.min(v,r.length-1))}),()=>cancelAnimationFrame(y)},[r.length]),(0,h.useEffect)(()=>{if(t.animateGallerySpeedToggle&&r.length>1){const v=setInterval(()=>{u(j=>(j+1)%r.length)},g);return()=>clearInterval(v)}},[t.animateGallerySpeedToggle,r.length,g]),r.length===0)return(0,e.jsx)("div",{className:"flex items-center justify-center h-full w-full text-neutral-500",children:"No images configured. Please add at least one image URL."});const p=()=>{d(!1),u(y=>(y+1)%r.length)},x=()=>{d(!1),u(y=>(y-1+r.length)%r.length)},k=r[n],F=l?t.arrowColorDark:t.arrowColorLight,N=l?t.dotsColorDark:t.dotsColorLight;return(0,e.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",style:{backgroundColor:t.transparentBackground?"transparent":t.slideBackgroundColor,boxShadow:t.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none"},children:[m?(0,e.jsx)("div",{className:"flex items-center justify-center h-full w-full bg-neutral-200 text-neutral-500",children:"Error loading image."}):(0,e.jsx)("img",{src:k,alt:"Gallery Image",className:"max-w-full max-h-full transition-opacity duration-500",style:{objectFit:t.sizingMode==="wrap"?"unset":t.sizingMode,height:"100%"},onError:()=>d(!0),onLoad:()=>d(!1)}),t.overlayArrows&&r.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:x,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:F},children:"<"}),(0,e.jsx)("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white text-2xl",style:{color:F},children:">"})]}),t.dotsIndicator&&r.length>1&&(0,e.jsx)("div",{className:"absolute bottom-4 flex gap-2",children:r.map((y,v)=>(0,e.jsx)("span",{className:`block w-3 h-3 rounded-full ${v===n?"opacity-100":"opacity-50"}`,style:{backgroundColor:N,cursor:"pointer"},onClick:()=>u(v)},v))}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 text-white",onClick:()=>o?.("imageManagement"),children:"Customize"})]})};var ka=t=>typeof t!="string"?t:t.replace(/[&<>'"]/,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]);const _a=t=>{const o=t.images.filter(Boolean);if(o.length===0)return`<div style="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; color: ${Y.colors.softSlate};">No images configured.</div>`;const r=t.appearanceMode==="dark"?t.arrowColorDark:t.arrowColorLight,n=t.appearanceMode==="dark"?t.dotsColorDark:t.dotsColorLight,u=t.transparentBackground?"transparent":t.slideBackgroundColor,c=t.dropShadows?"0 4px 8px rgba(0,0,0,0.3)":"none",s=parseFloat(t.scrollSpeed)*1e3;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery Widget</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        .gallery-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: ${u};
            box-shadow: ${c};
            overflow: hidden;
        }
        .gallery-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: ${t.sizingMode==="wrap"?"unset":t.sizingMode};
            display: none; /* Controlled by JS */
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            height: 100%;
        }
        .gallery-image.active { display: block; opacity: 1; }
        .gallery-nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: ${r};
            padding: 8px 12px;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 1.5rem;
            line-height: 1;
            border: none;
            z-index: 10;
        }
        .gallery-nav-arrow.left { left: 1rem; }
        .gallery-nav-arrow.right { right: 1rem; }
        .gallery-dots {
            position: absolute;
            bottom: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .gallery-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
            background-color: ${n};
            opacity: 0.5;
            cursor: pointer;
        }
        .gallery-dot.active { opacity: 1; }
    </style>
</head>
<body>
    <div class="gallery-container">
        ${o.map((m,d)=>`<img src="${ka(m)}" class="gallery-image ${d===0?"active":""}" alt="Gallery Image ${d+1}">`).join("")}
        
        ${t.overlayArrows&&o.length>1?`
          <button class="gallery-nav-arrow left" onclick="prevImage()"></button>
          <button class="gallery-nav-arrow right" onclick="nextImage()">></button>
        `:""}

        ${t.dotsIndicator&&o.length>1?`
          <div class="gallery-dots">
            ${o.map((m,d)=>`<span class="gallery-dot ${d===0?"active":""}" onclick="goToImage(${d})"></span>`).join("")}
          </div>
        `:""}
    </div>
    <script>
        const images = ${JSON.stringify(o)};
        let currentIndex = 0;
        const galleryImages = document.querySelectorAll('.gallery-image');
        const galleryDots = document.querySelectorAll('.gallery-dot');
        const animateGallery = ${t.animateGallerySpeedToggle};
        const scrollSpeed = ${s};
        let intervalId;

        function updateGallery() {
            galleryImages.forEach((img, idx) => {
                img.classList.toggle('active', idx === currentIndex);
            });
            galleryDots.forEach((dot, idx) => {
                dot.classList.toggle('active', idx === currentIndex);
            });
        }

        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            updateGallery();
        }

        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateGallery();
        }

        function goToImage(index) {
            currentIndex = index;
            updateGallery();
        }

        if (animateGallery && images.length > 1) {
            intervalId = setInterval(nextImage, scrollSpeed);
        }

        // Initial display
        updateGallery();

        // Clear interval on window unload to prevent memory leaks (important for iframes)
        window.addEventListener('beforeunload', () => {
          if (intervalId) clearInterval(intervalId);
        });
    <\/script>
</body>
</html>`},ja=()=>"",Ca={id:"quotes",label:"Quotes",description:"Dynamic quotes from Instagram with custom styling and typography.",defaultConfig:{instagramAccount:"positivemindsetdaily",quoteText:"Design is how it works.",author:"Steve Jobs",showRefreshIcon:!0,autoRefreshInterval:0,useQuoteAPI:!0,useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:"jazerNeonTheme.colors.stardustWhite",quoteTextFont:"body",attributionFont:"heading",textAlign:"center",textShadows:!1,textColorLight:"jazerNeonTheme.colors.nightBlack",textColorDark:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundLight:"jazerNeonTheme.colors.stardustWhite",quoteBackgroundDark:"jazerNeonTheme.ui.deepSpace",refreshIconColor:"jazerNeonTheme.colors.electricPurple",authorColor:"jazerNeonTheme.colors.aetherTeal",appearanceMode:"system",gradientQuoteText:!1,gradientQuoteCardBorder:!1,glowQuoteCard:!1,glowRefreshIconHover:!1,useGradientRefreshIcon:!1,showHoverMenu:!0,showCustomizeButton:!0,fontSize:32,glowEffect:!1,gradientText:!1},fields:[{name:"instagramAccount",label:"Instagram Account",type:"text",section:"contentSource",placeholder:"positivemindsetdaily"},{name:"quoteText",label:"Quote Text",type:"textarea",section:"contentSource"},{name:"author",label:"Author",type:"text",section:"contentSource"},{name:"showRefreshIcon",label:"Show Refresh Icon",type:"boolean",section:"displayOptions"},{name:"useQuoteAPI",label:"Fetch Quotes from API",type:"boolean",section:"displayOptions"},{name:"autoRefreshInterval",label:"Auto-refresh Interval",type:"select",section:"displayOptions",options:[{label:"Disabled",value:0},{label:"1 Minute",value:1},{label:"5 Minutes",value:5},{label:"15 Minutes",value:15},{label:"30 Minutes",value:30},{label:"60 Minutes",value:60}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"background"},{name:"setBackgroundColor",label:"Set Background Color",type:"boolean",section:"background"},{name:"backgroundColor",label:"Background Color",type:"color",section:"background"},{name:"quoteTextFont",label:"Quote Text Font",type:"select",section:"typography",options:[{label:"Default (Body)",value:"body"},{label:"Heading",value:"heading"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"attributionFont",label:"Attribution Font",type:"select",section:"typography",options:[{label:"Default (Heading)",value:"heading"},{label:"Body",value:"body"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"textColorLight",label:"Text Color (Light Mode)",type:"color",section:"colors"},{name:"textColorDark",label:"Text Color (Dark Mode)",type:"color",section:"colors"},{name:"quoteBackgroundLight",label:"Quote Background (Light)",type:"color",section:"colors"},{name:"quoteBackgroundDark",label:"Quote Background (Dark)",type:"color",section:"colors"},{name:"refreshIconColor",label:"Refresh Icon Color",type:"color",section:"colors"},{name:"authorColor",label:"Author Color",type:"color",section:"colors"},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"Do Nothing",value:"do-nothing"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"gradientQuoteText",label:"Gradient Quote Text",type:"boolean",section:"effects"},{name:"gradientQuoteCardBorder",label:"Gradient Quote Card Border",type:"boolean",section:"effects"},{name:"glowQuoteCard",label:"Glow Effect on Quote Card",type:"boolean",section:"effects"},{name:"glowRefreshIconHover",label:"Glow on Refresh Icon Hover",type:"boolean",section:"effects"},{name:"useGradientRefreshIcon",label:"Use Gradient for Refresh Icon",type:"boolean",section:"effects"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]},Na=({config:t,onCustomizeRequest:o})=>{const{theme:r}=Ee(),[n,u]=(0,h.useState)({text:t.quoteText,author:t.author}),[c,s]=(0,h.useState)(()=>t.appearanceMode==="dark"?!0:t.appearanceMode==="light"?!1:t.appearanceMode==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[m,d]=(0,h.useState)(!1),g=(0,h.useRef)(!0);(0,h.useEffect)(()=>()=>{g.current=!1},[]),(0,h.useEffect)(()=>{if(t.appearanceMode==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)"),H=Q=>s(Q.matches);return f.addEventListener("change",H),()=>f.removeEventListener("change",H)}else t.appearanceMode==="dark"?s(!0):t.appearanceMode==="light"&&s(!1)},[t.appearanceMode]),(0,h.useEffect)(()=>{u({text:t.quoteText,author:t.author})},[t.quoteText,t.author]);const l=(0,h.useCallback)(async f=>{if(t.useQuoteAPI){d(!0);try{const H=await fetch("https://api.quotable.io/random",{signal:f});if(!H.ok)throw new Error("Failed to fetch quote");const Q=await H.json();!f?.aborted&&g.current&&u({text:Q.content,author:Q.author})}catch(H){H.name}finally{!f?.aborted&&g.current&&d(!1)}}},[t.useQuoteAPI]);(0,h.useEffect)(()=>{if(!t.useQuoteAPI)return;const f=new AbortController;return l(f.signal),()=>f.abort()},[t.useQuoteAPI,l]),(0,h.useEffect)(()=>{if(!t.useQuoteAPI||t.autoRefreshInterval<=0)return;const f=setInterval(()=>{l()},t.autoRefreshInterval*60*1e3);return()=>clearInterval(f)},[t.autoRefreshInterval,t.useQuoteAPI,l]);const p=f=>({body:r.fonts.body,heading:r.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[f]||r.fonts.body,x=c?t.textColorDark:t.textColorLight,k=c?t.quoteBackgroundDark:t.quoteBackgroundLight,F=t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:k,N=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",y={fontSize:`${t.fontSize}px`,fontFamily:p(t.quoteTextFont),fontStyle:"italic",lineHeight:"1.6",textShadow:N,...t.gradientQuoteText&&{background:r.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},v={fontFamily:p(t.attributionFont),color:t.authorColor,fontSize:"14px",fontWeight:"bold",opacity:.7,textTransform:"uppercase",letterSpacing:"2px",textShadow:N},j={background:F,color:(t.gradientQuoteText,x),textAlign:t.textAlign,padding:"48px",borderRadius:"16px",...t.gradientQuoteCardBorder&&{border:"2px solid transparent",backgroundImage:`${r.gradients.gradient}, ${F}`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},...t.glowQuoteCard&&{boxShadow:r.effects.glow}},w={marginTop:"16px",padding:"12px",borderRadius:"50%",backgroundColor:t.useGradientRefreshIcon?"transparent":`${t.refreshIconColor}20`,border:t.useGradientRefreshIcon?`2px solid ${t.refreshIconColor}`:"none",color:t.refreshIconColor,cursor:"pointer",transition:"all 0.3s ease",...t.useGradientRefreshIcon&&{background:r.gradients.gradient,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},T=t.glowRefreshIconHover?{filter:`drop-shadow(${r.effects.glow})`}:{};return(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 relative",style:{background:F,color:x},children:[m&&(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 backdrop-blur-sm z-10 rounded-lg",children:(0,e.jsx)("span",{className:"text-xl font-bold",style:{fontFamily:r.fonts.heading},children:"Loading..."})}),(0,e.jsxs)("div",{style:j,className:"max-w-3xl w-full",children:[(0,e.jsxs)("p",{className:"mb-6",style:y,children:['"',n.text,'"']}),(0,e.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,e.jsxs)("span",{style:v,children:["— ",n.author]}),t.instagramAccount&&(0,e.jsxs)("a",{href:`https://www.instagram.com/${t.instagramAccount}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs opacity-50 hover:opacity-100 hover:underline transition-opacity",style:{color:x},children:[(0,e.jsx)(Ao,{className:"w-3 h-3"}),"@",t.instagramAccount]})]}),t.showRefreshIcon&&(0,e.jsx)("button",{onClick:()=>l(),className:"mx-auto hover:scale-110 transition-transform",style:w,onMouseEnter:f=>{t.glowRefreshIconHover&&Object.assign(f.currentTarget.style,T)},onMouseLeave:f=>{t.glowRefreshIconHover&&(f.currentTarget.style.filter="none")},"aria-label":"Refresh Quote",disabled:m||!t.useQuoteAPI,children:(0,e.jsx)(hr,{className:`w-5 h-5 ${m?"animate-spin":""}`})})]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:r.colors.cosmicBlue,color:r.colors.stardustWhite,fontFamily:r.fonts.heading},onClick:()=>o?.("contentSource"),children:"Customize"})]})};var Ce=Y,mt=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])},Fr=t=>({body:Ce.fonts.body,heading:Ce.fonts.heading,serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'})[t]||Ce.fonts.body;const Sa=t=>{const o=t.appearanceMode==="dark",r=o?t.textColorDark:t.textColorLight,n=o?t.quoteBackgroundDark:t.quoteBackgroundLight,u=t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:n,c=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",s=`
    font-size: ${t.fontSize}px;
    font-family: ${Fr(t.quoteTextFont)};
    font-style: italic;
    line-height: 1.6;
    text-shadow: ${c};
    ${t.gradientQuoteText?`
      background: ${Ce.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:`color: ${r};`}
  `,m=`
    background: ${u};
    color: ${r};
    text-align: ${t.textAlign};
    padding: 48px;
    border-radius: 16px;
    max-width: 768px;
    width: 100%;
    ${t.gradientQuoteCardBorder?`
      border: 2px solid transparent;
      background-image: ${Ce.gradients.gradient}, ${u};
      background-origin: border-box;
      background-clip: padding-box, border-box;
    `:""}
    ${t.glowQuoteCard?`box-shadow: ${Ce.effects.glow};`:""}
  `,d=`
    margin-top: 16px;
    padding: 12px;
    border-radius: 50%;
    background-color: ${t.useGradientRefreshIcon?"transparent":`${t.refreshIconColor}20`};
    border: ${t.useGradientRefreshIcon?`2px solid ${t.refreshIconColor}`:"none"};
    color: ${t.refreshIconColor};
    cursor: pointer;
    transition: all 0.3s ease;
    ${t.useGradientRefreshIcon?`
      background: ${Ce.gradients.gradient};
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    `:""}
  `;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${mt(t.author)} - Quote Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: ${u};
      font-family: ${Ce.fonts.body};
      padding: 32px;
    }

    .quote-card {
      ${m}
    }

    .quote-text {
      ${s}
      margin-bottom: 24px;
    }

    .attribution {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .author {
      font-family: ${Fr(t.attributionFont)};
      color: ${t.authorColor};
      font-size: 14px;
      font-weight: bold;
      opacity: 0.7;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: ${c};
    }

    .instagram-link {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      opacity: 0.5;
      color: ${r};
      text-decoration: none;
      transition: opacity 0.3s ease;
    }

    .instagram-link:hover {
      opacity: 1;
      text-decoration: underline;
    }

    .refresh-button {
      ${d}
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .refresh-button:hover {
      transform: scale(1.1);
      ${t.glowRefreshIconHover?`filter: drop-shadow(${Ce.effects.glow});`:""}
    }

    .refresh-button:active {
      transform: scale(0.95);
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      background-color: ${Ce.colors.cosmicBlue};
      color: ${Ce.colors.stardustWhite};
      font-family: ${Ce.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 16px;
      z-index: 10;
    }

    .loading-text {
      font-size: 20px;
      font-weight: bold;
      font-family: ${Ce.fonts.heading};
    }

    @media (prefers-color-scheme: dark) {
      ${t.appearanceMode==="system"?`
        body { background: ${t.quoteBackgroundDark}; }
        .quote-card { background: ${t.quoteBackgroundDark}; color: ${t.textColorDark}; }
        .instagram-link { color: ${t.textColorDark}; }
      `:""}
    }
  </style>
</head>
<body>
  <div class="quote-card" id="quote-card">
    <div id="loading" class="loading" style="display: none;">
      <span class="loading-text">Loading...</span>
    </div>

    <p class="quote-text" id="quote-text">
      "${mt(t.quoteText)}"
    </p>

    <div class="attribution">
      <span class="author" id="author">
        — ${mt(t.author)}
      </span>

      ${t.instagramAccount?`
        <a href="https://www.instagram.com/${mt(t.instagramAccount)}"
           target="_blank"
           rel="noopener noreferrer"
           class="instagram-link">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
          @${mt(t.instagramAccount)}
        </a>
      `:""}
    </div>

    ${t.showRefreshIcon?`
      <button class="refresh-button" id="refresh-btn" onclick="fetchQuote()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.8L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.8L21 16"/><path d="M21 21v-5h-5"/></svg>
      </button>
    `:""}
  </div>

  ${t.showCustomizeButton?`
    <button class="customize-button">
      Customize
    </button>
  `:""}

  <script>
    ${Xr(t)}
  <\/script>
</body>
</html>`},Xr=()=>`
    const exampleQuotes = [
      { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
      { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
      { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
      { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
      { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
      { text: "Strive not to be a success, but rather to be of value.", author: "Albert Einstein" },
      { text: "Life is 10% what happens to you and 90% how you react to it.", author: "Charles R. Swindoll" },
      { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" }
    ];

    function fetchQuote() {
      const loading = document.getElementById('loading');
      const quoteText = document.getElementById('quote-text');
      const author = document.getElementById('author');

      loading.style.display = 'flex';

      setTimeout(() => {
        const randomQuote = exampleQuotes[Math.floor(Math.random() * exampleQuotes.length)];
        quoteText.textContent = '"' + randomQuote.text + '"';
        author.textContent = '— ' + randomQuote.author;
        loading.style.display = 'none';
      }, 500);
    }
  `,Ta={id:"weather",label:"Weather",description:"Dynamic weather widget with forecast and customization.",sections:[{id:"locationSettings",label:"Location Settings",icon:"📍",order:1},{id:"displayConfiguration",label:"Display Configuration",icon:"📊",order:2},{id:"forecastOptions",label:"Forecast Options",icon:"📅",order:3},{id:"layoutOptions",label:"Layout Options",icon:"📐",order:4},{id:"appearance",label:"Appearance",icon:"🎨",order:5},{id:"typography",label:"Typography",icon:"🔤",order:6},{id:"background",label:"Background",icon:"🖼️",order:7},{id:"theme",label:"Preset Themes",icon:"🎭",order:8},{id:"effects",label:"Effects",icon:"✨",order:9},{id:"features",label:"Additional Features",icon:"⚙️",order:10}],defaultConfig:{weatherLocation:"Austin, TX",useGeolocation:!0,preferredUnits:"imperial",numberOfDays:5,currentWeatherFields:["temperature","condition","humidity","wind"],dailyWeatherFields:["high","low","condition","precipitation"],hideTodayInForecast:!1,displayDates:!1,orientation:"auto",widgetSize:"medium",animateIcons:!0,greyscaleIcons:!1,textShadows:!1,fontScale:1,appearanceMode:"system",useTransparentBackground:!1,textColorLight:Y.colors.graphite,textColorDark:Y.colors.stardustWhite,backgroundColor:Y.colors.nightBlack,setBackgroundColor:!1,theme:{light:{textColor:Y.colors.graphite,backgroundColor:Y.colors.stardustWhite},dark:{textColor:Y.colors.stardustWhite,backgroundColor:Y.colors.nightBlack}},textFontFamily:"default",googleFont:"none",textAlign:"center",backgroundTexture:"none",presetTheme:"none",glowEffect:!1,gradientText:!1,visuallyGroupForecast:!1,showHoverMenu:!0,showCustomizeButton:!0,timeFormat:"12h",showSevereAlerts:!0},validation:{weatherLocation:{required:!0,type:"string",minLength:2},currentWeatherFields:{required:!0,type:"array",minItems:1,maxItems:6},dailyWeatherFields:{required:!0,type:"array",minItems:1},numberOfDays:{type:"number",min:3,max:10},fontScale:{type:"number",min:.8,max:1.2,step:.1}},fields:[{name:"weatherLocation",label:"Weather Location",type:"text",section:"locationSettings",placeholder:"City, State or ZIP",helpText:"Uses free Open-Meteo API - no key required",required:!0},{name:"useGeolocation",label:"Auto-Detect Location",type:"boolean",section:"locationSettings",helpText:"Automatically detect user location (requires permission)"},{name:"preferredUnits",label:"Preferred Units",type:"select",section:"locationSettings",options:[{label:"Imperial (°F, mph)",value:"imperial"},{label:"Metric (°C, km/h)",value:"metric"}]},{name:"numberOfDays",label:"Number of Days",type:"select",section:"locationSettings",options:[{label:"3 Days",value:3},{label:"5 Days",value:5},{label:"7 Days",value:7},{label:"10 Days",value:10}]},{name:"currentWeatherFields",label:"Current Weather Fields",type:"multiselect",section:"displayConfiguration",helpText:"Select 1-6 fields to display",maxItems:6,options:[{label:"Temperature",value:"temperature"},{label:"Condition",value:"condition"},{label:"Humidity",value:"humidity"},{label:"Wind Speed",value:"wind"},{label:"Feels Like",value:"feelsLike"},{label:"UV Index",value:"uvIndex"},{label:"Cloud Cover",value:"cloudCover"},{label:"Pressure",value:"pressure"},{label:"Visibility",value:"visibility"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"dailyWeatherFields",label:"Daily Weather Fields",type:"multiselect",section:"displayConfiguration",options:[{label:"High Temp",value:"high"},{label:"Low Temp",value:"low"},{label:"Condition",value:"condition"},{label:"Precipitation",value:"precipitation"},{label:"Wind",value:"wind"},{label:"UV Index",value:"uvIndex"},{label:"Humidity",value:"humidity"},{label:"Sunrise",value:"sunrise"},{label:"Sunset",value:"sunset"}]},{name:"hideTodayInForecast",label:"Hide Today in Forecast",type:"boolean",section:"forecastOptions",helpText:"Show forecast starting from tomorrow"},{name:"displayDates",label:"Display Dates",type:"boolean",section:"forecastOptions",helpText:"Show dates alongside day names"},{name:"orientation",label:"Orientation",type:"select",section:"layoutOptions",options:[{label:"Auto (Responsive)",value:"auto"},{label:"Horizontal",value:"horizontal"},{label:"Compact",value:"compact"},{label:"Wide",value:"wide"}]},{name:"widgetSize",label:"Widget Size",type:"select",section:"layoutOptions",helpText:"Control the overall dimensions of the widget",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}]},{name:"appearanceMode",label:"Appearance Mode",type:"select",section:"appearance",helpText:"Control light/dark mode behavior",options:[{label:"Use System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"useTransparentBackground",label:"Transparent Background",type:"boolean",section:"appearance",helpText:"Override background colors with transparency"},{name:"theme.light.textColor",label:"Light Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.light.backgroundColor",label:"Light Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.textColor",label:"Dark Mode - Text Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"theme.dark.backgroundColor",label:"Dark Mode - Background Color",type:"color",section:"appearance",dependsOn:{field:"useTransparentBackground",value:!1}},{name:"animateIcons",label:"Animate Weather Icons",type:"boolean",section:"appearance"},{name:"greyscaleIcons",label:"Greyscale Icons",type:"boolean",section:"appearance"},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"appearance",helpText:"Add subtle shadows for better readability"},{name:"fontScale",label:"Font Scale",type:"range",section:"appearance",min:.8,max:1.2,step:.1},{name:"textFontFamily",label:"Base Font Style",type:"select",section:"typography",options:[{label:"Default (Sans-serif)",value:"default"},{label:"Serif",value:"serif"},{label:"Monospace",value:"mono"}]},{name:"googleFont",label:"Google Font Override",type:"select",section:"typography",helpText:"Apply a custom Google Font (overrides base font)",options:[{label:"None",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",helpText:"Add a subtle pattern overlay",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",helpText:"Quick-apply a pre-designed theme (overrides custom colors)",options:[{label:"None (Use Custom Settings)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects",helpText:"Add a subtle glow around elements"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects",helpText:"Apply color gradients to text"},{name:"visuallyGroupForecast",label:"Visually Group Forecast",type:"boolean",section:"features",helpText:"Add visual separation between forecast days"},{name:"timeFormat",label:"Time Format",type:"select",section:"features",options:[{label:"12-hour (AM/PM)",value:"12h"},{label:"24-hour",value:"24h"}]},{name:"showSevereAlerts",label:"Show Severe Weather Alerts",type:"boolean",section:"features",helpText:"Display warnings for severe weather conditions"},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features",helpText:"Display interactive menu on hover"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features",helpText:"Show button to open customization panel"}]};var Fa=Ne({"node_modules/prop-types/lib/ReactPropTypesSecret.js":((t,o)=>{var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=r})}),Ia=Ne({"node_modules/prop-types/factoryWithThrowingShims.js":((t,o)=>{var r=Fa();function n(){}function u(){}u.resetWarningCache=n,o.exports=function(){function c(d,g,l,p,x,k){if(k!==r){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}c.isRequired=c;function s(){return c}var m={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:s,element:c,elementType:c,instanceOf:s,node:c,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:u,resetWarningCache:n};return m.PropTypes=m,m}})}),Ba=Ne({"node_modules/prop-types/index.js":((t,o)=>{o.exports=Ia()()})}),Ma,Aa,za,Ea,gr=dt({"node_modules/flatbuffers/mjs/constants.js":(()=>{Ma=2,Aa=4,za=4,Ea=4})}),Oe,Et,Lt,ct,Vr=dt({"node_modules/flatbuffers/mjs/utils.js":(()=>{Oe=new Int32Array(2),Et=new Float32Array(Oe.buffer),Lt=new Float64Array(Oe.buffer),ct=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1})}),Dt,eo=dt({"node_modules/flatbuffers/mjs/encoding.js":(()=>{(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(Dt||(Dt={}))})}),Pt,to=dt({"node_modules/flatbuffers/mjs/byte-buffer.js":(()=>{gr(),eo(),Vr(),Pt=class ro{constructor(o){this.bytes_=o,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(o){return new ro(new Uint8Array(o))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(o){this.position_=o}capacity(){return this.bytes_.length}readInt8(o){return this.readUint8(o)<<24>>24}readUint8(o){return this.bytes_[o]}readInt16(o){return this.readUint16(o)<<16>>16}readUint16(o){return this.bytes_[o]|this.bytes_[o+1]<<8}readInt32(o){return this.bytes_[o]|this.bytes_[o+1]<<8|this.bytes_[o+2]<<16|this.bytes_[o+3]<<24}readUint32(o){return this.readInt32(o)>>>0}readInt64(o){return BigInt.asIntN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readUint64(o){return BigInt.asUintN(64,BigInt(this.readUint32(o))+(BigInt(this.readUint32(o+4))<<BigInt(32)))}readFloat32(o){return Oe[0]=this.readInt32(o),Et[0]}readFloat64(o){return Oe[ct?0:1]=this.readInt32(o),Oe[ct?1:0]=this.readInt32(o+4),Lt[0]}writeInt8(o,r){this.bytes_[o]=r}writeUint8(o,r){this.bytes_[o]=r}writeInt16(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8}writeUint16(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8}writeInt32(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8,this.bytes_[o+2]=r>>16,this.bytes_[o+3]=r>>24}writeUint32(o,r){this.bytes_[o]=r,this.bytes_[o+1]=r>>8,this.bytes_[o+2]=r>>16,this.bytes_[o+3]=r>>24}writeInt64(o,r){this.writeInt32(o,Number(BigInt.asIntN(32,r))),this.writeInt32(o+4,Number(BigInt.asIntN(32,r>>BigInt(32))))}writeUint64(o,r){this.writeUint32(o,Number(BigInt.asUintN(32,r))),this.writeUint32(o+4,Number(BigInt.asUintN(32,r>>BigInt(32))))}writeFloat32(o,r){Et[0]=r,this.writeInt32(o,Oe[0])}writeFloat64(o,r){Lt[0]=r,this.writeInt32(o,Oe[ct?0:1]),this.writeInt32(o+4,Oe[ct?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let o="";for(let r=0;r<4;r++)o+=String.fromCharCode(this.readInt8(this.position_+4+r));return o}__offset(o,r){const n=o-this.readInt32(o);return r<this.readInt16(n)?this.readInt16(n+r):0}__union(o,r){return o.bb_pos=r+this.readInt32(r),o.bb=this,o}__string(o,r){o+=this.readInt32(o);const n=this.readInt32(o);o+=4;const u=this.bytes_.subarray(o,o+n);return r===Dt.UTF8_BYTES?u:this.text_decoder_.decode(u)}__union_with_string(o,r){return typeof o=="string"?this.__string(r):this.__union(o,r)}__indirect(o){return o+this.readInt32(o)}__vector(o){return o+this.readInt32(o)+4}__vector_len(o){return this.readInt32(o+this.readInt32(o))}__has_identifier(o){if(o.length!=4)throw new Error("FlatBuffers: file identifier must be length 4");for(let r=0;r<4;r++)if(o.charCodeAt(r)!=this.readInt8(this.position()+4+r))return!1;return!0}createScalarList(o,r){const n=[];for(let u=0;u<r;++u){const c=o(u);c!==null&&n.push(c)}return n}createObjList(o,r){const n=[];for(let u=0;u<r;++u){const c=o(u);c!==null&&n.push(c.unpack())}return n}}})}),oo,La=dt({"node_modules/flatbuffers/mjs/builder.js":(()=>{to(),gr(),oo=class ao{constructor(o){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let r;o?r=o:r=1024,this.bb=Pt.allocate(r),this.space=r}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(o){this.force_defaults=o}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(o,r){o>this.minalign&&(this.minalign=o);const n=~(this.bb.capacity()-this.space+r)+1&o-1;for(;this.space<n+o+r;){const u=this.bb.capacity();this.bb=ao.growByteBuffer(this.bb),this.space+=this.bb.capacity()-u}this.pad(n)}pad(o){for(let r=0;r<o;r++)this.bb.writeInt8(--this.space,0)}writeInt8(o){this.bb.writeInt8(this.space-=1,o)}writeInt16(o){this.bb.writeInt16(this.space-=2,o)}writeInt32(o){this.bb.writeInt32(this.space-=4,o)}writeInt64(o){this.bb.writeInt64(this.space-=8,o)}writeFloat32(o){this.bb.writeFloat32(this.space-=4,o)}writeFloat64(o){this.bb.writeFloat64(this.space-=8,o)}addInt8(o){this.prep(1,0),this.writeInt8(o)}addInt16(o){this.prep(2,0),this.writeInt16(o)}addInt32(o){this.prep(4,0),this.writeInt32(o)}addInt64(o){this.prep(8,0),this.writeInt64(o)}addFloat32(o){this.prep(4,0),this.writeFloat32(o)}addFloat64(o){this.prep(8,0),this.writeFloat64(o)}addFieldInt8(o,r,n){(this.force_defaults||r!=n)&&(this.addInt8(r),this.slot(o))}addFieldInt16(o,r,n){(this.force_defaults||r!=n)&&(this.addInt16(r),this.slot(o))}addFieldInt32(o,r,n){(this.force_defaults||r!=n)&&(this.addInt32(r),this.slot(o))}addFieldInt64(o,r,n){(this.force_defaults||r!==n)&&(this.addInt64(r),this.slot(o))}addFieldFloat32(o,r,n){(this.force_defaults||r!=n)&&(this.addFloat32(r),this.slot(o))}addFieldFloat64(o,r,n){(this.force_defaults||r!=n)&&(this.addFloat64(r),this.slot(o))}addFieldOffset(o,r,n){(this.force_defaults||r!=n)&&(this.addOffset(r),this.slot(o))}addFieldStruct(o,r,n){r!=n&&(this.nested(r),this.slot(o))}nested(o){if(o!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(o){this.vtable!==null&&(this.vtable[o]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(o){const r=o.capacity();if(r&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=r<<1,u=Pt.allocate(n);return u.setPosition(n-r),u.bytes().set(o.bytes(),n-r),u}addOffset(o){this.prep(4,0),this.writeInt32(this.offset()-o+4)}startObject(o){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=o;for(let r=0;r<o;r++)this.vtable[r]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const o=this.offset();let r=this.vtable_in_use-1;for(;r>=0&&this.vtable[r]==0;r--);const n=r+1;for(;r>=0;r--)this.addInt16(this.vtable[r]!=0?o-this.vtable[r]:0);const u=2;this.addInt16(o-this.object_start);const c=(n+u)*2;this.addInt16(c);let s=0;const m=this.space;e:for(r=0;r<this.vtables.length;r++){const d=this.bb.capacity()-this.vtables[r];if(c==this.bb.readInt16(d)){for(let g=2;g<c;g+=2)if(this.bb.readInt16(m+g)!=this.bb.readInt16(d+g))continue e;s=this.vtables[r];break}}return s?(this.space=this.bb.capacity()-o,this.bb.writeInt32(this.space,s-o)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-o,this.offset()-o)),this.isNested=!1,o}finish(o,r,n){const u=n?4:0;if(r){const c=r;if(this.prep(this.minalign,8+u),c.length!=4)throw new TypeError("FlatBuffers: file identifier must be length 4");for(let s=3;s>=0;s--)this.writeInt8(c.charCodeAt(s))}this.prep(this.minalign,4+u),this.addOffset(o),u&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(o,r){this.finish(o,r,!0)}requiredField(o,r){const n=this.bb.capacity()-o,u=n-this.bb.readInt32(n);if(!(r<this.bb.readInt16(u)&&this.bb.readInt16(u+r)!=0))throw new TypeError("FlatBuffers: field "+r+" must be set")}startVector(o,r,n){this.notNested(),this.vector_num_elems=r,this.prep(4,o*r),this.prep(n,o*r)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(o){if(!o)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(o))return this.string_maps.get(o);const r=this.createString(o);return this.string_maps.set(o,r),r}createString(o){if(o==null)return 0;let r;return o instanceof Uint8Array?r=o:r=this.text_encoder.encode(o),this.addInt8(0),this.startVector(1,r.length,1),this.bb.setPosition(this.space-=r.length),this.bb.bytes().set(r,this.space),this.endVector()}createByteVector(o){return o==null?0:(this.startVector(1,o.length,1),this.bb.setPosition(this.space-=o.length),this.bb.bytes().set(o,this.space),this.endVector())}createObjectOffset(o){return o===null?0:typeof o=="string"?this.createString(o):o.pack(this)}createObjectOffsetList(o){const r=[];for(let n=0;n<o.length;++n){const u=o[n];if(u!==null)r.push(this.createObjectOffset(u));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return r}createStructOffsetList(o,r){return r(this,o.length),this.createObjectOffsetList(o.slice().reverse()),this.endVector()}}})}),jt=No({Builder:()=>oo,ByteBuffer:()=>Pt,Encoding:()=>Dt,FILE_IDENTIFIER_LENGTH:()=>4,SIZEOF_INT:()=>4,SIZEOF_SHORT:()=>2,SIZE_PREFIX_LENGTH:()=>4,float32:()=>Et,float64:()=>Lt,int32:()=>Oe,isLittleEndian:()=>ct}),Ct=dt({"node_modules/flatbuffers/mjs/flatbuffers.js":(()=>{gr(),Vr(),La(),to(),eo()})}),Da=Ne({"node_modules/@openmeteo/sdk/model.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.best_match=1]="best_match",r[r.gfs_seamless=2]="gfs_seamless",r[r.gfs_global=3]="gfs_global",r[r.gfs_hrrr=4]="gfs_hrrr",r[r.meteofrance_seamless=5]="meteofrance_seamless",r[r.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",r[r.meteofrance_arpege_world=7]="meteofrance_arpege_world",r[r.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",r[r.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",r[r.meteofrance_arome_france=10]="meteofrance_arome_france",r[r.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",r[r.jma_seamless=12]="jma_seamless",r[r.jma_msm=13]="jma_msm",r[r.jms_gsm=14]="jms_gsm",r[r.jma_gsm=15]="jma_gsm",r[r.gem_seamless=16]="gem_seamless",r[r.gem_global=17]="gem_global",r[r.gem_regional=18]="gem_regional",r[r.gem_hrdps_continental=19]="gem_hrdps_continental",r[r.icon_seamless=20]="icon_seamless",r[r.icon_global=21]="icon_global",r[r.icon_eu=22]="icon_eu",r[r.icon_d2=23]="icon_d2",r[r.ecmwf_ifs04=24]="ecmwf_ifs04",r[r.metno_nordic=25]="metno_nordic",r[r.era5_seamless=26]="era5_seamless",r[r.era5=27]="era5",r[r.cerra=28]="cerra",r[r.era5_land=29]="era5_land",r[r.ecmwf_ifs=30]="ecmwf_ifs",r[r.gwam=31]="gwam",r[r.ewam=32]="ewam",r[r.glofas_seamless_v3=33]="glofas_seamless_v3",r[r.glofas_forecast_v3=34]="glofas_forecast_v3",r[r.glofas_consolidated_v3=35]="glofas_consolidated_v3",r[r.glofas_seamless_v4=36]="glofas_seamless_v4",r[r.glofas_forecast_v4=37]="glofas_forecast_v4",r[r.glofas_consolidated_v4=38]="glofas_consolidated_v4",r[r.gfs025=39]="gfs025",r[r.gfs05=40]="gfs05",r[r.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",r[r.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",r[r.FGOALS_f3_H=43]="FGOALS_f3_H",r[r.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",r[r.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",r[r.EC_Earth3P_HR=46]="EC_Earth3P_HR",r[r.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",r[r.NICAM16_8S=48]="NICAM16_8S",r[r.cams_europe=49]="cams_europe",r[r.cams_global=50]="cams_global",r[r.cfsv2=51]="cfsv2",r[r.era5_ocean=52]="era5_ocean",r[r.cma_grapes_global=53]="cma_grapes_global",r[r.bom_access_global=54]="bom_access_global",r[r.bom_access_global_ensemble=55]="bom_access_global_ensemble",r[r.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",r[r.arpae_cosmo_2i=57]="arpae_cosmo_2i",r[r.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",r[r.arpae_cosmo_5m=59]="arpae_cosmo_5m",r[r.ecmwf_ifs025=60]="ecmwf_ifs025",r[r.ecmwf_aifs025=61]="ecmwf_aifs025",r[r.gfs013=62]="gfs013",r[r.gfs_graphcast025=63]="gfs_graphcast025",r[r.ecmwf_wam025=64]="ecmwf_wam025",r[r.meteofrance_wave=65]="meteofrance_wave",r[r.meteofrance_currents=66]="meteofrance_currents",r[r.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",r[r.ncep_gfswave025=68]="ncep_gfswave025",r[r.ncep_gefswave025=69]="ncep_gefswave025",r[r.knmi_seamless=70]="knmi_seamless",r[r.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",r[r.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",r[r.dmi_seamless=73]="dmi_seamless",r[r.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",r[r.metno_seamless=75]="metno_seamless",r[r.era5_ensemble=76]="era5_ensemble",r[r.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",r[r.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",r[r.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",r[r.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",r[r.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",r[r.ukmo_seamless=82]="ukmo_seamless",r[r.ncep_gfswave016=83]="ncep_gfswave016",r[r.ncep_nbm_conus=84]="ncep_nbm_conus",r[r.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",r[r.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",r[r.jma_jaxa_himawari=87]="jma_jaxa_himawari",r[r.eumetsat_sarah3=88]="eumetsat_sarah3",r[r.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",r[r.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",r[r.satellite_radiation_seamless=91]="satellite_radiation_seamless",r[r.kma_gdps=92]="kma_gdps",r[r.kma_ldps=93]="kma_ldps",r[r.kma_seamless=94]="kma_seamless",r[r.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",r[r.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",r[r.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",r[r.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",r[r.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",r[r.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",r[r.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",r[r.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",r[r.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",r[r.ncep_nam_conus=104]="ncep_nam_conus",r[r.icon_d2_ruc=105]="icon_d2_ruc",r[r.ecmwf_seas5=106]="ecmwf_seas5",r[r.ecmwf_ec46=107]="ecmwf_ec46",r[r.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",r[r.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",r[r.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",r[r.gem_hrdps_west=111]="gem_hrdps_west"})(o||(t.Model=o={}))})}),Pa=Ne({"node_modules/@openmeteo/sdk/aggregation.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregation=void 0;var o;(function(r){r[r.none=0]="none",r[r.minimum=1]="minimum",r[r.maximum=2]="maximum",r[r.mean=3]="mean",r[r.p10=4]="p10",r[r.p25=5]="p25",r[r.median=6]="median",r[r.p75=7]="p75",r[r.p90=8]="p90",r[r.dominant=9]="dominant",r[r.sum=10]="sum",r[r.spread=11]="spread",r[r.anomaly=12]="anomaly",r[r.sot10=13]="sot10",r[r.sot90=14]="sot90",r[r.efi=15]="efi"})(o||(t.Aggregation=o={}))})}),Wa=Ne({"node_modules/@openmeteo/sdk/probability.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Probability=void 0;var o;(function(r){r[r.none=0]="none",r[r.gt0=1]="gt0",r[r.gt0p1=2]="gt0p1",r[r.gt1=3]="gt1",r[r.gt2=4]="gt2",r[r.gt3=5]="gt3",r[r.gt4=6]="gt4",r[r.gt5=7]="gt5",r[r.gt8=8]="gt8",r[r.gt10=9]="gt10",r[r.gt15=10]="gt15",r[r.gt20=11]="gt20",r[r.gt25=12]="gt25",r[r.gt30=13]="gt30",r[r.gt35=14]="gt35",r[r.gt40=15]="gt40",r[r.gt50=16]="gt50",r[r.gt60=17]="gt60",r[r.gt75=18]="gt75",r[r.gt80=19]="gt80",r[r.gt100=20]="gt100",r[r.lt0=21]="lt0",r[r.lt0p1=22]="lt0p1",r[r.lt1=23]="lt1",r[r.ltm1=24]="ltm1",r[r.ltm2=25]="ltm2",r[r.ltm3=26]="ltm3",r[r.ltm4=27]="ltm4",r[r.ltm5=28]="ltm5",r[r.ltm8=29]="ltm8",r[r.ltm10=30]="ltm10",r[r.ltm15=31]="ltm15",r[r.ltm20=32]="ltm20",r[r.gt1stdev=33]="gt1stdev",r[r.gt1p5stdev=34]="gt1p5stdev",r[r.gt2stdev=35]="gt2stdev",r[r.lt1stdev=36]="lt1stdev",r[r.lt1p5stdev=37]="lt1p5stdev",r[r.lt2stdev=38]="lt2stdev"})(o||(t.Probability=o={}))})}),Oa=Ne({"node_modules/@openmeteo/sdk/unit.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Unit=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.celsius=1]="celsius",r[r.centimetre=2]="centimetre",r[r.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",r[r.cubic_metre_per_second=4]="cubic_metre_per_second",r[r.degree_direction=5]="degree_direction",r[r.dimensionless_integer=6]="dimensionless_integer",r[r.dimensionless=7]="dimensionless",r[r.european_air_quality_index=8]="european_air_quality_index",r[r.fahrenheit=9]="fahrenheit",r[r.feet=10]="feet",r[r.fraction=11]="fraction",r[r.gdd_celsius=12]="gdd_celsius",r[r.geopotential_metre=13]="geopotential_metre",r[r.grains_per_cubic_metre=14]="grains_per_cubic_metre",r[r.gram_per_kilogram=15]="gram_per_kilogram",r[r.hectopascal=16]="hectopascal",r[r.hours=17]="hours",r[r.inch=18]="inch",r[r.iso8601=19]="iso8601",r[r.joule_per_kilogram=20]="joule_per_kilogram",r[r.kelvin=21]="kelvin",r[r.kilopascal=22]="kilopascal",r[r.kilogram_per_square_metre=23]="kilogram_per_square_metre",r[r.kilometres_per_hour=24]="kilometres_per_hour",r[r.knots=25]="knots",r[r.megajoule_per_square_metre=26]="megajoule_per_square_metre",r[r.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",r[r.metre_per_second=28]="metre_per_second",r[r.metre=29]="metre",r[r.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",r[r.miles_per_hour=31]="miles_per_hour",r[r.millimetre=32]="millimetre",r[r.pascal=33]="pascal",r[r.per_second=34]="per_second",r[r.percentage=35]="percentage",r[r.seconds=36]="seconds",r[r.unix_time=37]="unix_time",r[r.us_air_quality_index=38]="us_air_quality_index",r[r.watt_per_square_metre=39]="watt_per_square_metre",r[r.wmo_code=40]="wmo_code",r[r.parts_per_million=41]="parts_per_million",r[r.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(o||(t.Unit=o={}))})}),Ra=Ne({"node_modules/@openmeteo/sdk/variable.js":(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;var o;(function(r){r[r.undefined=0]="undefined",r[r.apparent_temperature=1]="apparent_temperature",r[r.cape=2]="cape",r[r.cloud_cover=3]="cloud_cover",r[r.cloud_cover_high=4]="cloud_cover_high",r[r.cloud_cover_low=5]="cloud_cover_low",r[r.cloud_cover_mid=6]="cloud_cover_mid",r[r.daylight_duration=7]="daylight_duration",r[r.dew_point=8]="dew_point",r[r.diffuse_radiation=9]="diffuse_radiation",r[r.diffuse_radiation_instant=10]="diffuse_radiation_instant",r[r.direct_normal_irradiance=11]="direct_normal_irradiance",r[r.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",r[r.direct_radiation=13]="direct_radiation",r[r.direct_radiation_instant=14]="direct_radiation_instant",r[r.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",r[r.evapotranspiration=16]="evapotranspiration",r[r.freezing_level_height=17]="freezing_level_height",r[r.growing_degree_days=18]="growing_degree_days",r[r.is_day=19]="is_day",r[r.latent_heat_flux=20]="latent_heat_flux",r[r.leaf_wetness_probability=21]="leaf_wetness_probability",r[r.lifted_index=22]="lifted_index",r[r.lightning_potential=23]="lightning_potential",r[r.precipitation=24]="precipitation",r[r.precipitation_hours=25]="precipitation_hours",r[r.precipitation_probability=26]="precipitation_probability",r[r.pressure_msl=27]="pressure_msl",r[r.rain=28]="rain",r[r.relative_humidity=29]="relative_humidity",r[r.runoff=30]="runoff",r[r.sensible_heat_flux=31]="sensible_heat_flux",r[r.shortwave_radiation=32]="shortwave_radiation",r[r.shortwave_radiation_instant=33]="shortwave_radiation_instant",r[r.showers=34]="showers",r[r.snow_depth=35]="snow_depth",r[r.snow_height=36]="snow_height",r[r.snowfall=37]="snowfall",r[r.snowfall_height=38]="snowfall_height",r[r.snowfall_water_equivalent=39]="snowfall_water_equivalent",r[r.sunrise=40]="sunrise",r[r.sunset=41]="sunset",r[r.soil_moisture=42]="soil_moisture",r[r.soil_moisture_index=43]="soil_moisture_index",r[r.soil_temperature=44]="soil_temperature",r[r.surface_pressure=45]="surface_pressure",r[r.surface_temperature=46]="surface_temperature",r[r.temperature=47]="temperature",r[r.terrestrial_radiation=48]="terrestrial_radiation",r[r.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",r[r.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",r[r.updraft=51]="updraft",r[r.uv_index=52]="uv_index",r[r.uv_index_clear_sky=53]="uv_index_clear_sky",r[r.vapour_pressure_deficit=54]="vapour_pressure_deficit",r[r.visibility=55]="visibility",r[r.weather_code=56]="weather_code",r[r.wind_direction=57]="wind_direction",r[r.wind_gusts=58]="wind_gusts",r[r.wind_speed=59]="wind_speed",r[r.vertical_velocity=60]="vertical_velocity",r[r.geopotential_height=61]="geopotential_height",r[r.wet_bulb_temperature=62]="wet_bulb_temperature",r[r.river_discharge=63]="river_discharge",r[r.wave_height=64]="wave_height",r[r.wave_period=65]="wave_period",r[r.wave_direction=66]="wave_direction",r[r.wind_wave_height=67]="wind_wave_height",r[r.wind_wave_period=68]="wind_wave_period",r[r.wind_wave_peak_period=69]="wind_wave_peak_period",r[r.wind_wave_direction=70]="wind_wave_direction",r[r.swell_wave_height=71]="swell_wave_height",r[r.swell_wave_period=72]="swell_wave_period",r[r.swell_wave_peak_period=73]="swell_wave_peak_period",r[r.swell_wave_direction=74]="swell_wave_direction",r[r.pm10=75]="pm10",r[r.pm2p5=76]="pm2p5",r[r.dust=77]="dust",r[r.aerosol_optical_depth=78]="aerosol_optical_depth",r[r.carbon_monoxide=79]="carbon_monoxide",r[r.nitrogen_dioxide=80]="nitrogen_dioxide",r[r.ammonia=81]="ammonia",r[r.ozone=82]="ozone",r[r.sulphur_dioxide=83]="sulphur_dioxide",r[r.alder_pollen=84]="alder_pollen",r[r.birch_pollen=85]="birch_pollen",r[r.grass_pollen=86]="grass_pollen",r[r.mugwort_pollen=87]="mugwort_pollen",r[r.olive_pollen=88]="olive_pollen",r[r.ragweed_pollen=89]="ragweed_pollen",r[r.european_aqi=90]="european_aqi",r[r.european_aqi_pm2p5=91]="european_aqi_pm2p5",r[r.european_aqi_pm10=92]="european_aqi_pm10",r[r.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",r[r.european_aqi_ozone=94]="european_aqi_ozone",r[r.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",r[r.us_aqi=96]="us_aqi",r[r.us_aqi_pm2p5=97]="us_aqi_pm2p5",r[r.us_aqi_pm10=98]="us_aqi_pm10",r[r.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",r[r.us_aqi_ozone=100]="us_aqi_ozone",r[r.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",r[r.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",r[r.sunshine_duration=103]="sunshine_duration",r[r.convective_inhibition=104]="convective_inhibition",r[r.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",r[r.global_tilted_irradiance=106]="global_tilted_irradiance",r[r.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",r[r.ocean_current_velocity=108]="ocean_current_velocity",r[r.ocean_current_direction=109]="ocean_current_direction",r[r.cloud_base=110]="cloud_base",r[r.cloud_top=111]="cloud_top",r[r.mass_density=112]="mass_density",r[r.boundary_layer_height=113]="boundary_layer_height",r[r.formaldehyde=114]="formaldehyde",r[r.glyoxal=115]="glyoxal",r[r.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",r[r.pm10_wildfires=117]="pm10_wildfires",r[r.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",r[r.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",r[r.residential_elementary_carbon=120]="residential_elementary_carbon",r[r.total_elementary_carbon=121]="total_elementary_carbon",r[r.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",r[r.sea_salt_aerosol=123]="sea_salt_aerosol",r[r.nitrogen_monoxide=124]="nitrogen_monoxide",r[r.thunderstorm_probability=125]="thunderstorm_probability",r[r.rain_probability=126]="rain_probability",r[r.freezing_rain_probability=127]="freezing_rain_probability",r[r.ice_pellets_probability=128]="ice_pellets_probability",r[r.snowfall_probability=129]="snowfall_probability",r[r.carbon_dioxide=130]="carbon_dioxide",r[r.methane=131]="methane",r[r.sea_level_height_msl=132]="sea_level_height_msl",r[r.sea_surface_temperature=133]="sea_surface_temperature",r[r.invert_barometer_height=134]="invert_barometer_height",r[r.hail=135]="hail",r[r.albedo=136]="albedo",r[r.precipitation_type=137]="precipitation_type",r[r.convective_cloud_base=138]="convective_cloud_base",r[r.convective_cloud_top=139]="convective_cloud_top",r[r.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",r[r.secondary_swell_wave_height=141]="secondary_swell_wave_height",r[r.secondary_swell_wave_period=142]="secondary_swell_wave_period",r[r.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",r[r.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",r[r.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",r[r.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",r[r.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",r[r.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",r[r.wind_u_component=149]="wind_u_component",r[r.wind_v_component=150]="wind_v_component",r[r.temperature_max24h=151]="temperature_max24h",r[r.temperature_min24h=152]="temperature_min24h",r[r.temperature_mean24h=153]="temperature_mean24h",r[r.snow_density=154]="snow_density",r[r.longwave_radiation=155]="longwave_radiation",r[r.sea_ice_cover=156]="sea_ice_cover",r[r.k_index=157]="k_index",r[r.roughness_length=158]="roughness_length",r[r.potential_evapotranspiration=159]="potential_evapotranspiration",r[r.wave_peak_period=160]="wave_peak_period",r[r.temperature_max6h=161]="temperature_max6h",r[r.temperature_min6h=162]="temperature_min6h"})(o||(t.Variable=o={}))})}),so=Ne({"node_modules/@openmeteo/sdk/variable-with-values.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(l,p,x,k){k===void 0&&(k=x);var F=Object.getOwnPropertyDescriptor(p,x);(!F||("get"in F?!p.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(l,k,F)}):(function(l,p,x,k){k===void 0&&(k=x),l[k]=p[x]})),r=t&&t.__setModuleDefault||(Object.create?(function(l,p){Object.defineProperty(l,"default",{enumerable:!0,value:p})}):function(l,p){l.default=p}),n=t&&t.__importStar||(function(){var l=function(p){return l=Object.getOwnPropertyNames||function(x){var k=[];for(var F in x)Object.prototype.hasOwnProperty.call(x,F)&&(k[k.length]=F);return k},l(p)};return function(p){if(p&&p.__esModule)return p;var x={};if(p!=null)for(var k=l(p),F=0;F<k.length;F++)k[F]!=="default"&&o(x,p,k[F]);return r(x,p),x}})();Object.defineProperty(t,"__esModule",{value:!0}),t.VariableWithValues=void 0;var u=n((Ct(),kt(jt))),c=Pa(),s=Wa(),m=Oa(),d=Ra(),g=class or{constructor(){this.bb=null,this.bb_pos=0}__init(p,x){return this.bb_pos=p,this.bb=x,this}static getRootAsVariableWithValues(p,x){return(x||new or).__init(p.readInt32(p.position())+p.position(),p)}static getSizePrefixedRootAsVariableWithValues(p,x){return p.setPosition(p.position()+u.SIZE_PREFIX_LENGTH),(x||new or).__init(p.readInt32(p.position())+p.position(),p)}variable(){const p=this.bb.__offset(this.bb_pos,4);return p?this.bb.readUint8(this.bb_pos+p):d.Variable.undefined}unit(){const p=this.bb.__offset(this.bb_pos,6);return p?this.bb.readUint8(this.bb_pos+p):m.Unit.undefined}value(){const p=this.bb.__offset(this.bb_pos,8);return p?this.bb.readFloat32(this.bb_pos+p):0}values(p){const x=this.bb.__offset(this.bb_pos,10);return x?this.bb.readFloat32(this.bb.__vector(this.bb_pos+x)+p*4):0}valuesLength(){const p=this.bb.__offset(this.bb_pos,10);return p?this.bb.__vector_len(this.bb_pos+p):0}valuesArray(){const p=this.bb.__offset(this.bb_pos,10);return p?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+p),this.bb.__vector_len(this.bb_pos+p)):null}valuesInt64(p){const x=this.bb.__offset(this.bb_pos,12);return x?this.bb.readInt64(this.bb.__vector(this.bb_pos+x)+p*8):BigInt(0)}valuesInt64Length(){const p=this.bb.__offset(this.bb_pos,12);return p?this.bb.__vector_len(this.bb_pos+p):0}altitude(){const p=this.bb.__offset(this.bb_pos,14);return p?this.bb.readInt16(this.bb_pos+p):0}aggregation(){const p=this.bb.__offset(this.bb_pos,16);return p?this.bb.readUint8(this.bb_pos+p):c.Aggregation.none}pressureLevel(){const p=this.bb.__offset(this.bb_pos,18);return p?this.bb.readInt16(this.bb_pos+p):0}depth(){const p=this.bb.__offset(this.bb_pos,20);return p?this.bb.readInt16(this.bb_pos+p):0}depthTo(){const p=this.bb.__offset(this.bb_pos,22);return p?this.bb.readInt16(this.bb_pos+p):0}ensembleMember(){const p=this.bb.__offset(this.bb_pos,24);return p?this.bb.readInt16(this.bb_pos+p):0}previousDay(){const p=this.bb.__offset(this.bb_pos,26);return p?this.bb.readInt16(this.bb_pos+p):0}probability(){const p=this.bb.__offset(this.bb_pos,28);return p?this.bb.readUint8(this.bb_pos+p):s.Probability.none}};t.VariableWithValues=g})}),Ha=Ne({"node_modules/@openmeteo/sdk/variables-with-month.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(m,d,g,l){l===void 0&&(l=g);var p=Object.getOwnPropertyDescriptor(d,g);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[g]}}),Object.defineProperty(m,l,p)}):(function(m,d,g,l){l===void 0&&(l=g),m[l]=d[g]})),r=t&&t.__setModuleDefault||(Object.create?(function(m,d){Object.defineProperty(m,"default",{enumerable:!0,value:d})}):function(m,d){m.default=d}),n=t&&t.__importStar||(function(){var m=function(d){return m=Object.getOwnPropertyNames||function(g){var l=[];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(l[l.length]=p);return l},m(d)};return function(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var l=m(d),p=0;p<l.length;p++)l[p]!=="default"&&o(g,d,l[p]);return r(g,d),g}})();Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesWithMonth=void 0;var u=n((Ct(),kt(jt))),c=so(),s=class ar{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsVariablesWithMonth(d,g){return(g||new ar).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsVariablesWithMonth(d,g){return d.setPosition(d.position()+u.SIZE_PREFIX_LENGTH),(g||new ar).__init(d.readInt32(d.position())+d.position(),d)}year(){const d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readInt16(this.bb_pos+d):0}month(){const d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readInt8(this.bb_pos+d):0}count(){const d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt32(this.bb_pos+d):0}variables(d,g){const l=this.bb.__offset(this.bb_pos,10);return l?(g||new c.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+d*4),this.bb):null}variablesLength(){const d=this.bb.__offset(this.bb_pos,10);return d?this.bb.__vector_len(this.bb_pos+d):0}};t.VariablesWithMonth=s})}),Ga=Ne({"node_modules/@openmeteo/sdk/variables-with-time.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(m,d,g,l){l===void 0&&(l=g);var p=Object.getOwnPropertyDescriptor(d,g);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[g]}}),Object.defineProperty(m,l,p)}):(function(m,d,g,l){l===void 0&&(l=g),m[l]=d[g]})),r=t&&t.__setModuleDefault||(Object.create?(function(m,d){Object.defineProperty(m,"default",{enumerable:!0,value:d})}):function(m,d){m.default=d}),n=t&&t.__importStar||(function(){var m=function(d){return m=Object.getOwnPropertyNames||function(g){var l=[];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(l[l.length]=p);return l},m(d)};return function(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var l=m(d),p=0;p<l.length;p++)l[p]!=="default"&&o(g,d,l[p]);return r(g,d),g}})();Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesWithTime=void 0;var u=n((Ct(),kt(jt))),c=so(),s=class sr{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsVariablesWithTime(d,g){return(g||new sr).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsVariablesWithTime(d,g){return d.setPosition(d.position()+u.SIZE_PREFIX_LENGTH),(g||new sr).__init(d.readInt32(d.position())+d.position(),d)}time(){const d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readInt64(this.bb_pos+d):BigInt("0")}timeEnd(){const d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readInt64(this.bb_pos+d):BigInt("0")}interval(){const d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt32(this.bb_pos+d):0}variables(d,g){const l=this.bb.__offset(this.bb_pos,10);return l?(g||new c.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+d*4),this.bb):null}variablesLength(){const d=this.bb.__offset(this.bb_pos,10);return d?this.bb.__vector_len(this.bb_pos+d):0}};t.VariablesWithTime=s})}),qa=Ne({"node_modules/@openmeteo/sdk/weather-api-response.js":(t=>{var o=t&&t.__createBinding||(Object.create?(function(g,l,p,x){x===void 0&&(x=p);var k=Object.getOwnPropertyDescriptor(l,p);(!k||("get"in k?!l.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return l[p]}}),Object.defineProperty(g,x,k)}):(function(g,l,p,x){x===void 0&&(x=p),g[x]=l[p]})),r=t&&t.__setModuleDefault||(Object.create?(function(g,l){Object.defineProperty(g,"default",{enumerable:!0,value:l})}):function(g,l){g.default=l}),n=t&&t.__importStar||(function(){var g=function(l){return g=Object.getOwnPropertyNames||function(p){var x=[];for(var k in p)Object.prototype.hasOwnProperty.call(p,k)&&(x[x.length]=k);return x},g(l)};return function(l){if(l&&l.__esModule)return l;var p={};if(l!=null)for(var x=g(l),k=0;k<x.length;k++)x[k]!=="default"&&o(p,l,x[k]);return r(p,l),p}})();Object.defineProperty(t,"__esModule",{value:!0}),t.WeatherApiResponse=void 0;var u=n((Ct(),kt(jt))),c=Da(),s=Ha(),m=Ga(),d=class nr{constructor(){this.bb=null,this.bb_pos=0}__init(l,p){return this.bb_pos=l,this.bb=p,this}static getRootAsWeatherApiResponse(l,p){return(p||new nr).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsWeatherApiResponse(l,p){return l.setPosition(l.position()+u.SIZE_PREFIX_LENGTH),(p||new nr).__init(l.readInt32(l.position())+l.position(),l)}latitude(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readFloat32(this.bb_pos+l):0}longitude(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readFloat32(this.bb_pos+l):0}elevation(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readFloat32(this.bb_pos+l):0}generationTimeMilliseconds(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.readFloat32(this.bb_pos+l):0}locationId(){const l=this.bb.__offset(this.bb_pos,12);return l?this.bb.readInt64(this.bb_pos+l):BigInt("0")}model(){const l=this.bb.__offset(this.bb_pos,14);return l?this.bb.readUint8(this.bb_pos+l):c.Model.undefined}utcOffsetSeconds(){const l=this.bb.__offset(this.bb_pos,16);return l?this.bb.readInt32(this.bb_pos+l):0}timezone(l){const p=this.bb.__offset(this.bb_pos,18);return p?this.bb.__string(this.bb_pos+p,l):null}timezoneAbbreviation(l){const p=this.bb.__offset(this.bb_pos,20);return p?this.bb.__string(this.bb_pos+p,l):null}current(l){const p=this.bb.__offset(this.bb_pos,22);return p?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}daily(l){const p=this.bb.__offset(this.bb_pos,24);return p?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}hourly(l){const p=this.bb.__offset(this.bb_pos,26);return p?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}minutely15(l){const p=this.bb.__offset(this.bb_pos,28);return p?(l||new m.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}monthly(l){const p=this.bb.__offset(this.bb_pos,30);return p?(l||new s.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+p),this.bb):null}};t.WeatherApiResponse=d})}),Ua=Ne({"node_modules/openmeteo/lib/index.js":(t=>{var o=t&&t.__awaiter||function(m,d,g,l){function p(x){return x instanceof g?x:new g(function(k){k(x)})}return new(g||(g=Promise))(function(x,k){function F(v){try{y(l.next(v))}catch(j){k(j)}}function N(v){try{y(l.throw(v))}catch(j){k(j)}}function y(v){v.done?x(v.value):p(v.value).then(F,N)}y((l=l.apply(m,d||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWeatherApi=s;var r=(Ct(),kt(jt)),n=qa(),u=m=>new Promise(d=>setTimeout(d,m));function c(m){return o(this,arguments,void 0,function*(d,g=3,l=.5,p=2,x={}){const k=[500,502,504],F=[400,429];let N=0,y=yield fetch(d,x);for(;k.includes(y.status);){if(N++,N>=g)throw new Error(y.statusText);yield u(Math.min(l*Math.pow(2,N),p)*1e3),y=yield fetch(d,x)}if(F.includes(y.status)){const v=yield y.json();throw"reason"in v?new Error(v.reason):new Error(y.statusText)}return y})}function s(m,d){return o(this,arguments,void 0,function*(g,l,p=3,x=.2,k=2,F={}){const N=new URLSearchParams(l);N.set("format","flatbuffers");const y=yield c(`${g}?${N.toString()}`,p,x,k,F),v=new r.ByteBuffer(new Uint8Array(yield y.arrayBuffer())),j=[];let w=0;for(;w<v.capacity();){v.setPosition(w);const T=v.readInt32(v.position());j.push(n.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(v)),w+=T+4}return j})}})}),re=Co(Ba(),1),Ir=Ua(),qt={current:{temperature:72,condition:"Partly Cloudy",humidity:65,wind:12,feelsLike:70,uvIndex:6,cloudCover:45,pressure:1013,visibility:10,sunrise:"6:45 AM",sunset:"7:30 PM",icon:"partly-cloudy"},forecast:[{day:"Mon",date:"Jan 6",high:75,low:58,condition:"Sunny",precipitation:0,wind:8,uvIndex:7,humidity:55,sunrise:"6:46 AM",sunset:"7:31 PM",icon:"sunny"},{day:"Tue",date:"Jan 7",high:72,low:60,condition:"Cloudy",precipitation:10,wind:10,uvIndex:4,humidity:70,sunrise:"6:46 AM",sunset:"7:32 PM",icon:"cloudy"},{day:"Wed",date:"Jan 8",high:68,low:55,condition:"Rainy",precipitation:80,wind:15,uvIndex:2,humidity:85,sunrise:"6:47 AM",sunset:"7:33 PM",icon:"rainy"},{day:"Thu",date:"Jan 9",high:70,low:57,condition:"Partly Cloudy",precipitation:20,wind:12,uvIndex:5,humidity:65,sunrise:"6:47 AM",sunset:"7:34 PM",icon:"partly-cloudy"},{day:"Fri",date:"Jan 10",high:74,low:59,condition:"Sunny",precipitation:0,wind:7,uvIndex:8,humidity:50,sunrise:"6:48 AM",sunset:"7:35 PM",icon:"sunny"},{day:"Sat",date:"Jan 11",high:76,low:61,condition:"Sunny",precipitation:0,wind:9,uvIndex:8,humidity:48,sunrise:"6:48 AM",sunset:"7:36 PM",icon:"sunny"},{day:"Sun",date:"Jan 12",high:73,low:60,condition:"Partly Cloudy",precipitation:15,wind:11,uvIndex:6,humidity:60,sunrise:"6:49 AM",sunset:"7:37 PM",icon:"partly-cloudy"}],alerts:[]},Br={0:{condition:"Clear",icon:"clear"},1:{condition:"Partly Cloudy",icon:"partly-cloudy"},2:{condition:"Partly Cloudy",icon:"partly-cloudy"},3:{condition:"Partly Cloudy",icon:"partly-cloudy"},45:{condition:"Fog",icon:"fog"},48:{condition:"Fog",icon:"fog"},51:{condition:"Drizzle",icon:"drizzle"},53:{condition:"Drizzle",icon:"drizzle"},55:{condition:"Drizzle",icon:"drizzle"},56:{condition:"Drizzle",icon:"drizzle"},57:{condition:"Drizzle",icon:"drizzle"},61:{condition:"Rain",icon:"rain"},63:{condition:"Rain",icon:"rain"},65:{condition:"Rain",icon:"rain"},66:{condition:"Rain",icon:"rain"},67:{condition:"Rain",icon:"rain"},71:{condition:"Snow",icon:"snow"},73:{condition:"Snow",icon:"snow"},75:{condition:"Snow",icon:"snow"},77:{condition:"Snow",icon:"snow"},80:{condition:"Rain",icon:"rain"},81:{condition:"Rain",icon:"rain"},82:{condition:"Rain",icon:"rain"},85:{condition:"Snow",icon:"snow"},86:{condition:"Snow",icon:"snow"},95:{condition:"Thunderstorm",icon:"thunderstorm"},96:{condition:"Thunderstorm",icon:"thunderstorm"},99:{condition:"Thunderstorm",icon:"thunderstorm"}},Je=t=>Br[t]?Br[t]:t<=3?{condition:"Partly Cloudy",icon:"partly-cloudy"}:t<=48?{condition:"Fog",icon:"fog"}:t<=57?{condition:"Drizzle",icon:"drizzle"}:t<=67?{condition:"Rain",icon:"rain"}:t<=77?{condition:"Snow",icon:"snow"}:t<=82?{condition:"Rain",icon:"rain"}:t<=86?{condition:"Snow",icon:"snow"}:t>=95?{condition:"Thunderstorm",icon:"thunderstorm"}:{condition:"Cloudy",icon:"clouds"},Qe=({condition:t,animate:o,greyscale:r,size:n=32,theme:u})=>{const c=u||Y,s=r?"#94A3B8":"#F59E0B",m=c?.colors?r?c.colors.softSlate||"#94A3B8":c.colors.sunburstGold||"#F59E0B":s,d={size:n,className:`${o?"animate-pulse":""} ${r?"grayscale":""}`,style:{color:m},"aria-hidden":!0},g=(k,F)=>c?.colors?.[k]||F,l={sunny:(0,e.jsx)(Xt,{...d}),clear:(0,e.jsx)(Xt,{...d}),rainy:(0,e.jsx)(Cr,{...d,style:{...d.style,color:g("cosmicBlue","#3B82F6")}}),rain:(0,e.jsx)(Cr,{...d,style:{...d.style,color:g("cosmicBlue","#3B82F6")}}),drizzle:(0,e.jsx)(Po,{...d,style:{...d.style,color:g("aetherTeal","#06B6D4")}}),cloudy:(0,e.jsx)(nt,{...d,style:{...d.style,color:g("softSlate","#94A3B8")}}),clouds:(0,e.jsx)(nt,{...d,style:{...d.style,color:g("softSlate","#94A3B8")}}),"partly-cloudy":(0,e.jsx)(yt,{...d,style:{...d.style,color:g("aetherTeal","#06B6D4")}}),snow:(0,e.jsx)(Vo,{...d,style:{...d.style,color:g("stardustWhite","#F8F9FF")}}),thunderstorm:(0,e.jsx)(Ko,{...d,style:{...d.style,color:g("electricPurple","#8B5CF6")}}),mist:(0,e.jsx)(Ft,{...d,style:{...d.style,color:g("softSlate","#94A3B8")}}),fog:(0,e.jsx)(Ft,{...d,style:{...d.style,color:g("softSlate","#94A3B8")}}),haze:(0,e.jsx)(Ft,{...d,style:{...d.style,color:g("softSlate","#94A3B8")}}),smoke:(0,e.jsx)(Ft,{...d,style:{...d.style,color:g("graphite","#1F2937")}}),dust:(0,e.jsx)(ze,{...d,style:{...d.style,color:g("sunburstGold","#F59E0B")}}),sand:(0,e.jsx)(ze,{...d,style:{...d.style,color:g("sunburstGold","#F59E0B")}}),tornado:(0,e.jsx)(ze,{...d,style:{...d.style,color:g("electricPurple","#8B5CF6")}})},p=t?.toLowerCase()||"partly-cloudy",x=`Weather condition: ${t||"Partly Cloudy"}`;return(0,e.jsx)("span",{role:"img","aria-label":x,children:l[p]||(0,e.jsx)(yt,{...d,style:{...d.style,color:g("aetherTeal","#06B6D4")}})})},$a=({orientation:t="auto"})=>t==="compact"?(0,e.jsxs)("div",{className:"animate-pulse flex items-center gap-2 p-2",role:"status","aria-label":"Loading weather data",children:[(0,e.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),(0,e.jsx)("div",{className:"h-6 bg-gray-300 rounded w-16"}),(0,e.jsx)("span",{className:"sr-only",children:"Loading..."})]}):t==="horizontal"?(0,e.jsxs)("div",{className:"animate-pulse flex items-center justify-between w-full p-3",role:"status","aria-label":"Loading weather data",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,e.jsx)("div",{className:"h-8 bg-gray-300 rounded w-20"})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-24"}),(0,e.jsx)("div",{className:"h-3 bg-gray-300 rounded w-20"})]}),(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-28"}),(0,e.jsx)("span",{className:"sr-only",children:"Loading..."})]}):t==="wide"?(0,e.jsxs)("div",{className:"animate-pulse space-y-4 p-4",role:"status","aria-label":"Loading weather data",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-full"}),(0,e.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24"})]}),(0,e.jsx)("div",{className:"h-5 bg-gray-300 rounded w-28"})]}),(0,e.jsx)("div",{className:"flex justify-between gap-4",children:[...Array(5)].map((o,r)=>(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-16"},r))}),(0,e.jsx)("div",{className:"flex gap-2 overflow-hidden",children:[...Array(6)].map((o,r)=>(0,e.jsx)("div",{className:"flex-shrink-0 w-16 h-20 bg-gray-300 rounded"},r))}),(0,e.jsx)("span",{className:"sr-only",children:"Loading..."})]}):(0,e.jsxs)("div",{className:"animate-pulse space-y-4",role:"status","aria-label":"Loading weather data","aria-live":"polite",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,e.jsx)("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),(0,e.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32"})]}),(0,e.jsx)("div",{className:"h-12 bg-gray-300 rounded w-24 mb-2"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full"}),(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,e.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]}),(0,e.jsx)("span",{className:"sr-only",children:"Loading weather data..."})]}),Ya=({alert:t})=>(0,e.jsxs)("div",{className:"flex items-start gap-3 p-4 mb-4 rounded-lg border-l-4",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderLeftColor:"#EF4444",color:"#DC2626"},children:[(0,e.jsx)(_t,{size:24,className:"flex-shrink-0 mt-0.5"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"font-bold text-sm mb-1",children:t.event}),(0,e.jsx)("div",{className:"text-xs opacity-90",children:t.description})]})]});const no=({config:t,onCustomizeRequest:o})=>{let r;try{r=Ee()?.theme||Y}catch{r=Y}const n=r,[u,c]=(0,h.useState)(null),[s,m]=(0,h.useState)(!0),[d,g]=(0,h.useState)(null),[l,p]=(0,h.useState)(null),[x,k]=(0,h.useState)(t.weatherLocation),[F,N]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches);(0,h.useEffect)(()=>{!t.useGeolocation&&t.weatherLocation!==x&&k(t.weatherLocation)},[t.weatherLocation,t.useGeolocation,x]);const y=(0,h.useCallback)(async(M,_={})=>{const{signal:a}=_;m(!0),g(null),p(null);try{const S=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(M)}&count=1&language=en&format=json`,{signal:a});if(!S.ok)throw new Error("Location not found");const I=await S.json();if(!I.results||I.results.length===0)throw new Error("Location not found");const{latitude:P,longitude:E,name:G,admin1:O,country:ee}=I.results[0];k(O?`${G}, ${O}`:`${G}, ${ee}`);const oe=(await(0,Ir.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:P,longitude:E,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:t.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:t.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:t.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],X=oe.current(),ce=oe.utcOffsetSeconds(),Me=oe.timezone(),we=te=>{if(!te)return null;try{return te.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Me||void 0})}catch{return te.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},z={current:{temperature:Math.round(X.variables(0).value()),condition:Je(X.variables(3).value()).condition,humidity:Math.round(X.variables(1).value()),wind:Math.round(X.variables(4).value()),feelsLike:Math.round(X.variables(2).value()),cloudCover:Math.round(X.variables(5).value()),pressure:Math.round(X.variables(6).value()),visibility:Math.round(X.variables(7).value()/1e3),uvIndex:0,icon:Je(X.variables(3).value()).icon},forecast:[]},ue=oe.daily(),de=Math.min(t.numberOfDays+1,10),_e=ue.variables(7),ge=ue.variables(8);for(let te=0;te<de;te++){const Ke=Number(ue.time())+te*ue.interval(),$e=new Date((Ke+ce)*1e3);let Ae=null,pt=null;try{if(_e){const He=Number(_e.valuesInt64(te));He>0&&(Ae=new Date(He*1e3))}if(ge){const He=Number(ge.valuesInt64(te));He>0&&(pt=new Date(He*1e3))}}catch(He){console.warn("Error parsing sunrise/sunset:",He)}z.forecast.push({day:$e.toLocaleDateString("en-US",{weekday:"short"}),date:t.displayDates?$e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(ue.variables(1).valuesArray()[te]),low:Math.round(ue.variables(2).valuesArray()[te]),condition:Je(ue.variables(0).valuesArray()[te]).condition,precipitation:Math.round(ue.variables(3).valuesArray()[te]||0),wind:Math.round(ue.variables(4).valuesArray()[te]),uvIndex:Math.round(ue.variables(5).valuesArray()[te]||0),humidity:Math.round(ue.variables(6).valuesArray()[te]||0),sunrise:we(Ae),sunset:we(pt),icon:Je(ue.variables(0).valuesArray()[te]).icon}),te===0&&(z.current.uvIndex=Math.round(ue.variables(5).valuesArray()[te]||0),z.current.sunrise=we(Ae),z.current.sunset=we(pt))}z.alerts=[],c(z),m(!1)}catch(S){S.name!=="AbortError"&&(console.error("Weather fetch error:",S),g(S.message),c(qt),m(!1))}},[t.preferredUnits,t.numberOfDays,t.displayDates]),v=(0,h.useCallback)(async(M,_,a,S={})=>{const{signal:I}=S;if(!I?.aborted){m(!0),g(null),p(null);try{const P=(await(0,Ir.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:M,longitude:_,current:["temperature_2m","relative_humidity_2m","apparent_temperature","weather_code","wind_speed_10m","cloud_cover","pressure_msl","visibility"],daily:["weather_code","temperature_2m_max","temperature_2m_min","precipitation_probability_max","wind_speed_10m_max","uv_index_max","relative_humidity_2m_mean","sunrise","sunset"],temperature_unit:t.preferredUnits==="metric"?"celsius":"fahrenheit",wind_speed_unit:t.preferredUnits==="metric"?"kmh":"mph",precipitation_unit:t.preferredUnits==="metric"?"mm":"inch",timezone:"auto"}))[0],E=P.current(),G=P.utcOffsetSeconds(),O=P.timezone(),ee=z=>{if(!z)return null;try{return z.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:O||void 0})}catch{return z.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},oe={current:{temperature:Math.round(E.variables(0).value()),condition:Je(E.variables(3).value()).condition,humidity:Math.round(E.variables(1).value()),wind:Math.round(E.variables(4).value()),feelsLike:Math.round(E.variables(2).value()),cloudCover:Math.round(E.variables(5).value()),pressure:Math.round(E.variables(6).value()),visibility:Math.round(E.variables(7).value()/1e3),uvIndex:0,icon:Je(E.variables(3).value()).icon},forecast:[],alerts:[]},X=P.daily(),ce=Math.min(t.numberOfDays+1,10),Me=X.variables(7),we=X.variables(8);for(let z=0;z<ce;z++){const ue=Number(X.time())+z*X.interval(),de=new Date((ue+G)*1e3);let _e=null,ge=null;try{if(Me){const te=Number(Me.valuesInt64(z));te>0&&(_e=new Date(te*1e3))}if(we){const te=Number(we.valuesInt64(z));te>0&&(ge=new Date(te*1e3))}}catch(te){console.warn("Error parsing sunrise/sunset:",te)}oe.forecast.push({day:de.toLocaleDateString("en-US",{weekday:"short"}),date:t.displayDates?de.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,high:Math.round(X.variables(1).valuesArray()[z]),low:Math.round(X.variables(2).valuesArray()[z]),condition:Je(X.variables(0).valuesArray()[z]).condition,precipitation:Math.round(X.variables(3).valuesArray()[z]||0),wind:Math.round(X.variables(4).valuesArray()[z]),uvIndex:Math.round(X.variables(5).valuesArray()[z]||0),humidity:Math.round(X.variables(6).valuesArray()[z]||0),sunrise:ee(_e),sunset:ee(ge),icon:Je(X.variables(0).valuesArray()[z]).icon}),z===0&&(oe.current.uvIndex=Math.round(X.variables(5).valuesArray()[z]||0),oe.current.sunrise=ee(_e),oe.current.sunset=ee(ge))}k(a),c(oe),m(!1)}catch(P){P.name!=="AbortError"&&(console.error("Weather fetch error:",P),g(P.message),c(qt),m(!1))}}},[t.preferredUnits,t.numberOfDays,t.displayDates]),j=(0,h.useCallback)((M={})=>{const{signal:_}=M;if(!navigator.geolocation){p("Geolocation is not supported by your browser");return}m(!0),p(null),navigator.geolocation.getCurrentPosition(async a=>{if(!_?.aborted)try{const{latitude:S,longitude:I}=a.coords,P=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${S}&longitude=${I}&localityLanguage=en`,{signal:_});let E=`${S.toFixed(2)}, ${I.toFixed(2)}`;if(P.ok){const G=await P.json(),O=G.city||G.locality||G.principalSubdivision,ee=G.principalSubdivision||G.countryName;O&&ee&&O!==ee?E=`${O}, ${ee}`:O?E=O:G.countryName&&(E=G.countryName)}k(E),v(S,I,E,{signal:_})}catch(S){if(S.name!=="AbortError"){const{latitude:I,longitude:P}=a.coords,E=`${I.toFixed(2)}, ${P.toFixed(2)}`;k(E),v(I,P,E,{signal:_})}}},a=>{let S="Unable to retrieve your location.";switch(a.code){case a.PERMISSION_DENIED:S="Location access denied. Please enable location permissions in your browser settings.";break;case a.POSITION_UNAVAILABLE:S="Location information is unavailable. Please try again later.";break;case a.TIMEOUT:S="Location request timed out. Please try again.";break;default:S="An unknown error occurred while getting your location."}p(S),m(!1)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[v]);(0,h.useEffect)(()=>{const M=new AbortController;return t.useGeolocation?j({signal:M.signal}):y(x,{signal:M.signal}),()=>M.abort()},[t.preferredUnits,t.useGeolocation,x,j,y]),(0,h.useEffect)(()=>{const M=new AbortController,_=setInterval(()=>{t.useGeolocation?j({signal:M.signal}):y(x,{signal:M.signal})},6e5);return()=>{clearInterval(_),M.abort()}},[x,t.useGeolocation,j,y]),(0,h.useEffect)(()=>{if(t.googleFont!=="none"){const M=document.createElement("link");return M.href=`https://fonts.googleapis.com/css2?family=${t.googleFont}&display=swap`,M.rel="stylesheet",document.head.appendChild(M),()=>{try{M&&document.head.contains(M)&&document.head.removeChild(M)}catch{}}}},[t.googleFont]),(0,h.useEffect)(()=>{if(t.appearanceMode!=="system"||typeof window>"u")return;const M=window.matchMedia("(prefers-color-scheme: dark)"),_=a=>N(a.matches);return M.addEventListener("change",_),()=>M.removeEventListener("change",_)},[t.appearanceMode]);const w=(0,h.useMemo)(()=>t.appearanceMode==="system"?F:t.appearanceMode==="dark",[t.appearanceMode,F]),T=w?t.textColorDark||t.theme?.dark?.textColor||n.colors.stardustWhite:t.textColorLight||t.theme?.light?.textColor||n.colors.graphite,f=(0,h.useMemo)(()=>{if(t.googleFont&&t.googleFont!=="none")return`"${String(t.googleFont).replace(/\+/g," ")}", system-ui, sans-serif`;switch(t.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return n?.fonts?.body||'"Montserrat", system-ui, sans-serif'}},[t.googleFont,t.textFontFamily,n]),H=(0,h.useMemo)(()=>t.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[t.backgroundTexture]||"",[t.backgroundTexture]),Q=(0,h.useMemo)(()=>t.presetTheme==="none"?{}:{cyberpunk:{primary:n.colors.neonPink,secondary:n.colors.electricPurple,gradient:`linear-gradient(135deg, ${n.colors.neonPink}, ${n.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{primary:n.colors.graphite,secondary:n.colors.nightBlack,gradient:`linear-gradient(135deg, ${n.colors.graphite}, ${n.colors.nightBlack})`,glow:"none"},ocean:{primary:n.colors.aetherTeal,secondary:n.colors.cosmicBlue,gradient:`linear-gradient(135deg, ${n.colors.aetherTeal}, ${n.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{primary:n.colors.sunburstGold,secondary:n.colors.neonPink,gradient:`linear-gradient(135deg, ${n.colors.sunburstGold}, ${n.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{primary:"#10b981",secondary:"#059669",gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{primary:n.colors.ultraviolet,secondary:n.colors.neonPink,gradient:n.gradients.gradient,glow:n.effects.glow},midnight:{primary:n.colors.nightBlack,secondary:n.colors.ultraviolet,gradient:`linear-gradient(135deg, ${n.colors.nightBlack}, ${n.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[t.presetTheme]||{},[t.presetTheme,n]),D=(0,h.useMemo)(()=>{if(t.useTransparentBackground)return"transparent";if(t.setBackgroundColor&&!u)return t.backgroundColor;if(t.presetTheme!=="none"&&Q.gradient)return Q.gradient;const M=u?.current?.icon||"clear",_={clear:`linear-gradient(135deg, ${n.colors.sunburstGold} 0%, ${n.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${n.colors.sunburstGold} 0%, ${n.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.graphite} 100%)`,cloudy:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${n.colors.cosmicBlue} 0%, ${n.colors.graphite} 100%)`,rainy:`linear-gradient(135deg, ${n.colors.cosmicBlue} 0%, ${n.colors.graphite} 100%)`,drizzle:`linear-gradient(135deg, ${n.colors.aetherTeal} 0%, ${n.colors.cosmicBlue} 100%)`,thunderstorm:`linear-gradient(135deg, ${n.colors.electricPurple} 0%, ${n.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${n.colors.stardustWhite} 0%, ${n.colors.cosmicBlue} 100%)`,mist:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.stardustWhite} 100%)`,fog:`linear-gradient(135deg, ${n.colors.softSlate} 0%, ${n.colors.stardustWhite} 100%)`};return t.setBackgroundColor?t.backgroundColor:_[M]||(w?n.colors.nightBlack:n.colors.stardustWhite)},[t.useTransparentBackground,t.setBackgroundColor,t.backgroundColor,t.presetTheme,Q,u,w,n]),B=(0,h.useMemo)(()=>t.useTransparentBackground?{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",backgroundColor:w?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)",borderRadius:"12px",border:`1px solid ${w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"}`}:{},[t.useTransparentBackground,w]),C=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",Z=t.glowEffect?Q.glow||n.effects.glow:"none",$=(0,h.useMemo)(()=>t.gradientText?{background:Q.gradient||n.gradients?.gradient||"linear-gradient(135deg, #EC4899, #8B5CF6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{},[t.gradientText,Q.gradient,n.gradients]),W=M=>Math.round(M),ne=t.preferredUnits==="metric"?"°C":"°F",ke=t.preferredUnits==="metric"?"km/h":"mph",xe=u||qt,me=xe.forecast.slice(t.hideTodayInForecast?1:0).slice(0,t.numberOfDays),ve=M=>{const{current:_}=xe;switch(M){case"temperature":return(0,e.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,e.jsxs)("span",{className:"text-4xl font-bold",style:{fontFamily:n.fonts.heading,fontSize:`${48*t.fontScale}px`},children:[W(_.temperature),ne]})});case"condition":return(0,e.jsx)("div",{className:"text-lg opacity-80 text-center",style:{fontSize:`${18*t.fontScale}px`},children:_.condition});case"humidity":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(Se,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Humidity: ",_.humidity,"%"]})]});case"wind":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(ze,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Wind: ",_.wind," ",ke]})]});case"feelsLike":return(0,e.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*t.fontScale}px`},children:["Feels like: ",W(_.feelsLike),ne]});case"uvIndex":return(0,e.jsxs)("div",{className:"text-sm text-center",style:{fontSize:`${14*t.fontScale}px`},children:["UV Index: ",_.uvIndex]});case"cloudCover":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(nt,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Cloud Cover: ",_.cloudCover,"%"]})]});case"pressure":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(Tt,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Pressure: ",_.pressure," hPa"]})]});case"visibility":return(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(lt,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Visibility: ",_.visibility," ",t.preferredUnits==="metric"?"km":"mi"]})]});case"sunrise":return _.sunrise?(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(rt,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Sunrise: ",_.sunrise]})]}):null;case"sunset":return _.sunset?(0,e.jsxs)("div",{className:"flex items-center justify-center gap-1 text-sm",style:{fontSize:`${14*t.fontScale}px`},children:[(0,e.jsx)(ot,{size:16*t.fontScale}),(0,e.jsxs)("span",{children:["Sunset: ",_.sunset]})]}):null;default:return null}},pe=()=>{switch(t.orientation){case"horizontal":return"flex-row items-start justify-center";case"compact":return"flex-col items-center max-w-sm mx-auto";case"wide":return"flex-row items-start justify-between w-full";default:return"flex-col items-center md:flex-row md:items-start md:justify-center"}},R=()=>{const{current:M}=xe;return(0,e.jsxs)("div",{className:"space-y-3 w-full",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between w-full gap-4 px-2",style:{minHeight:"60px"},children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,e.jsx)(Qe,{condition:M.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:40*t.fontScale,theme:n}),(0,e.jsxs)("span",{className:"text-3xl font-bold whitespace-nowrap",style:{fontFamily:n.fonts.heading,fontSize:`${36*t.fontScale}px`,textShadow:C,...$},children:[W(M.temperature),ne]})]}),(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 min-w-0 px-4",children:[(0,e.jsx)("h2",{className:"text-lg font-bold truncate max-w-full",style:{fontFamily:n.fonts.heading,fontSize:`${18*t.fontScale}px`,textShadow:C,...$},title:x,children:x}),(0,e.jsx)("span",{className:"text-sm opacity-80 truncate max-w-full",style:{fontSize:`${14*t.fontScale}px`},title:M.condition,children:M.condition})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0 flex-wrap",children:[(t.currentWeatherFields||[]).includes("feelsLike")&&(0,e.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:["Feels ",W(M.feelsLike),ne]}),(t.currentWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(Se,{size:13*t.fontScale}),M.humidity,"%"]}),(t.currentWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(ze,{size:13*t.fontScale}),M.wind," ",ke]}),(t.currentWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{className:"text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:["UV: ",M.uvIndex]}),(t.currentWeatherFields||[]).includes("cloudCover")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(nt,{size:13*t.fontScale}),M.cloudCover,"%"]}),(t.currentWeatherFields||[]).includes("pressure")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(Tt,{size:13*t.fontScale}),M.pressure," hPa"]}),(t.currentWeatherFields||[]).includes("visibility")&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(lt,{size:13*t.fontScale}),M.visibility," ",t.preferredUnits==="metric"?"km":"mi"]}),(t.currentWeatherFields||[]).includes("sunrise")&&M.sunrise&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(rt,{size:13*t.fontScale}),M.sunrise]}),(t.currentWeatherFields||[]).includes("sunset")&&M.sunset&&(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm opacity-80 whitespace-nowrap",style:{fontSize:`${13*t.fontScale}px`},children:[(0,e.jsx)(ot,{size:13*t.fontScale}),M.sunset]})]})]}),t.numberOfDays>0&&me.length>0&&(0,e.jsx)("div",{className:"border-t pt-3",style:{borderColor:w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:(0,e.jsx)("div",{className:"overflow-x-auto pb-2 px-2",children:(0,e.jsx)("div",{className:"flex gap-4",style:{minWidth:"min-content"},children:me.map((_,a)=>(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",style:{minWidth:"120px"},children:[(0,e.jsxs)("div",{className:"text-center",style:{minWidth:"45px"},children:[(0,e.jsx)("div",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*t.fontScale}px`},children:_.day}),(0,e.jsx)(Qe,{condition:_.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:20*t.fontScale,theme:n})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${14*t.fontScale}px`},children:[W(_.high),"°"]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("span",{className:"text-xs opacity-60",style:{fontSize:`${12*t.fontScale}px`},children:[W(_.low),"°"]})]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*t.fontScale}px`,maxWidth:"100px"},children:_.condition}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("precipitation")&&_.precipitation>0&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:10*t.fontScale}),_.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:10*t.fontScale}),_.wind]}),(t.dailyWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:10*t.fontScale}),_.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV: ",_.uvIndex]})]}),((t.dailyWeatherFields||[]).includes("sunrise")||(t.dailyWeatherFields||[]).includes("sunset"))&&(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("sunrise")&&_.sunrise&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(rt,{size:10*t.fontScale}),_.sunrise]}),(t.dailyWeatherFields||[]).includes("sunset")&&_.sunset&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ot,{size:10*t.fontScale}),_.sunset]})]})]})]},a))})})})]})},J=()=>{const{current:M}=xe;return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,e.jsx)(Qe,{condition:M.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:32*t.fontScale,theme:n}),(0,e.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,e.jsxs)("span",{className:"text-2xl font-bold whitespace-nowrap",style:{fontFamily:n.fonts.heading,fontSize:`${28*t.fontScale}px`,textShadow:C,...$},children:[W(M.temperature),ne]}),t.currentWeatherFields?.includes("feelsLike")&&(0,e.jsxs)("span",{className:"text-xs opacity-60 whitespace-nowrap",style:{fontSize:`${11*t.fontScale}px`},children:["(",W(M.feelsLike),ne,")"]})]}),t.currentWeatherFields?.includes("condition")&&(0,e.jsx)("span",{className:"text-xs opacity-70 truncate",style:{fontSize:`${11*t.fontScale}px`},title:M.condition,children:M.condition}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-1 text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.currentWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:10*t.fontScale}),M.humidity,"%"]}),(t.currentWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:10*t.fontScale}),M.wind]}),(t.currentWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV:",M.uvIndex]}),(t.currentWeatherFields||[]).includes("cloudCover")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(nt,{size:10*t.fontScale}),M.cloudCover,"%"]}),(t.currentWeatherFields||[]).includes("pressure")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Tt,{size:10*t.fontScale}),M.pressure]}),(t.currentWeatherFields||[]).includes("visibility")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(lt,{size:10*t.fontScale}),M.visibility]})]})]})]}),t.numberOfDays>0&&me.length>0&&(0,e.jsx)("div",{className:"flex gap-2 px-2 overflow-x-auto",children:me.slice(0,3).map((_,a)=>(0,e.jsxs)("div",{className:"flex flex-col items-center flex-shrink-0 p-1.5 rounded",style:{minWidth:"50px",backgroundColor:w?"rgba(248, 249, 255, 0.05)":"rgba(11, 14, 18, 0.03)"},children:[(0,e.jsx)("span",{className:"text-xs font-semibold opacity-60",style:{fontSize:`${10*t.fontScale}px`},children:_.day}),(0,e.jsx)(Qe,{condition:_.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:16*t.fontScale,theme:n}),(0,e.jsxs)("div",{className:"text-xs mt-0.5 space-y-0.5",style:{fontSize:`${11*t.fontScale}px`},children:[(0,e.jsxs)("div",{children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("span",{className:"font-bold",children:[W(_.high),"°"]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("span",{className:"opacity-60 ml-0.5",children:[W(_.low),"°"]})]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"opacity-70 truncate",style:{fontSize:`${9*t.fontScale}px`,maxWidth:"50px"},children:_.condition}),(0,e.jsxs)("div",{className:"flex flex-col gap-0.5 items-center opacity-70",style:{fontSize:`${9*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("precipitation")&&_.precipitation>0&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:8*t.fontScale}),_.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:8*t.fontScale}),_.wind]}),(t.dailyWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:8*t.fontScale}),_.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV:",_.uvIndex]})]})]})]},a))})]})},le=()=>{const{current:M}=xe,_=[{key:"feelsLike",label:"Feels Like",value:`${W(M.feelsLike)}${ne}`,icon:null},{key:"humidity",label:"Humidity",value:`${M.humidity}%`,icon:Se},{key:"wind",label:"Wind",value:`${M.wind} ${ke}`,icon:ze},{key:"uvIndex",label:"UV Index",value:M.uvIndex,icon:null},{key:"pressure",label:"Pressure",value:`${M.pressure} hPa`,icon:Tt},{key:"visibility",label:"Visibility",value:`${M.visibility} ${t.preferredUnits==="metric"?"km":"mi"}`,icon:lt},{key:"cloudCover",label:"Clouds",value:`${M.cloudCover}%`,icon:nt},{key:"sunrise",label:"Sunrise",value:M.sunrise,icon:rt},{key:"sunset",label:"Sunset",value:M.sunset,icon:ot}].filter(a=>(t.currentWeatherFields||[]).includes(a.key)&&a.value);return(0,e.jsxs)("div",{className:"w-full space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h2",{className:"text-xl font-bold truncate",style:{fontFamily:n.fonts.heading,fontSize:`${22*t.fontScale}px`,textShadow:C,...$},title:x,children:x}),t.useGeolocation&&(0,e.jsxs)("button",{onClick:()=>j(),className:"flex items-center gap-1 text-xs opacity-60 hover:opacity-100 transition-opacity mt-1",style:{fontSize:`${11*t.fontScale}px`},"aria-label":"Detect your current location",children:[(0,e.jsx)(_r,{size:10*t.fontScale,"aria-hidden":"true"}),"Update"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0 px-6",children:[(0,e.jsx)(Qe,{condition:M.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:56*t.fontScale,theme:n}),(0,e.jsxs)("span",{className:"text-5xl font-bold whitespace-nowrap",style:{fontFamily:n.fonts.heading,fontSize:`${52*t.fontScale}px`,textShadow:C,...$},children:[W(M.temperature),ne]})]}),(0,e.jsxs)("div",{className:"flex-1 min-w-0 text-right",children:[(0,e.jsx)("div",{className:"text-lg opacity-90 truncate",style:{fontSize:`${18*t.fontScale}px`},title:M.condition,children:M.condition}),me[0]&&(0,e.jsxs)("div",{className:"text-sm opacity-70",style:{fontSize:`${14*t.fontScale}px`},children:["H: ",W(me[0].high),ne," / L: ",W(me[0].low),ne]})]})]}),_.length>0&&(0,e.jsx)("div",{className:"grid gap-4 py-3 border-t border-b",style:{gridTemplateColumns:_.length<=5?`repeat(${_.length}, 1fr)`:"repeat(auto-fit, minmax(120px, 1fr))",borderColor:w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"},children:_.map(a=>(0,e.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,e.jsx)("span",{className:"text-xs opacity-60 uppercase tracking-wider mb-1",style:{fontSize:`${10*t.fontScale}px`},children:a.label}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[a.icon&&(0,e.jsx)(a.icon,{size:14*t.fontScale,className:"opacity-70"}),(0,e.jsx)("span",{className:"font-semibold",style:{fontSize:`${14*t.fontScale}px`},children:a.value})]})]},a.key))}),t.numberOfDays>0&&me.length>0&&(0,e.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,e.jsx)("div",{className:"flex gap-3",style:{minWidth:"min-content"},children:me.slice(0,7).map((a,S)=>(0,e.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center p-3 rounded-lg",style:{minWidth:"70px",backgroundColor:w?"rgba(248, 249, 255, 0.08)":"rgba(11, 14, 18, 0.04)"},children:[(0,e.jsx)("span",{className:"text-xs font-semibold opacity-70 mb-1",style:{fontSize:`${11*t.fontScale}px`},children:a.day}),(0,e.jsx)(Qe,{condition:a.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:20*t.fontScale,theme:n}),(0,e.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,e.jsxs)("div",{className:"text-center",children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("span",{className:"text-sm font-bold",style:{fontSize:`${13*t.fontScale}px`},children:[W(a.high),"°"]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("span",{className:"text-xs opacity-60 ml-1",style:{fontSize:`${11*t.fontScale}px`},children:[W(a.low),"°"]})]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"text-xs opacity-70 text-center truncate",style:{fontSize:`${10*t.fontScale}px`},children:a.condition}),(0,e.jsxs)("div",{className:"flex flex-col items-center gap-0.5 text-xs opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("precipitation")&&a.precipitation>0&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:10*t.fontScale}),a.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ze,{size:10*t.fontScale}),a.wind]}),(t.dailyWeatherFields||[]).includes("humidity")&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(Se,{size:10*t.fontScale}),a.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&(0,e.jsxs)("div",{children:["UV: ",a.uvIndex]})]}),((t.dailyWeatherFields||[]).includes("sunrise")||(t.dailyWeatherFields||[]).includes("sunset"))&&(0,e.jsxs)("div",{className:"flex items-center gap-2 justify-center text-xs opacity-70",style:{fontSize:`${9*t.fontScale}px`},children:[(t.dailyWeatherFields||[]).includes("sunrise")&&a.sunrise&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(rt,{size:9*t.fontScale}),a.sunrise]}),(t.dailyWeatherFields||[]).includes("sunset")&&a.sunset&&(0,e.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,e.jsx)(ot,{size:9*t.fontScale}),a.sunset]})]})]})]},S))})})]})},be=()=>{switch(t.orientation){case"horizontal":return"auto-cols-fr grid-flow-col";case"compact":return"grid-cols-2 sm:grid-cols-3";case"wide":return"auto-cols-fr grid-flow-col";default:return"grid-cols-3 md:grid-cols-5"}},Ve=()=>{const M=Math.min(t.numberOfDays||5,10);switch(t.orientation){case"horizontal":case"wide":return{gridTemplateColumns:`repeat(${M}, minmax(0, 1fr))`};default:return{}}},Ue=(0,h.useMemo)(()=>{const M={};return typeof D=="string"&&D.includes("gradient")?H?M.backgroundImage=`${H}, ${D}`:M.backgroundImage=D:(M.backgroundColor=D,H&&(M.backgroundImage=H)),M.backgroundSize=t.backgroundTexture==="dots"||t.backgroundTexture==="grid"?"20px 20px":"auto",M},[D,H,t.backgroundTexture]),Le=()=>(0,e.jsxs)("div",{className:`flex gap-6 ${pe()}`,children:[(0,e.jsxs)("div",{className:`text-center ${t.orientation==="wide"?"flex-shrink-0 min-w-[200px]":t.orientation==="compact"?"w-full":"flex-shrink-0"}`,children:[(0,e.jsxs)("div",{className:"flex flex-col items-center gap-3 mb-4",children:[(0,e.jsx)(Qe,{condition:xe.current.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:48*t.fontScale,theme:n}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:n.fonts.heading,textShadow:C,fontSize:`${20*t.fontScale}px`,...$},children:x}),t.useGeolocation&&(0,e.jsxs)("button",{onClick:()=>j(),className:"flex items-center justify-center gap-1 text-xs opacity-70 hover:opacity-100 transition-opacity mt-1 mx-auto",style:{fontSize:`${12*t.fontScale}px`},"aria-label":"Detect your current location",children:[(0,e.jsx)(_r,{size:12*t.fontScale,"aria-hidden":"true"}),"Detect Location"]})]})]}),(0,e.jsx)("div",{className:"space-y-2",style:{textShadow:C},children:(t.currentWeatherFields||[]).slice(0,6).map((M,_)=>(0,e.jsx)("div",{children:ve(M)},_))})]}),(0,e.jsxs)("div",{className:`text-center ${t.orientation==="compact"?"w-full mt-4":"flex-1"}`,role:"region","aria-label":"Weather forecast",children:[(0,e.jsxs)("h3",{className:"text-sm font-semibold uppercase tracking-wider opacity-70 mb-3",style:{textShadow:C,fontSize:`${14*t.fontScale}px`},children:[t.numberOfDays,"-Day Forecast"]}),(0,e.jsx)("div",{className:`grid gap-3 ${be()} justify-items-center`,style:Ve(),children:me.map((M,_)=>(0,e.jsxs)("div",{className:`p-3 rounded-lg ${t.visuallyGroupForecast?"bg-opacity-10 bg-current":""}`,style:{textAlign:"center",textShadow:C,...t.visuallyGroupForecast&&{backgroundColor:w?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"}},children:[(0,e.jsxs)("div",{className:"text-xs font-semibold mb-2 opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:[M.day,t.displayDates&&M.date&&(0,e.jsx)("div",{className:"text-xs opacity-50",style:{fontSize:`${10*t.fontScale}px`},children:M.date})]}),(0,e.jsx)(Qe,{condition:M.icon,animate:t.animateIcons,greyscale:t.greyscaleIcons,size:24*t.fontScale,theme:n}),(0,e.jsxs)("div",{className:"mt-2 space-y-1",children:[(t.dailyWeatherFields||[]).includes("high")&&(0,e.jsxs)("div",{className:"text-sm font-bold",style:{fontSize:`${14*t.fontScale}px`},children:[W(M.high),ne]}),(t.dailyWeatherFields||[]).includes("low")&&(0,e.jsxs)("div",{className:"text-xs opacity-60",style:{fontSize:`${12*t.fontScale}px`},children:[W(M.low),ne]}),(t.dailyWeatherFields||[]).includes("condition")&&(0,e.jsx)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:M.condition}),(t.dailyWeatherFields||[]).includes("precipitation")&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1",style:{fontSize:`${12*t.fontScale}px`},children:[(0,e.jsx)(Se,{size:10*t.fontScale,"aria-hidden":"true"}),M.precipitation,"%"]}),(t.dailyWeatherFields||[]).includes("wind")&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:[(0,e.jsx)(ze,{size:10*t.fontScale,"aria-hidden":"true"}),M.wind," ",ke]}),(t.dailyWeatherFields||[]).includes("uvIndex")&&M.uvIndex!==void 0&&(0,e.jsxs)("div",{className:"text-xs opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:["UV: ",M.uvIndex]}),(t.dailyWeatherFields||[]).includes("humidity")&&M.humidity!==void 0&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${12*t.fontScale}px`},children:[(0,e.jsx)(Se,{size:10*t.fontScale,"aria-hidden":"true"}),M.humidity,"%"]}),(t.dailyWeatherFields||[]).includes("sunrise")&&M.sunrise&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(0,e.jsx)(rt,{size:10*t.fontScale,"aria-hidden":"true"}),M.sunrise]}),(t.dailyWeatherFields||[]).includes("sunset")&&M.sunset&&(0,e.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 opacity-70",style:{fontSize:`${10*t.fontScale}px`},children:[(0,e.jsx)(ot,{size:10*t.fontScale,"aria-hidden":"true"}),M.sunset]})]})]},_))})]})]}),Be=()=>{switch(console.log("[WeatherWidget] orientation:",t.orientation),t.orientation){case"horizontal":return R();case"compact":return J();case"wide":return le();default:return Le()}},ut=()=>{switch(t.orientation){case"horizontal":return"p-3";case"compact":return"p-2";case"wide":return"p-5";default:return"p-6"}},De={small:.85,medium:1,large:1.15,xlarge:1.3}[t.widgetSize]||1;return(0,e.jsx)("div",{className:`h-full w-full ${ut()}`,style:{...Ue,color:T,fontFamily:f,textAlign:t.orientation==="horizontal"||t.orientation==="compact"?"left":t.textAlign,boxShadow:Z,transform:`scale(${De})`,transformOrigin:"top left",...B},role:"region","aria-label":"Weather widget",children:s?(0,e.jsx)($a,{orientation:t.orientation}):(0,e.jsxs)(e.Fragment,{children:[l&&(0,e.jsxs)("div",{className:`${t.orientation==="compact"?"mb-2 p-2 text-xs":"mb-4 p-3 text-sm"} bg-yellow-100 text-yellow-800 rounded-lg`,role:"alert","aria-live":"polite",children:[(0,e.jsx)(_t,{size:t.orientation==="compact"?12:16,className:"inline mr-2","aria-hidden":"true"}),t.orientation==="compact"?"Location error":l]}),t.orientation!=="compact"&&t.showSevereAlerts&&u?.alerts&&u.alerts.length>0&&(0,e.jsx)("div",{className:"mb-4",children:u.alerts.slice(0,t.orientation==="horizontal"?1:2).map((M,_)=>(0,e.jsx)(Ya,{alert:M},_))}),Be(),d&&(0,e.jsxs)("div",{className:`mt-4 ${t.orientation==="compact"?"p-2 text-xs":"p-3 text-sm"} bg-red-100 text-red-800 rounded-lg flex items-center justify-between`,role:"alert","aria-live":"assertive",children:[(0,e.jsx)("span",{children:t.orientation==="compact"?"Error":d}),(0,e.jsx)("button",{onClick:()=>{t.useGeolocation?j():y(x)},className:`ml-3 ${t.orientation==="compact"?"px-2 py-0.5":"px-3 py-1"} bg-red-200 hover:bg-red-300 rounded text-red-800 text-xs font-medium transition-colors`,"aria-label":"Retry fetching weather data",children:"Retry"})]}),t.orientation!=="compact"&&t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:n.colors.cosmicBlue,color:n.colors.stardustWhite,fontFamily:n.fonts.heading,fontSize:`${14*t.fontScale}px`},"aria-label":"Customize weather widget settings",onClick:()=>o?.("appearance"),children:"Customize"})]})})};no.propTypes={config:re.default.shape({weatherLocation:re.default.string,useGeolocation:re.default.bool,preferredUnits:re.default.oneOf(["metric","imperial"]),numberOfDays:re.default.number,displayDates:re.default.bool,hideTodayInForecast:re.default.bool,currentWeatherFields:re.default.arrayOf(re.default.string),dailyWeatherFields:re.default.arrayOf(re.default.string),showSevereAlerts:re.default.bool,showCustomizeButton:re.default.bool,appearanceMode:re.default.oneOf(["light","dark","system"]),textColorLight:re.default.string,textColorDark:re.default.string,textFontFamily:re.default.oneOf(["sans","serif","mono"]),googleFont:re.default.string,fontScale:re.default.number,textAlign:re.default.oneOf(["left","center","right"]),textShadows:re.default.bool,gradientText:re.default.bool,glowEffect:re.default.bool,animateIcons:re.default.bool,greyscaleIcons:re.default.bool,useTransparentBackground:re.default.bool,setBackgroundColor:re.default.bool,backgroundColor:re.default.string,backgroundTexture:re.default.oneOf(["none","noise","stars","dots","grid","waves"]),presetTheme:re.default.oneOf(["none","cyberpunk","stealth","ocean","sunset","forest","neon","midnight"]),orientation:re.default.oneOf(["auto","horizontal","compact","wide"]),visuallyGroupForecast:re.default.bool}).isRequired,onCustomizeRequest:re.default.func};var V=Y,Ja=6e5,Qa=1,Za=14,Ka=5,lo=.5,io=2,co=1,Xa=100,Va=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])},es=t=>typeof t!="string"?"New York, NY":t.replace(/[^a-zA-Z0-9\s,.\-']/g,"").replace(/'/g,"\\'").trim().slice(0,Xa)||"New York, NY",ts={sunny:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',clear:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>',cloudy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',clouds:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rainy:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',rain:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 13v8m-8-5v8m4-11v8"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',"partly-cloudy":'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2m6.4 1.4l-1.4 1.4M20 12h2M6 18H4m9.4 3.6L12 20m6.4-11.6L20 6.6"/><circle cx="12" cy="12" r="4"/><path d="M13 19a2 2 0 0 0 0-4H3a4 4 0 1 0 0 8h10Z"/></svg>',drizzle:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 19v1m8-1v1m-4-1v1m-4-5v1m8-1v1m-4-1v1"/><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>',snow:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"/><path d="M8 16h.01M8 12h.01M12 16h.01M12 12h.01M16 16h.01M16 12h.01"/></svg>',thunderstorm:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"/><path d="m13 11-4 6h6l-4 6"/></svg>',mist:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',fog:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',haze:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9"/></svg>',smoke:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 17H7m10 4H9m-2-8h10"/></svg>',dust:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',sand:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"/><path d="M9.6 4.6A2 2 0 1 1 11 8H2"/><path d="M12.6 19.4A2 2 0 1 0 14 16H2"/></svg>',tornado:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H3m15 4H6m11 4H9m7 4h-7m5 4h-3"/></svg>'};const rs=t=>{const o=t.appearanceMode==="dark",r=o?t.textColorDark:t.textColorLight,n=()=>{if(t.googleFont!=="none")return`"${t.googleFont.replace(/\+/g," ")}", system-ui, sans-serif`;switch(t.textFontFamily){case"serif":return"Georgia, serif";case"mono":return"ui-monospace, monospace";default:return V.fonts.body}},u=()=>t.backgroundTexture==="none"?"":{noise:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23n)" opacity="0.05"/%3E%3C/svg%3E',stars:"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent), radial-gradient(1px 1px at 130px 80px, white, transparent), radial-gradient(2px 2px at 90px 10px, white, transparent)",dots:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",grid:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",waves:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 20px)"}[t.backgroundTexture]||"",s=t.presetTheme==="none"?{}:{cyberpunk:{gradient:`linear-gradient(135deg, ${V.colors.neonPink}, ${V.colors.electricPurple})`,glow:"0 0 20px rgba(236, 72, 153, 0.5)"},stealth:{gradient:`linear-gradient(135deg, ${V.colors.graphite}, ${V.colors.nightBlack})`,glow:"none"},ocean:{gradient:`linear-gradient(135deg, ${V.colors.aetherTeal}, ${V.colors.cosmicBlue})`,glow:"0 0 15px rgba(6, 182, 212, 0.4)"},sunset:{gradient:`linear-gradient(135deg, ${V.colors.sunburstGold}, ${V.colors.neonPink})`,glow:"0 0 20px rgba(245, 158, 11, 0.5)"},forest:{gradient:"linear-gradient(135deg, #10b981, #059669)",glow:"0 0 15px rgba(16, 185, 129, 0.4)"},neon:{gradient:`linear-gradient(90deg, ${V.colors.neonPink} 0%, ${V.colors.sunburstGold} 28%, ${V.colors.aetherTeal} 50%, ${V.colors.cosmicBlue} 74%, ${V.colors.electricPurple} 100%)`,glow:"0 0 4px rgba(139, 92, 246, 0.5)"},midnight:{gradient:`linear-gradient(135deg, ${V.colors.nightBlack}, ${V.colors.ultraviolet})`,glow:"0 0 10px rgba(167, 139, 250, 0.3)"}}[t.presetTheme]||{},d=((j="clear")=>t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:t.presetTheme!=="none"&&s.gradient?s.gradient:{clear:`linear-gradient(135deg, ${V.colors.sunburstGold} 0%, ${V.colors.cosmicBlue} 100%)`,sunny:`linear-gradient(135deg, ${V.colors.sunburstGold} 0%, ${V.colors.cosmicBlue} 100%)`,clouds:`linear-gradient(135deg, ${V.colors.softSlate} 0%, ${V.colors.graphite} 100%)`,rain:`linear-gradient(135deg, ${V.colors.cosmicBlue} 0%, ${V.colors.graphite} 100%)`,thunderstorm:`linear-gradient(135deg, ${V.colors.electricPurple} 0%, ${V.colors.nightBlack} 100%)`,snow:`linear-gradient(135deg, ${V.colors.stardustWhite} 0%, ${V.colors.cosmicBlue} 100%)`}[j]||(o?V.colors.nightBlack:V.colors.stardustWhite))(),g=u(),l=t.backgroundTexture==="dots"||t.backgroundTexture==="grid"?"20px 20px":"auto",p=t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none",x=t.glowEffect?s.glow||"0 0 4px rgba(139, 92, 246, 0.5)":"none",k=t.gradientText?`
    background: ${s.gradient||`linear-gradient(90deg, ${V.colors.neonPink} 0%, ${V.colors.sunburstGold} 28%, ${V.colors.aetherTeal} 50%, ${V.colors.cosmicBlue} 74%, ${V.colors.electricPurple} 100%)`};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  `:"",F=n(),N=t.textAlign||"center",y=Math.max(lo,Math.min(io,t.fontScale||co)),v=t.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${t.googleFont}&display=swap`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Widget - ${Va(t.weatherLocation)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  ${v?`<link href="${v}" rel="stylesheet">`:""}
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${d};
      ${g?`background-image: ${g};`:""}
      ${g?`background-size: ${l};`:""}
      color: ${r};
      font-family: ${F};
      text-align: ${N};
      padding: 24px;
      ${x!=="none"?`box-shadow: ${x};`:""}
      ${t.useTransparentBackground?`
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      `:""}
    }

    h2 {
      ${k}
    }

    .weather-container {
      ${t.useTransparentBackground?`
        background: ${o?"rgba(11, 14, 18, 0.7)":"rgba(248, 249, 255, 0.7)"};
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.1)"};
        padding: 24px;
      `:""}
      display: flex;
      gap: 24px;
      ${t.orientation==="horizontal"?"flex-direction: row;":"flex-direction: column;"}
    }

    .loading-skeleton {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .skeleton-circle {
      width: ${48*y}px;
      height: ${48*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 50%;
    }

    .skeleton-line {
      height: ${16*y}px;
      background: rgba(156, 163, 175, 0.3);
      border-radius: 4px;
      margin: 8px 0;
    }

    .alert-banner {
      display: flex;
      align-items: start;
      gap: 12px;
      padding: 16px;
      margin-bottom: 16px;
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #EF4444;
      border-radius: 8px;
      color: #DC2626;
    }

    .alert-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .current-weather {
      flex-shrink: 0;
    }

    .location-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .location-title {
      font-size: ${20*y}px;
      font-weight: bold;
      font-family: ${V.fonts.heading};
      text-shadow: ${p};
    }

    .current-temp {
      font-size: ${48*y}px;
      font-weight: bold;
      font-family: ${V.fonts.heading};
      text-shadow: ${p};
    }

    .current-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
      text-shadow: ${p};
      font-size: ${14*y}px;
    }

    .forecast-section {
      flex: 1;
    }

    .forecast-title {
      font-size: ${14*y}px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.7;
      margin-bottom: 12px;
      text-shadow: ${p};
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(${80*y}px, 1fr));
      gap: 12px;
    }

    .forecast-day {
      text-align: center;
      padding: 12px;
      border-radius: 8px;
      ${t.visuallyGroupForecast?`background: ${o?"rgba(248, 249, 255, 0.1)":"rgba(11, 14, 18, 0.05)"};`:""}
    }

    .day-name {
      font-size: ${12*y}px;
      font-weight: 600;
      opacity: 0.7;
      margin-bottom: 8px;
    }

    .day-date {
      font-size: ${10*y}px;
      opacity: 0.5;
    }

    .day-temp {
      font-size: ${14*y}px;
      font-weight: bold;
      margin-top: 8px;
    }

    .day-low {
      font-size: ${12*y}px;
      opacity: 0.6;
    }

    .day-condition {
      font-size: ${12*y}px;
      opacity: 0.7;
      margin-top: 4px;
    }

    .customize-button {
      position: absolute;
      bottom: 16px;
      right: 16px;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: ${14*y}px;
      font-weight: 500;
      background-color: ${V.colors.cosmicBlue};
      color: ${V.colors.stardustWhite};
      font-family: ${V.fonts.heading};
      border: none;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .customize-button:hover {
      transform: scale(1.05);
    }

    .weather-icon {
      display: inline-block;
      ${t.greyscaleIcons?"filter: grayscale(100%);":""}
      ${t.animateIcons?"animation: pulse-icon 2s infinite;":""}
    }

    @keyframes pulse-icon {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @media (prefers-color-scheme: dark) {
      ${t.appearanceMode==="system"?`
        body {
          background: ${t.useTransparentBackground?"transparent":t.setBackgroundColor?t.backgroundColor:V.colors.nightBlack};
          color: ${t.textColorDark};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="weather-root">
    <div class="loading-skeleton">
      <div class="skeleton-circle"></div>
      <div class="skeleton-line" style="width: 200px;"></div>
      <div class="skeleton-line" style="width: 150px;"></div>
      <div class="skeleton-line" style="width: 180px;"></div>
    </div>
  </div>

  ${t.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${uo(t)}
  <\/script>
</body>
</html>`},uo=t=>{const o=es(t.weatherLocation||"New York, NY"),r=t.preferredUnits==="metric"?"celsius":"fahrenheit",n=t.preferredUnits==="metric"?"kmh":"mph",u=t.preferredUnits==="metric"?"mm":"inch",c=t.preferredUnits==="metric"?"°C":"°F",s=t.preferredUnits==="metric"?"km/h":"mph",m=Math.max(lo,Math.min(io,t.fontScale||co)),d=Math.max(Qa,Math.min(Za,t.numberOfDays||Ka));return`
    const LOCATION = '${o}';
    const TEMP_UNIT_API = '${r}';
    const WIND_UNIT_API = '${n}';
    const PRECIP_UNIT_API = '${u}';
    const TEMP_UNIT = '${c}';
    const WIND_UNIT = '${s}';
    const FONT_SCALE = ${m};
    const SHOW_SEVERE_ALERTS = ${t.showSevereAlerts||!1};
    const DISPLAY_DATES = ${t.displayDates||!1};
    const CURRENT_FIELDS = ${JSON.stringify(t.currentWeatherFields||[])};
    const DAILY_FIELDS = ${JSON.stringify(t.dailyWeatherFields||[])};
    const NUM_DAYS = ${d};
    const HIDE_TODAY = ${t.hideTodayInForecast||!1};
    const REFRESH_INTERVAL_MS = ${Ja};

    const weatherIcons = ${JSON.stringify(ts)};

    function getWeatherIcon(condition) {
      const conditionLower = condition.toLowerCase();
      return weatherIcons[conditionLower] || weatherIcons['partly-cloudy'];
    }

    function getConditionFromWMO(code) {
      if (code === 0) return 'Clear';
      if (code <= 3) return 'Partly Cloudy';
      if (code <= 48) return 'Fog';
      if (code <= 67) return 'Rain';
      if (code <= 77) return 'Snow';
      if (code <= 82) return 'Rain';
      if (code <= 86) return 'Snow';
      if (code <= 99) return 'Thunderstorm';
      return 'Cloudy';
    }

    function getIconFromWMO(code) {
      if (code === 0) return 'clear';
      if (code <= 3) return 'partly-cloudy';
      if (code <= 48) return 'fog';
      if (code <= 57) return 'drizzle';
      if (code <= 67) return 'rain';
      if (code <= 77) return 'snow';
      if (code <= 82) return 'rain';
      if (code <= 86) return 'snow';
      if (code >= 95) return 'thunderstorm';
      return 'clouds';
    }

    function renderErrorState(message) {
      const errorIcon = '<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6m0-6 6 6"/></svg>';
      const html = \`
        <div class="weather-container" style="text-align: center; padding: 32px;">
          <div style="opacity: 0.6; margin-bottom: 16px;">\${errorIcon}</div>
          <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Unable to Load Weather</h3>
          <p style="font-size: 14px; opacity: 0.7; margin-bottom: 16px;">\${message}</p>
          <button onclick="fetchWeatherData()" style="padding: 8px 16px; border-radius: 8px; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.4); color: inherit; cursor: pointer; font-size: 14px;">
            Try Again
          </button>
        </div>
      \`;
      document.getElementById('weather-root').innerHTML = html;
    }

    async function fetchWeatherData() {
      try {
        // Note: Open-Meteo API has rate limits. Consider caching responses for production use.
        // Geocode the location using Open-Meteo
        const geoResponse = await fetch(
          \`https://geocoding-api.open-meteo.com/v1/search?name=\${encodeURIComponent(LOCATION)}&count=1&language=en&format=json\`
        );
        
        if (!geoResponse.ok) {
          throw new Error('Unable to find location. Please check the location name.');
        }
        
        const geoData = await geoResponse.json();
        if (!geoData.results || geoData.results.length === 0) {
          throw new Error('Location not found. Please try a different city name.');
        }

        const { latitude, longitude } = geoData.results[0];

        // Fetch weather data using Open-Meteo Weather API
        const weatherResponse = await fetch(
          \`https://api.open-meteo.com/v1/forecast?latitude=\${latitude}&longitude=\${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max,wind_speed_10m_max&temperature_unit=\${TEMP_UNIT_API}&wind_speed_unit=\${WIND_UNIT_API}&precipitation_unit=\${PRECIP_UNIT_API}&timezone=auto\`
        );

        if (!weatherResponse.ok) {
          throw new Error('Weather service temporarily unavailable. Please try again later.');
        }

        const data = await weatherResponse.json();

        renderWeatherData(data);
      } catch (err) {
        console.error('Weather fetch error:', err);
        renderErrorState(err.message || 'Could not load weather data. Please try again.');
      }
    }

    function renderWeatherData(data) {
      const current = data.current;
      const dailyData = data.daily;
      const startIdx = HIDE_TODAY ? 1 : 0;
      const forecast = dailyData.time.slice(startIdx, startIdx + NUM_DAYS);

      let html = '<div class="weather-container">';

      // Current weather
      html += '<div class="current-weather">';
      html += \`
        <div class="location-header">
          <div class="weather-icon">\${getWeatherIcon(getIconFromWMO(current.weather_code))}</div>
          <h2 class="location-title">\${LOCATION}</h2>
        </div>
        <div class="current-temp">\${Math.round(current.temperature_2m)}\${TEMP_UNIT}</div>
        <div class="current-details">
      \`;

      if (CURRENT_FIELDS.includes('condition')) {
        html += \`<div>\${getConditionFromWMO(current.weather_code)}</div>\`;
      }
      if (CURRENT_FIELDS.includes('humidity')) {
        html += \`<div>Humidity: \${Math.round(current.relative_humidity_2m)}%</div>\`;
      }
      if (CURRENT_FIELDS.includes('wind')) {
        html += \`<div>Wind: \${Math.round(current.wind_speed_10m)} \${WIND_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('feelsLike')) {
        html += \`<div>Feels like: \${Math.round(current.apparent_temperature)}\${TEMP_UNIT}</div>\`;
      }
      if (CURRENT_FIELDS.includes('uvIndex')) {
        html += \`<div>UV Index: N/A</div>\`;
      }

      html += '</div></div>';

      // Forecast
      html += '<div class="forecast-section">';
      html += \`<h3 class="forecast-title">\${NUM_DAYS}-Day Forecast</h3>\`;
      html += '<div class="forecast-grid">';

      forecast.forEach((dateStr, idx) => {
        const actualIdx = startIdx + idx;
        const date = new Date(dateStr);
        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
        const dateDisplay = DISPLAY_DATES ? date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : '';

        html += '<div class="forecast-day">';
        html += \`<div class="day-name">\${dayName}\`;
        if (DISPLAY_DATES && dateDisplay) {
          html += \`<div class="day-date">\${dateDisplay}</div>\`;
        }
        html += '</div>';
        html += \`<div class="weather-icon">\${getWeatherIcon(getIconFromWMO(dailyData.weather_code[actualIdx]))}</div>\`;

        if (DAILY_FIELDS.includes('high')) {
          html += \`<div class="day-temp">\${Math.round(dailyData.temperature_2m_max[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('low')) {
          html += \`<div class="day-low">\${Math.round(dailyData.temperature_2m_min[actualIdx])}\${TEMP_UNIT}</div>\`;
        }
        if (DAILY_FIELDS.includes('condition')) {
          html += \`<div class="day-condition">\${getConditionFromWMO(dailyData.weather_code[actualIdx])}</div>\`;
        }
        if (DAILY_FIELDS.includes('precipitation') && dailyData.precipitation_probability_max[actualIdx] > 0) {
          html += \`<div class="day-condition">\${Math.round(dailyData.precipitation_probability_max[actualIdx])}%</div>\`;
        }

        html += '</div>';
      });

      html += '</div></div></div>';

      document.getElementById('weather-root').innerHTML = html;
    }

    // Initial load
    fetchWeatherData();

    // Refresh at configured interval
    setInterval(fetchWeatherData, REFRESH_INTERVAL_MS);
  `},os={id:"clock",label:"Clock",description:"Advanced customizable clock with multiple styles.",defaultConfig:{is12Hour:!0,showDate:!0,showSeconds:!1,timezone:"local",blinkingSeparator:!1,dateFormat:"long",clockSize:"large",clockType:"digital-solid",responsiveSizing:!1,handShape:"classic",faceMarkers:"dots",digitFontFamily:"default",textFontFamily:"default",googleFont:"none",textAlign:"center",textShadows:!1,useTransparentBg:!1,bgColor:Y.colors.stardustWhite,backgroundTexture:"none",widgetMode:"clock",presetTheme:"none",appearance:"system",lightMode:{clockColor:Y.colors.graphite,digitColor:Y.colors.stardustWhite,textColor:Y.colors.graphite,backgroundColor:Y.colors.stardustWhite},darkMode:{clockColor:Y.colors.ultraviolet,digitColor:Y.colors.stardustWhite,textColor:Y.colors.stardustWhite,backgroundColor:Y.colors.nightBlack},showHoverMenu:!1,showCustomizeButton:!1,glowEffect:!1,gradientText:!1},fields:[{name:"is12Hour",label:"12-Hour Format",type:"boolean",section:"time"},{name:"showDate",label:"Show Date",type:"boolean",section:"time"},{name:"showSeconds",label:"Show Seconds",type:"boolean",section:"time"},{name:"timezone",label:"Timezone",type:"select",section:"time",options:[{label:"Local (System)",value:"local"},{label:"UTC",value:"UTC"},{label:"Eastern (New York)",value:"America/New_York"},{label:"Central (Chicago)",value:"America/Chicago"},{label:"Mountain (Denver)",value:"America/Denver"},{label:"Pacific (Los Angeles)",value:"America/Los_Angeles"},{label:"London",value:"Europe/London"},{label:"Paris",value:"Europe/Paris"},{label:"Berlin",value:"Europe/Berlin"},{label:"Tokyo",value:"Asia/Tokyo"},{label:"Hong Kong",value:"Asia/Hong_Kong"},{label:"Sydney",value:"Australia/Sydney"},{label:"Dubai",value:"Asia/Dubai"},{label:"Mumbai",value:"Asia/Kolkata"}]},{name:"blinkingSeparator",label:"Blinking Separator (:)",type:"boolean",section:"time"},{name:"dateFormat",label:"Date Format",type:"select",section:"time",options:[{label:"Long (Monday, January 1, 2025)",value:"long"},{label:"Short (Mon, Jan 1, 2025)",value:"short"},{label:"Numeric (01/01/2025)",value:"numeric"},{label:"European (01.01.2025)",value:"european"},{label:"ISO (2025-01-01)",value:"iso"}]},{name:"clockSize",label:"Clock Size",type:"select",section:"style",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"X-Large",value:"xlarge"}]},{name:"clockType",label:"Clock Type",type:"select",section:"style",options:[{label:"Digital Solid",value:"digital-solid"},{label:"Digital Roulette",value:"digital-roulette"},{label:"Flip Clock",value:"flip-clock"},{label:"Analog Smooth",value:"analog-smooth"},{label:"Analog Tick",value:"analog-tick"},{label:"Analog Trail",value:"analog-trail"},{label:"Analog Dots",value:"analog-dots"},{label:"Analog Numbers",value:"analog-numbers"},{label:"Analog Planets",value:"analog-planets"}]},{name:"responsiveSizing",label:"Responsive Sizing (Container Queries)",type:"boolean",section:"style"},{name:"handShape",label:"Hand Shape (Analog Only)",type:"select",section:"analog",options:[{label:"Classic",value:"classic"},{label:"Arrow",value:"arrow"},{label:"Modern",value:"modern"},{label:"Minimalist",value:"minimalist"}]},{name:"faceMarkers",label:"Face Markers (Analog Only)",type:"select",section:"analog",options:[{label:"Dots",value:"dots"},{label:"Numbers",value:"numbers"},{label:"Roman Numerals",value:"roman"},{label:"Lines",value:"lines"},{label:"None",value:"none"}]},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"typography",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"googleFont",label:"Google Font Style",type:"select",section:"typography",options:[{label:"None (Default)",value:"none"},{label:"Orbitron (Futuristic)",value:"Orbitron"},{label:"Righteous (Retro)",value:"Righteous"},{label:"Caveat (Handwritten)",value:"Caveat"},{label:"Permanent Marker (Bold)",value:"Permanent+Marker"},{label:"Monoton (Art Deco)",value:"Monoton"},{label:"Press Start 2P (Pixel)",value:"Press+Start+2P"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"backgroundTexture",label:"Background Texture",type:"select",section:"background",options:[{label:"None",value:"none"},{label:"Noise",value:"noise"},{label:"Stars",value:"stars"},{label:"Dots Pattern",value:"dots"},{label:"Grid",value:"grid"},{label:"Waves",value:"waves"}]},{name:"widgetMode",label:"Widget Mode",type:"select",section:"interactive",options:[{label:"Clock",value:"clock"},{label:"Timer",value:"timer"},{label:"Stopwatch",value:"stopwatch"}]},{name:"presetTheme",label:"Preset Theme",type:"select",section:"theme",options:[{label:"None (Custom)",value:"none"},{label:"Cyberpunk",value:"cyberpunk"},{label:"Stealth",value:"stealth"},{label:"Ocean",value:"ocean"},{label:"Sunset",value:"sunset"},{label:"Forest",value:"forest"},{label:"Neon",value:"neon"},{label:"Midnight",value:"midnight"}]},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"},{name:"glowEffect",label:"Neon Glow Effect",type:"boolean",section:"effects"},{name:"gradientText",label:"Gradient Text",type:"boolean",section:"effects"}]};var as=t=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},Mr=t=>{const o=as(t);if(!o)return 0;const[r,n,u]=[o.r,o.g,o.b].map(c=>(c=c/255,c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)));return .2126*r+.7152*n+.0722*u},ss=t=>[...t].sort((o,r)=>Mr(o)-Mr(r));const po=t=>{if(!t||!t.palette||t.palette.length<8)return[];const{palette:o,primary:r,accent:n}=t,u=ss(o),c=u[0],s=u[u.length-1],m=u.slice(2,6),d=[];return d.push({id:"brand-monochrome",name:"Brand Monochrome",description:"Bold monochromatic using your primary brand color",backgroundColor:c,clockColor:r,digitColor:s,textColor:s,texture:"none",glow:!0,category:"brand"}),d.push({id:"brand-contrast",name:"Brand Contrast",description:"High contrast complementary colors",backgroundColor:u[0],clockColor:u[u.length-2],digitColor:u[0],textColor:u[u.length-1],texture:"grid",glow:!1,category:"brand"}),d.push({id:"brand-vibrant",name:"Brand Vibrant",description:"Energetic and colorful",backgroundColor:m[0]||u[2],clockColor:o[1],digitColor:s,textColor:o[2],texture:"dots",glow:!0,category:"brand"}),d.push({id:"brand-professional",name:"Brand Professional",description:"Sophisticated and subtle",backgroundColor:m[2]||u[4],clockColor:m[1]||u[3],digitColor:s,textColor:u[1],texture:"none",glow:!1,category:"brand"}),d.push({id:"brand-dark",name:"Brand Dark",description:"Dark theme with brand accents",backgroundColor:c,clockColor:n,digitColor:c,textColor:m[m.length-1]||s,texture:"stars",glow:!0,category:"brand"}),d.push({id:"brand-light",name:"Brand Light",description:"Clean light theme",backgroundColor:s,clockColor:r,digitColor:s,textColor:c,texture:"none",glow:!1,category:"brand"}),d.push({id:"brand-neon",name:"Brand Neon",description:"Glowing neon effect",backgroundColor:u[0],clockColor:o[3],digitColor:s,textColor:o[4],texture:"noise",glow:!0,category:"brand"}),d.push({id:"brand-minimal",name:"Brand Minimal",description:"Clean minimalist design",backgroundColor:s,clockColor:c,digitColor:s,textColor:u[2],texture:"none",glow:!1,category:"brand"}),d};var ns={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}},ls=({value:t,label:o,colors:r,size:n})=>{const[u,c]=(0,h.useState)(t),[s,m]=(0,h.useState)(!1),[d,g]=(0,h.useState)(t);return(0,h.useEffect)(()=>{if(t===d)return;let l,p,x;return l=setTimeout(()=>{m(!0),p=setTimeout(()=>{c(t),x=setTimeout(()=>{m(!1),g(t)},300)},300)},0),()=>{clearTimeout(l),clearTimeout(p),clearTimeout(x)}},[t,d]),(0,e.jsxs)("div",{className:"inline-flex flex-col items-center mx-1",children:[(0,e.jsxs)("div",{style:{width:`${n*.7}px`,height:`${n}px`,background:r.clockColor||"#333",borderRadius:"8px",color:r.digitColor||"#fff",fontSize:`${n*.65}px`,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden",perspective:"1000px",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:s?"rotateX(90deg)":"rotateX(0deg)"},children:[(0,e.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"8px 8px 0 0",background:"linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 100%)"}}),(0,e.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",overflow:"hidden",borderRadius:"0 0 8px 8px",background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, transparent 100%)"}}),(0,e.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:"1px",background:"rgba(0,0,0,0.3)",zIndex:10}}),(0,e.jsx)("div",{style:{position:"relative",zIndex:5},children:String(u).padStart(2,"0")})]}),o&&(0,e.jsx)("div",{style:{fontSize:"10px",marginTop:"4px",opacity:.7,textTransform:"uppercase"},children:o})]})},is=({time:t,size:o,type:r,colors:n,config:u,theme:c})=>{const s=t.getHours()%12,m=t.getMinutes(),d=t.getSeconds(),g=s*30+m*.5,l=m*6,p=d*6,x=o/2,k=o*.45,F=()=>{const y=[],v=u.faceMarkers!==void 0&&["dots","numbers","roman","lines","none","planets"].includes(u.faceMarkers)?u.faceMarkers:"dots";if(v==="none")return y;for(let j=0;j<12;j++){const w=j*30*(Math.PI/180),T=x+Math.sin(w)*k*.85,f=x-Math.cos(w)*k*.85;if(v==="dots")y.push((0,e.jsx)("circle",{cx:T,cy:f,r:o*.015,fill:n.clockColor,opacity:"0.5"},j));else if(v==="numbers")y.push((0,e.jsx)("text",{x:T,y:f,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.08,fill:n.clockColor,fontWeight:"bold",children:j===0?12:j},j));else if(v==="roman")y.push((0,e.jsx)("text",{x:T,y:f,textAnchor:"middle",dominantBaseline:"middle",fontSize:o*.06,fill:n.clockColor,fontWeight:"bold",children:["XII","I","II","III","IV","V","VI","VII","VIII","IX","X","XI"][j]},j));else if(v==="lines"){const H=x+Math.sin(w)*k*.75,Q=x-Math.cos(w)*k*.75;y.push((0,e.jsx)("line",{x1:H,y1:Q,x2:T,y2:f,stroke:n.clockColor,strokeWidth:o*.008,opacity:"0.6"},j))}else v==="planets"&&y.push((0,e.jsx)("circle",{cx:T,cy:f,r:o*.01*[8,6,7,5,9,6,8,5,6,7,5,6][j]/5,fill:n.clockColor,opacity:"0.6"},j))}return y},N=(y,v,j)=>{const w=u.handShape!==void 0&&["classic","arrow","modern","minimalist"].includes(u.handShape)?u.handShape:"classic",T=x+Math.sin(y*Math.PI/180)*v,f=x-Math.cos(y*Math.PI/180)*v,H={hour:o*.04,minute:o*.03,second:o*.01},Q=r==="trail"&&j==="second"?o*.01:H[j]||o*.02;switch(w){case"classic":return(0,e.jsx)("line",{x1:x,y1:x,x2:T,y2:f,stroke:j==="second"&&r==="trail"?n.textColor:n.clockColor,strokeWidth:Q,strokeLinecap:"round",opacity:r==="trail"?.7:1,style:r==="tick"?{transition:"all 0.05s ease"}:{}});case"arrow":{const D=Q*2,B=v*.15,C=x+Math.sin(y*Math.PI/180)*(v-B),Z=x-Math.cos(y*Math.PI/180)*(v-B);return(0,e.jsxs)("g",{children:[(0,e.jsx)("line",{x1:x,y1:x,x2:C,y2:Z,stroke:n.clockColor,strokeWidth:Q,strokeLinecap:"round"}),(0,e.jsx)("polygon",{points:`${T},${f} ${C-D},${Z} ${C+D},${Z}`,fill:n.clockColor})]})}case"modern":{const D=v*.2;return(0,e.jsx)("line",{x1:x-Math.sin(y*Math.PI/180)*D,y1:x+Math.cos(y*Math.PI/180)*D,x2:T,y2:f,stroke:n.clockColor,strokeWidth:Q,strokeLinecap:"round"})}case"minimalist":return(0,e.jsx)("line",{x1:x,y1:x,x2:T,y2:f,stroke:n.clockColor,strokeWidth:Q*.5,strokeLinecap:"butt",opacity:.9});default:return(0,e.jsx)("line",{x1:x,y1:x,x2:T,y2:f,stroke:n.clockColor,strokeWidth:Q,strokeLinecap:"round"})}};return(0,e.jsxs)("svg",{width:o,height:o,style:{filter:u.glowEffect?`drop-shadow(0 0 ${c.effects.glowBlur} ${n.clockColor})`:"none"},children:[(0,e.jsx)("circle",{cx:x,cy:x,r:k,fill:"none",stroke:n.clockColor,strokeWidth:o*.01,opacity:"0.2"}),F(),N(g,k*.5,"hour"),N(l,k*.75,"minute"),u.showSeconds&&N(p,k*.85,"second"),(0,e.jsx)("circle",{cx:x,cy:x,r:o*.02,fill:n.clockColor})]})};const cs=({config:t,brandTheme:o,onCustomizeRequest:r})=>{const{theme:n}=Ee(),[u,c]=(0,h.useState)(new Date),[s,m]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[d,g]=(0,h.useState)(5),[l,p]=(0,h.useState)(0),[x,k]=(0,h.useState)(!1),[F,N]=(0,h.useState)(0),[y,v]=(0,h.useState)(!1);(0,h.useEffect)(()=>{const R=window.matchMedia("(prefers-color-scheme: dark)"),J=le=>m(le.matches);return R.addEventListener("change",J),()=>R.removeEventListener("change",J)},[]);const j=(0,h.useMemo)(()=>t.appearance==="dark"?!0:t.appearance==="light"?!1:s,[t.appearance,s]);(0,h.useEffect)(()=>{if(t.blinkingSeparator){const R="clock-blink-animation";if(!document.getElementById(R)){const J=document.createElement("style");J.id=R,J.textContent=`
          @keyframes blink-separator {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
          }
          .blink-separator {
            animation: blink-separator 1s step-end infinite;
          }
        `,document.head.appendChild(J)}}},[t.blinkingSeparator]),(0,h.useEffect)(()=>{if(t.googleFont&&t.googleFont!=="none"){const R=`google-font-${t.googleFont}`;if(!document.getElementById(R)){const J=document.createElement("link");J.id=R,J.rel="stylesheet",J.href=`https://fonts.googleapis.com/css2?family=${t.googleFont}:wght@400;700&display=swap`,document.head.appendChild(J)}}},[t.googleFont]),(0,h.useEffect)(()=>{if(t.responsiveSizing){const R="clock-responsive-sizing";if(!document.getElementById(R)){const J=document.createElement("style");J.id=R,J.textContent=`
          .clock-responsive-container {
            container-type: size;
            container-name: clock;
          }

          @container clock (max-width: 300px) {
            .clock-responsive-text { font-size: clamp(24px, 8cqw, 48px) !important; }
            .clock-responsive-date { font-size: clamp(12px, 4cqw, 16px) !important; }
          }

          @container clock (min-width: 301px) and (max-width: 600px) {
            .clock-responsive-text { font-size: clamp(36px, 10cqw, 64px) !important; }
            .clock-responsive-date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
          }

          @container clock (min-width: 601px) {
            .clock-responsive-text { font-size: clamp(48px, 12cqw, 96px) !important; }
            .clock-responsive-date { font-size: clamp(16px, 5cqw, 24px) !important; }
          }
        `,document.head.appendChild(J)}}},[t.responsiveSizing]),(0,h.useEffect)(()=>{if(t.widgetMode==="timer"&&x){const R=setInterval(()=>{l>0?p(l-1):d>0?(g(d-1),p(59)):k(!1)},1e3);return()=>clearInterval(R)}},[t.widgetMode,x,d,l]),(0,h.useEffect)(()=>{if(t.widgetMode==="stopwatch"&&y){const R=setInterval(()=>{N(J=>J+10)},10);return()=>clearInterval(R)}},[t.widgetMode,y]),(0,h.useEffect)(()=>{if(t.clockType==="analog-smooth"||t.clockType==="analog-trail"){let R;const J=()=>{c(new Date),R=requestAnimationFrame(J)};return R=requestAnimationFrame(J),()=>cancelAnimationFrame(R)}else{const R=setInterval(()=>c(new Date),1e3);return()=>clearInterval(R)}},[t.clockType]);const w=h.useMemo(()=>o?po(o):[],[o]),T=h.useMemo(()=>{const R={...ns};return w.forEach(J=>{R[J.id]=J}),R},[w]),f=h.useMemo(()=>{let R=j?t.darkMode:t.lightMode;if(t.presetTheme&&t.presetTheme!=="none"){const J=T[t.presetTheme];J&&(R={backgroundColor:J.backgroundColor,clockColor:J.clockColor,digitColor:J.digitColor,textColor:J.textColor})}return R},[j,t.darkMode,t.lightMode,t.presetTheme,T]);(0,h.useEffect)(()=>{const R=document.documentElement;R.style.setProperty("--clock-bg-color",f.backgroundColor),R.style.setProperty("--clock-primary-color",f.clockColor),R.style.setProperty("--clock-text-color",f.textColor),R.style.setProperty("--clock-digit-color",f.digitColor)},[f]);const H=(R,J=!1)=>{if(t.googleFont&&t.googleFont!=="none")return`"${t.googleFont.replace(/\+/g," ")}", ui-sans-serif, system-ui, sans-serif`;const le=J?t.digitFontFamily:t.textFontFamily,be={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return be[le]||be.default},Q={small:{time:"32px",date:"14px",analog:120},medium:{time:"48px",date:"16px",analog:180},large:{time:"64px",date:"18px",analog:240},xlarge:{time:"96px",date:"24px",analog:320}},D=Q[t.clockSize]||Q.large,B=()=>{switch(t.presetTheme!=="none"&&T[t.presetTheme]?T[t.presetTheme].texture:t.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return`radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 60px 70px, white, transparent),
                radial-gradient(1px 1px at 50px 50px, white, transparent),
                radial-gradient(1px 1px at 130px 80px, white, transparent),
                radial-gradient(2px 2px at 90px 10px, white, transparent),
                radial-gradient(1px 1px at 110px 120px, white, transparent)`;case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return`linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)`;case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},C=()=>{switch(t.backgroundTexture){case"dots":return"20px 20px";case"grid":return"20px 20px";case"stars":return"200px 200px";default:return"auto"}},Z={backgroundColor:t.useTransparentBg?"transparent":f.backgroundColor,backgroundImage:B(),backgroundSize:C(),color:f.textColor,textAlign:t.textAlign},$={fontSize:D.time,fontFamily:H(t.digitFontFamily,!0),fontWeight:"bold",color:f.clockColor,textShadow:t.textShadows?"0 2px 4px rgba(0,0,0,0.1)":"none"};t.glowEffect&&($.textShadow=`0 0 ${n.effects.glowBlur} currentColor`),t.gradientText&&($.background=n.gradients.gradient,$.WebkitBackgroundClip="text",$.color="transparent");const W=()=>{const R={hour:"2-digit",minute:"2-digit",second:t.showSeconds?"2-digit":void 0,hour12:t.is12Hour};return t.timezone&&t.timezone!=="local"&&(R.timeZone=t.timezone),u.toLocaleTimeString([],R)},ne=()=>{if(!t.timezone||t.timezone==="local"){const R=-u.getTimezoneOffset(),J=Math.floor(Math.abs(R)/60),le=Math.abs(R)%60;return`UTC${R>=0?"+":"-"}${String(J).padStart(2,"0")}:${String(le).padStart(2,"0")}`}try{const R=new Intl.DateTimeFormat("en-US",{timeZone:t.timezone,timeZoneName:"short"}).formatToParts(u).find(J=>J.type==="timeZoneName");return R?R.value:""}catch{return""}},ke=()=>{const R=t.timezone!=="local"?{timeZone:t.timezone}:{};switch(t.dateFormat){case"long":return u.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...R});case"short":return u.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric",year:"numeric",...R});case"numeric":return u.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",...R});case"european":return u.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",...R});case"iso":return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`;default:return u.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric",...R})}},xe=()=>{const R=W();if(t.clockType==="digital-solid")return(0,e.jsx)("div",{style:$,className:`tabular-nums tracking-tight ${t.responsiveSizing?"clock-responsive-text":""}`,children:t.blinkingSeparator?R.split("").map((J,le)=>(0,e.jsx)("span",{className:J===":"?"blink-separator":"",children:J},le)):R});if(t.clockType==="digital-roulette")return(0,e.jsx)("div",{style:{...$,letterSpacing:"0.1em"},className:`tabular-nums font-mono ${t.responsiveSizing?"clock-responsive-text":""}`,children:R.split("").map((J,le)=>(0,e.jsx)("span",{className:t.blinkingSeparator&&J===":"?"blink-separator":"",style:{display:"inline-block",animation:`roulette 0.5s ease ${le*.05}s`,transformOrigin:"center"},children:J},le))});if(t.clockType==="flip-clock"){const J=R.match(/\d+/g)||[];return(0,e.jsx)("div",{className:"flex gap-2 justify-center items-center",children:J.map((le,be)=>(0,e.jsxs)(h.Fragment,{children:[(0,e.jsx)(ls,{value:parseInt(le),label:be===0?"HR":be===1?"MIN":"SEC",size:parseInt(D.time),colors:{clockColor:f.clockColor,digitColor:f.digitColor}}),be<J.length-1&&(0,e.jsx)("span",{style:{fontSize:D.time,opacity:.5},children:":"})]},be))})}if(t.clockType.startsWith("analog-")){const J=t.clockType.replace("analog-","");return(0,e.jsx)(is,{time:u,size:typeof D.analog=="number"&&D.analog>0?D.analog:240,type:J,colors:f,config:t,theme:n})}return(0,e.jsx)("div",{style:$,children:R})},me=()=>{const R=`${String(d).padStart(2,"0")}:${String(l).padStart(2,"0")}`;return(0,e.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,e.jsx)("div",{style:$,className:`tabular-nums ${t.responsiveSizing?"clock-responsive-text":""}`,children:R}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{onClick:()=>k(!x),className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.clockColor,color:f.digitColor},children:x?"Pause":"Start"}),(0,e.jsx)("button",{onClick:()=>{g(5),p(0),k(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.textColor,color:f.backgroundColor},children:"Reset"})]})]})},ve=()=>{const R=F%1e3,J=Math.floor(F/1e3)%60,le=Math.floor(F/6e4),be=`${String(le).padStart(2,"0")}:${String(J).padStart(2,"0")}.${String(Math.floor(R/10)).padStart(2,"0")}`;return(0,e.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,e.jsx)("div",{style:$,className:`tabular-nums ${t.responsiveSizing?"clock-responsive-text":""}`,children:be}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{onClick:()=>v(!y),className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.clockColor,color:f.digitColor},children:y?"Stop":"Start"}),(0,e.jsx)("button",{onClick:()=>{N(0),v(!1)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:f.textColor,color:f.backgroundColor},children:"Reset"})]})]})},pe=()=>{switch(t.widgetMode){case"timer":return me();case"stopwatch":return ve();default:return xe()}};return(0,e.jsxs)("div",{className:`flex flex-col items-center justify-center h-full w-full p-6 ${t.responsiveSizing?"clock-responsive-container":""}`,style:Z,children:[pe(),t.showDate&&t.widgetMode==="clock"&&(0,e.jsxs)("div",{className:`mt-4 font-medium ${t.responsiveSizing?"clock-responsive-date":""}`,style:{fontSize:D.date,fontFamily:H(t.textFontFamily),opacity:.7,color:f.textColor,textShadow:t.textShadows?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:[ke(),t.timezone&&(0,e.jsx)("div",{style:{fontSize:"0.85em",marginTop:"4px",opacity:.6},children:ne()})]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"mt-4 px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:f.clockColor,color:f.digitColor,opacity:.8},onClick:()=>r?.("appearance"),children:"Customize"})]})};var Bt={cyberpunk:{backgroundColor:"#0a0e27",clockColor:"#00ffff",digitColor:"#0a0e27",textColor:"#ff00ff",texture:"grid",glow:!0},stealth:{backgroundColor:"#0B0E12",clockColor:"#2D3748",digitColor:"#E2E8F0",textColor:"#4A5568",texture:"none",glow:!1},ocean:{backgroundColor:"#0c4a6e",clockColor:"#06b6d4",digitColor:"#f0f9ff",textColor:"#bae6fd",texture:"waves",glow:!0},sunset:{backgroundColor:"#7c2d12",clockColor:"#f59e0b",digitColor:"#451a03",textColor:"#fbbf24",texture:"none",glow:!0},forest:{backgroundColor:"#14532d",clockColor:"#22c55e",digitColor:"#052e16",textColor:"#86efac",texture:"dots",glow:!1},neon:{backgroundColor:"#18181b",clockColor:"#ec4899",digitColor:"#fdf4ff",textColor:"#f0abfc",texture:"noise",glow:!0},midnight:{backgroundColor:"#1e1b4b",clockColor:"#818cf8",digitColor:"#eef2ff",textColor:"#c7d2fe",texture:"stars",glow:!0}};const ds=t=>{let o=t.appearance==="dark"?t.darkMode:t.lightMode;if(t.presetTheme&&t.presetTheme!=="none"&&Bt[t.presetTheme]){const m=Bt[t.presetTheme];o={backgroundColor:m.backgroundColor,clockColor:m.clockColor,digitColor:m.digitColor,textColor:m.textColor}}const r=t.useTransparentBg?"transparent":o.backgroundColor,n=()=>{switch(t.presetTheme!=="none"&&Bt[t.presetTheme]?Bt[t.presetTheme].texture:t.backgroundTexture){case"noise":return`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`;case"stars":return"radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 60px 70px, white, transparent), radial-gradient(1px 1px at 50px 50px, white, transparent)";case"dots":return"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)";case"grid":return"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)";case"waves":return"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)";default:return"none"}},u=()=>{const m=t.backgroundTexture;return m==="dots"||m==="grid"?"20px 20px":m==="stars"?"200px 200px":"auto"},c=t.googleFont&&t.googleFont!=="none"?`https://fonts.googleapis.com/css2?family=${t.googleFont}:wght@400;700&family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap`:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap",s=()=>t.googleFont&&t.googleFont!=="none"?`"${t.googleFont.replace(/\+/g," ")}", ${Y.fonts.body}`:Y.fonts.body;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clock Widget</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="${c}" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${r};
      background-image: ${n()};
      background-size: ${u()};
      color: ${o.textColor};
      font-family: ${s()};
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      text-align: ${t.textAlign};
      ${t.responsiveSizing?"container-type: size; container-name: clock;":""}
    }

    :root {
      --clock-bg-color: ${o.backgroundColor};
      --clock-primary-color: ${o.clockColor};
      --clock-text-color: ${o.textColor};
      --clock-digit-color: ${o.digitColor};
    }

    #clock {
      font-size: 64px;
      font-weight: bold;
      color: ${o.clockColor};
      ${t.textShadows?"text-shadow: 0 2px 4px rgba(0,0,0,0.1);":""}
      ${t.glowEffect?`text-shadow: 0 0 ${Y.effects.glowBlur} ${o.clockColor};`:""}
      ${t.gradientText?`
        background: ${Y.gradients.gradient};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      `:""}
    }

    #date {
      margin-top: 16px;
      font-size: 18px;
      opacity: 0.7;
      ${t.textShadows?"text-shadow: 0 1px 2px rgba(0,0,0,0.1);":""}
    }

    .customize-button {
      margin-top: 16px;
      padding: 8px 16px;
      background: ${o.clockColor};
      color: ${o.digitColor};
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: ${Y.fonts.heading};
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .customize-button:hover {
      opacity: 1;
    }

    ${t.blinkingSeparator?`
    @keyframes blink-separator {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    .blink-separator {
      animation: blink-separator 1s step-end infinite;
    }
    `:""}

    ${t.responsiveSizing?`
    @container clock (max-width: 300px) {
      #clock { font-size: clamp(24px, 8cqw, 48px) !important; }
      #date { font-size: clamp(12px, 4cqw, 16px) !important; }
    }

    @container clock (min-width: 301px) and (max-width: 600px) {
      #clock { font-size: clamp(36px, 10cqw, 64px) !important; }
      #date { font-size: clamp(14px, 4.5cqw, 18px) !important; }
    }

    @container clock (min-width: 601px) {
      #clock { font-size: clamp(48px, 12cqw, 96px) !important; }
      #date { font-size: clamp(16px, 5cqw, 24px) !important; }
    }
    `:""}

    @media (prefers-color-scheme: dark) {
      ${t.appearance==="system"?`
        body {
          background: ${t.useTransparentBg?"transparent":t.darkMode.backgroundColor};
          color: ${t.darkMode.textColor};
        }
        #clock {
          color: ${t.darkMode.clockColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <div id="clock"></div>
  ${t.showDate?'<div id="date"></div>':""}
  ${t.showCustomizeButton?'<button class="customize-button">Customize</button>':""}

  <script>
    ${mo(t)}
  <\/script>
</body>
</html>`},mo=t=>{const o=t.clockType==="analog-smooth"||t.clockType==="analog-trail";return`
  function updateClock() {
    const now = new Date();
    const timeOptions = {
      hour: '2-digit',
      minute: '2-digit',
      second: ${t.showSeconds},
      hour12: ${t.is12Hour}${t.timezone&&t.timezone!=="local"?`,
      timeZone: '${t.timezone}'`:""}
    };

    let timeStr = now.toLocaleTimeString([], timeOptions);

    ${t.blinkingSeparator?`
    // Apply blinking to separators
    const clockEl = document.getElementById('clock');
    clockEl.innerHTML = timeStr.split('').map(char =>
      char === ':' ? '<span class="blink-separator">' + char + '</span>' : char
    ).join('');
    `:`
    document.getElementById('clock').textContent = timeStr;
    `}

    ${t.showDate?`
      // Format date based on dateFormat config
      let dateStr;
      const tzOpts = ${t.timezone&&t.timezone!=="local"?`{ timeZone: '${t.timezone}' }`:"{}"};

      switch ('${t.dateFormat||"long"}') {
        case 'long':
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'short':
          dateStr = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', ...tzOpts });
          break;
        case 'numeric':
          dateStr = now.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'european':
          dateStr = now.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric', ...tzOpts });
          break;
        case 'iso':
          const year = now.getFullYear();
          const month = String(now.getMonth() + 1).padStart(2, '0');
          const day = String(now.getDate()).padStart(2, '0');
          dateStr = year + '-' + month + '-' + day;
          break;
        default:
          dateStr = now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', ...tzOpts });
      }

      ${t.timezone?`
      // Add timezone offset
      const tzOffset = ${t.timezone==="local"||!t.timezone?`
        (() => {
          const offset = -now.getTimezoneOffset();
          const hours = Math.floor(Math.abs(offset) / 60);
          const minutes = Math.abs(offset) % 60;
          const sign = offset >= 0 ? '+' : '-';
          return 'UTC' + sign + String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0');
        })()
      `:`
        (() => {
          try {
            const formatter = new Intl.DateTimeFormat('en-US', {
              timeZone: '${t.timezone}',
              timeZoneName: 'short'
            });
            const parts = formatter.formatToParts(now);
            const tzPart = parts.find(p => p.type === 'timeZoneName');
            return tzPart ? tzPart.value : '';
          } catch (e) {
            return '';
          }
        })()
      `};
      document.getElementById('date').innerHTML = dateStr + '<br><span style="font-size: 0.85em; opacity: 0.6;">' + tzOffset + '</span>';
      `:`
      document.getElementById('date').textContent = dateStr;
      `}
    `:""}
  }

  ${o?`
  function animate() {
    updateClock();
    requestAnimationFrame(animate);
  }
  animate();
  `:`
  setInterval(updateClock, 1000);
  updateClock();
  `}
`},us={id:"countdown",label:"Countdown",description:"Event countdowns with flip cards and confetti",defaultConfig:{eventTitle:"Project Launch",targetDate:new Date(Date.now()+864e5*30).toISOString().slice(0,16),format24h:!0,ignoreTimezone:!0,timezone:"UTC",recurringType:"none",recurringEndDate:null,countdownStyle:"flip-countdown",showYear:!1,showMonth:!0,showWeek:!1,showDay:!0,showHour:!0,showMinute:!0,showSecond:!0,confettiDuration:"5min",stopAtZero:!0,completionMessage:"🎉 Event Started!",redirectOnComplete:!1,redirectUrl:"",showToGoLabel:!0,digitFontFamily:"default",textFontFamily:"default",textAlign:"center",textShadows:!1,useTransparentBg:!0,appearance:"system",lightMode:{textColor:Y.colors.graphite,panelColor:Y.colors.stardustWhite,digitColor:Y.colors.nightBlack},darkMode:{textColor:Y.colors.stardustWhite,panelColor:Y.colors.graphite,digitColor:Y.colors.stardustWhite},showHoverMenu:!1,showCustomizeButton:!1},fields:[{name:"eventTitle",label:"Event Title",type:"text",section:"event"},{name:"targetDate",label:"Target Date & Time",type:"datetime-local",section:"event"},{name:"format24h",label:"24-Hour Format",type:"boolean",section:"event"},{name:"ignoreTimezone",label:"Ignore Timezone",type:"boolean",section:"event"},{name:"timezone",label:"Timezone",type:"select",section:"event",options:[{label:"UTC",value:"UTC"},{label:"EST (UTC-5)",value:"America/New_York"},{label:"PST (UTC-8)",value:"America/Los_Angeles"},{label:"GMT",value:"Europe/London"},{label:"CET (UTC+1)",value:"Europe/Paris"},{label:"JST (UTC+9)",value:"Asia/Tokyo"}]},{name:"recurringType",label:"Recurring",type:"select",section:"event",options:[{label:"None",value:"none"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}]},{name:"recurringEndDate",label:"Recurring End Date",type:"datetime-local",section:"event",condition:t=>t.recurringType!=="none"},{name:"countdownStyle",label:"Countdown Style",type:"select",section:"style",options:[{label:"Text Only",value:"text-only"},{label:"Flip Countdown",value:"flip-countdown"}]},{name:"textAlign",label:"Text Alignment",type:"select",section:"style",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]},{name:"showYear",label:"Show Years",type:"boolean",section:"units"},{name:"showMonth",label:"Show Months",type:"boolean",section:"units"},{name:"showWeek",label:"Show Weeks",type:"boolean",section:"units"},{name:"showDay",label:"Show Days",type:"boolean",section:"units"},{name:"showHour",label:"Show Hours",type:"boolean",section:"units"},{name:"showMinute",label:"Show Minutes",type:"boolean",section:"units"},{name:"showSecond",label:"Show Seconds",type:"boolean",section:"units"},{name:"confettiDuration",label:"Confetti Duration",type:"select",section:"completion",options:[{label:"Never",value:"never"},{label:"1 Minute",value:"1min"},{label:"5 Minutes",value:"5min"},{label:"10 Minutes",value:"10min"},{label:"1 Hour",value:"1hour"},{label:"Forever",value:"forever"}]},{name:"stopAtZero",label:"Stop at Zero",type:"boolean",section:"completion"},{name:"completionMessage",label:"Completion Message",type:"text",section:"completion"},{name:"redirectOnComplete",label:"Redirect on Completion",type:"boolean",section:"completion"},{name:"redirectUrl",label:"Redirect URL",type:"text",section:"completion",condition:t=>t.redirectOnComplete},{name:"showToGoLabel",label:'Show "To Go/Ago" Label',type:"boolean",section:"completion"},{name:"digitFontFamily",label:"Digit Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Impact",value:"impact"},{label:"Serif",value:"serif"}]},{name:"textFontFamily",label:"Text Font",type:"select",section:"typography",options:[{label:"Default",value:"default"},{label:"Serif",value:"serif"},{label:"Mono",value:"mono"}]},{name:"textShadows",label:"Text Shadows",type:"boolean",section:"typography"},{name:"useTransparentBg",label:"Transparent Background",type:"boolean",section:"background"},{name:"appearance",label:"Appearance Mode",type:"select",section:"appearance",options:[{label:"System Setting",value:"system"},{label:"Light Mode",value:"light"},{label:"Dark Mode",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"features"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"features"}]};var ps=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])},Ar=(t,o)=>{const r=Math.floor(t/1e3),n=Math.floor(r/60),u=Math.floor(n/60),c=Math.floor(u/24),s=Math.floor(c/7),m=Math.floor(c/30.44);return{finished:!1,isPast:o,years:Math.floor(c/365.25),months:m%12,weeks:s%4,days:c%7,hours:u%24,minutes:n%60,seconds:r%60}},zr=(t,o)=>{const r=new Date,n=new Date(t)-r;return n<=0?o?{finished:!0,isPast:!1}:Ar(Math.abs(n),!0):Ar(n,!1)};const ms=({config:t,onCustomizeRequest:o})=>{const[r,n]=(0,h.useState)(()=>zr(t.targetDate,t.stopAtZero)),[u,c]=(0,h.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[s,m]=(0,h.useState)(!1),[d,g]=(0,h.useState)(null),[l]=(0,h.useState)(()=>Array.from({length:50},()=>({left:Math.random()*100,duration:2+Math.random()*3,delay:Math.random()*2})));(0,h.useEffect)(()=>{const y=window.matchMedia("(prefers-color-scheme: dark)"),v=j=>c(j.matches);return y.addEventListener("change",v),()=>y.removeEventListener("change",v)},[]);const p=(0,h.useMemo)(()=>t.appearance==="dark"?!0:t.appearance==="light"?!1:u,[t.appearance,u]);(0,h.useEffect)(()=>{const y=setInterval(()=>{const v=zr(t.targetDate,t.stopAtZero);v.finished&&!s&&t.confettiDuration!=="never"&&(m(!0),g(Date.now())),n(v)},1e3);return()=>clearInterval(y)},[t.targetDate,t.stopAtZero,s,t.confettiDuration]),(0,h.useEffect)(()=>{if(!s||!d)return;const y={never:0,"1min":6e4,"5min":3e5,"10min":6e5,"1hour":36e5,forever:1/0}[t.confettiDuration];if(y===1/0)return;const v=setTimeout(()=>{m(!1)},y);return()=>clearTimeout(v)},[s,d,t.confettiDuration]);const x=(0,h.useMemo)(()=>{const y={textColor:p?"#F8F9FF":"#0B0E12",panelColor:p?"#1F2937":"#F8F9FF",digitColor:p?"#F8F9FF":"#0B0E12"};return(p?t.darkMode:t.lightMode)||y},[p,t.darkMode,t.lightMode]),k=y=>{const v={default:"ui-sans-serif, system-ui, sans-serif",impact:'"Impact", "Arial Black", sans-serif',serif:"ui-serif, Georgia, serif",mono:'ui-monospace, "Courier New", monospace'};return v[y]||v.default},F=({value:y,label:v,isLast:j})=>t.countdownStyle==="flip-countdown"?(0,e.jsxs)("div",{className:"flex flex-col items-center mx-2",children:[(0,e.jsxs)("div",{className:"relative flex items-center justify-center font-mono rounded-lg overflow-hidden shadow-lg",style:{backgroundColor:x.panelColor,color:x.digitColor,fontSize:"2.5rem",padding:"12px 20px",minWidth:"80px",fontFamily:k(t.digitFontFamily),textShadow:t.textShadows?`0 0 ${at.glowBlur} rgba(0,0,0,0.3)`:"none"},children:[(0,e.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-black/10"}),String(y).padStart(2,"0")]}),(0,e.jsx)("span",{className:"text-xs uppercase mt-2 font-bold tracking-wide",style:{color:x.textColor,fontFamily:k(t.textFontFamily),opacity:.7},children:v})]}):(0,e.jsxs)("span",{className:"mx-1",style:{fontFamily:k(t.digitFontFamily),fontSize:"2rem",fontWeight:"bold",color:x.textColor},children:[y," ",v,!j&&", "]}),N=[];return t.showYear&&r.years>0&&N.push({value:r.years,label:"Year"}),t.showMonth&&r.months>0&&N.push({value:r.months,label:"Month"}),t.showWeek&&r.weeks>0&&N.push({value:r.weeks,label:"Week"}),t.showDay&&N.push({value:r.days||0,label:"Day"}),t.showHour&&N.push({value:r.hours||0,label:"Hr"}),t.showMinute&&N.push({value:r.minutes||0,label:"Min"}),t.showSecond&&N.push({value:r.seconds||0,label:"Sec"}),(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 transition-colors relative",style:{backgroundColor:t.useTransparentBg?"transparent":p?at.colors.nightBlack:at.colors.stardustWhite,textAlign:t.textAlign},children:[s&&(0,e.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:l.map((y,v)=>(0,e.jsx)("div",{className:"absolute animate-confetti",style:{left:`${y.left}%`,top:"-10px",width:"10px",height:"10px",backgroundColor:Object.values(at.colors)[v%Object.values(at.colors).length],animation:`confettiFall ${y.duration}s linear infinite`,animationDelay:`${y.delay}s`,opacity:.8,borderRadius:"2px"}},v))}),(0,e.jsx)("h2",{className:"text-2xl font-bold mb-6",style:{color:x.textColor,fontFamily:k(t.textFontFamily),textShadow:t.textShadows?`0 0 ${at.glowBlur} rgba(0,0,0,0.1)`:"none"},children:ps(t.eventTitle)}),(0,e.jsx)("div",{className:`flex ${t.countdownStyle==="flip-countdown"?"gap-2":"flex-wrap justify-center"}`,children:r.finished?(0,e.jsx)("div",{className:"text-4xl font-bold",style:{color:x.textColor},children:"🎉 Event Started!"}):N.map((y,v)=>(0,e.jsx)(F,{value:y.value,label:y.label,isLast:v===N.length-1},y.label))}),t.showToGoLabel&&!r.finished&&(0,e.jsx)("div",{className:"mt-4 text-sm uppercase tracking-wide opacity-60",style:{color:x.textColor,fontFamily:k(t.textFontFamily)},children:r.isPast?"Ago":"To Go"}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"mt-6 px-6 py-2 rounded-lg font-medium text-sm",style:{backgroundColor:x.panelColor,color:x.digitColor,opacity:.8},onClick:()=>o?.("event"),children:"Customize"}),(0,e.jsx)("style",{children:`
        @keyframes confettiFall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
      `})]})};var Er=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>"']/g,r=>o[r])};const hs=t=>{const o=t.appearance==="dark",r=o?t.darkMode:t.lightMode,n=t.useTransparentBg?"transparent":o?Y.colors.nightBlack:Y.colors.stardustWhite;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown - ${Er(t.eventTitle)}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background: ${n};
      color: ${r.textColor};
      font-family: ${Y.fonts.body};
      display: flex;
      flex-direction: column;
      align-items: ${t.textAlign==="left"?"flex-start":t.textAlign==="right"?"flex-end":"center"};
      justify-content: center;
      padding: 32px;
      text-align: ${t.textAlign};
    }

    #event-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 24px;
      ${t.textShadows?`text-shadow: 0 0 ${Y.effects.glowBlur} rgba(0,0,0,0.1);`:""}
    }

    #countdown-display {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .countdown-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 8px;
    }

    .countdown-digit {
      background: ${r.panelColor};
      color: ${r.digitColor};
      font-size: 2.5rem;
      padding: 12px 20px;
      border-radius: 8px;
      min-width: 80px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      position: relative;
      ${t.textShadows?`text-shadow: 0 0 ${Y.effects.glowBlur} rgba(0,0,0,0.3);`:""}
    }

    .countdown-digit::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: rgba(0,0,0,0.1);
    }

    .countdown-label {
      font-size: 0.75rem;
      margin-top: 8px;
      opacity: 0.7;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 0.05em;
    }

    #label {
      margin-top: 16px;
      font-size: 0.875rem;
      opacity: 0.6;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    #confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    @media (prefers-color-scheme: dark) {
      ${t.appearance==="system"?`
        body {
          background: ${t.useTransparentBg?"transparent":t.darkMode.backgroundColor};
          color: ${t.darkMode.textColor};
        }
        .countdown-digit {
          background: ${t.darkMode.panelColor};
          color: ${t.darkMode.digitColor};
        }
      `:""}
    }
  </style>
</head>
<body>
  <h2 id="event-title">${Er(t.eventTitle)}</h2>
  <div id="countdown-display"></div>
  ${t.showToGoLabel?'<div id="label"></div>':""}
  <div id="confetti-container"></div>

  <script>
    ${ho(t)}
  <\/script>
</body>
</html>`},ho=t=>{const o=t.appearance==="dark"?t.darkMode:t.lightMode;return`
    const config = ${JSON.stringify(t)};
    const colors = ${JSON.stringify(o)};
    const JAZER_BRAND_COLORS = ${JSON.stringify(Y.colors)};

    let confettiActive = false;
    let confettiStartTime = null;

    function calculateTimeLeft() {
      const now = new Date();
      const target = new Date(config.targetDate);
      const diff = target - now;

      if (diff <= 0) {
        if (config.stopAtZero) {
          triggerConfetti();
          return { finished: true };
        }
        return calculateUnits(Math.abs(diff), true);
      }

      return calculateUnits(diff, false);
    }

    function calculateUnits(ms, isPast) {
      const s = Math.floor(ms / 1000);
      const m = Math.floor(s / 60);
      const h = Math.floor(m / 60);
      const d = Math.floor(h / 24);

      return {
        finished: false,
        isPast,
        days: d,
        hours: h % 24,
        minutes: m % 60,
        seconds: s % 60
      };
    }

    function triggerConfetti() {
      if (confettiActive || config.confettiDuration === 'never') return;
      confettiActive = true;
      confettiStartTime = Date.now();

      const container = document.getElementById('confetti-container');
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = \`
          position: absolute;
          left: \${Math.random() * 100}%;
          top: -10px;
          width: 10px;
          height: 10px;
          background: \${Object.values(JAZER_BRAND_COLORS)[i % Object.values(JAZER_BRAND_COLORS).length]};
          animation: fall \${2 + Math.random() * 3}s linear infinite;
          opacity: 0.8;
          border-radius: 2px;
        \`;
        container.appendChild(confetti);
      }

      const durations = { '1min': 60000, '5min': 300000, '10min': 600000, '1hour': 3600000 };
      if (config.confettiDuration !== 'forever') {
        setTimeout(() => {
          container.innerHTML = '';
          confettiActive = false;
        }, durations[config.confettiDuration]);
      }
    }

    function updateCountdown() {
      const timeLeft = calculateTimeLeft();
      const display = document.getElementById('countdown-display');

      if (timeLeft.finished) {
        display.innerHTML = '<div style="font-size: 2rem; font-weight: bold;">🎉 Event Started!</div>';
        return;
      }

      const units = [];
      if (config.showDay) units.push({ value: timeLeft.days, label: 'Days' });
      if (config.showHour) units.push({ value: timeLeft.hours, label: 'Hours' });
      if (config.showMinute) units.push({ value: timeLeft.minutes, label: 'Min' });
      if (config.showSecond) units.push({ value: timeLeft.seconds, label: 'Sec' });

      display.innerHTML = units.map(u => \`
        <div class="countdown-unit">
          <div class="countdown-digit">\${String(u.value).padStart(2, '0')}</div>
          <span class="countdown-label">\${u.label}</span>
        </div>
      \`).join('');

      if (config.showToGoLabel) {
        document.getElementById('label').textContent = timeLeft.isPast ? 'Ago' : 'To Go';
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  `},xs="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Wt=(t=21)=>{let o="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)o+=xs[r[t]&63];return o};var Ut={id:Wt(),label:"Button",icon:"✨",hideIcon:!1,url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"},Lr=[{id:"focus",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],gs=[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],bs=[{title:"Button Modes",description:"Modes create entire categories of button behavior so every press feels intentional.",items:[{title:"Action Mode",body:"Executes a single action (log, toggle, open link, trigger webhook, etc.)."},{title:"Macro Mode",body:"Chains multiple actions together so one press can log, toggle, and open a link in sequence."},{title:"Input Mode",body:"Prompts for a quick note, pomodoro intention, or task title before running the macro."},{title:"Cycle Mode",body:"Each press cycles through presets (Start, Pause, Skip, Complete) with matching badges and colors."},{title:"Toggle Mode",body:"Maintains an on/off state with glow + data logging so you can see whether the button is active."}]},{title:"Visual & Interactive Touches",description:"Micro-interactions make the widget feel premium.",items:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts to match the action being taken."},{title:"Particles & Traces",body:"Neon ripple, energy pulse, pixel burst, glow sweep, or magnetic hover trails."},{title:"Active Duration Glow",body:"While macros run the button slowly pulses, shifts color, or shows a progress arc."},{title:"Badges",body:"Counts, streak icons, warning dots, and data pills keep the button status visible."}]},{title:"Data-Aware Reactions",description:"Let Notion data change the way the button behaves or looks.",items:[{title:"Task Pressure",body:"If today's tasks are incomplete the button shifts to warning red."},{title:"Streak Glow",body:"When pomodoro streak continues the button gets a brighter glow."},{title:"Done State",body:"Marking a database property as Done swaps in a green check pill."},{title:"Unlocks",body:"When a field equals a value, the button can unlock a new animation or action."}]},{title:"Notion Integration",description:"The serious power comes from two-way Notion sync.",items:[{title:"Connect a Database",body:"Point to Tasks, Journal, Habits, or Pomodoros and choose create, update, or toggle actions."},{title:"Templates + Prefill",body:"Apply a template per button and pre-fill tags, owners, and dates."},{title:"Advanced Logging",body:"Capture button ID, widget ID, timestamps, and user-entered text for every press."},{title:"Two-Way Rules",body:"Check Notion data before acting so limits, completed flags, or custom focus modes change the outcome."}]},{title:"Smart Logic",description:"Conditional flows prevent accidental presses.",items:[{title:"If/Else Branching",body:"If a timer is active, pause it. Otherwise start focus. Same button, two outcomes."},{title:"Data-Driven UI",body:"Swap label, icon, color, or tooltip whenever a Notion property changes."}]},{title:"Layout-Level Controls",description:"Organize multiple buttons into purposeful groups.",items:[{title:"Button Groups",body:"Vertical stacks, inline clusters, grids, or rows with spacers keep things tidy."},{title:"Linked Buttons",body:"Pomodoro Start -> Pause -> Log Session -> Complete Task all sharing one state."},{title:"Variants",body:"Text, icon-only, icon + text, capsule, circular, floating orb, outline, or ghost styles."}]},{title:"Wow Moments",description:"Moments of surprise drive engagement.",items:[{title:"Energy Charge Ring",body:"Every press charges a ring that wraps the button."},{title:"Streak Transform",body:"As the streak grows the glow, color, and animation intensity evolve."},{title:"Secret Long Press",body:"Holding for two seconds can unlock a different action or log."},{title:"Morphing States",body:"Square -> circle, icon -> checkmark, text -> animated success message."},{title:"Dynamic Labels",body:`Rotate label text: "Press Me" -> "Let's cook" -> "Energy +1" -> "Keep grinding".`}]},{title:"Button Library",description:"Build a catalog so users can drag in what they need.",items:[{title:"Examples",body:"Log Button, Task Toggle, Cycle/Pomodoro button, Create Page, Template trigger, Counter, Mode Switcher, Theme Toggle, Playlist, Navigation, Meta/Macro, and Secret long-press buttons."}]}],ht=()=>({cycleIndex:0,isActive:!1,badgeCount:0,awaitingInput:!1,inputValue:"",macroLog:[],animationKey:0,lastCompleteAt:0,isRecentlyCompleted:!1,isProcessing:!1,lastLoggedStatus:null,energyCharge:0,secretUnlocked:!1,counterValue:0,playlistIndex:0,modeIndex:0,themeMode:"dark",cycleStep:0,dynamicLabelIndex:0,timerRunning:!1}),wt=(t="")=>t.split(`
`).map(o=>o.trim()).filter(Boolean),Dr=t=>wt(t.playlistText||""),fs=t=>wt(t).map(o=>{const[r="",n="",u=""]=o.split("|");return{id:`${r}-${n}`.trim()||Wt(),label:r.trim(),badge:n.trim(),color:u.trim()}}).filter(o=>o.label),ys=t=>wt(t).map((o,r)=>{const[n="log",u="Action",c="200"]=o.split("|");return{id:`${n}-${r}`,type:n.trim()||"log",label:u.trim()||"Action",delay:Number(c)||200}}).filter(o=>o.type),vs=(t="")=>t.split(/;|\n/).map(o=>o.trim()).filter(Boolean).map(o=>{const[r="",...n]=o.split("=");return{key:r.trim(),value:n.join("=").trim()}}).filter(o=>o.key),ws=(t=200)=>new Promise(o=>setTimeout(o,t));const ks=({config:t,onConfigChange:o,onCustomizeRequest:r,brandTheme:n})=>{const{theme:u,getColor:c}=Ee(),[s,m]=(0,h.useState)(t.buttons||[Ut]),[d,g]=(0,h.useState)(null),[l,p]=(0,h.useState)(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[x,k]=(0,h.useState)({}),F=(0,h.useRef)({}),[N,y]=(0,h.useState)(!1),[v,j]=(0,h.useState)(!1),w=a=>{r?r(a):y(!0)},T=t.builderUI!==!1,f=d?s.findIndex(a=>a.id===d):-1,H=(0,h.useMemo)(()=>({jazerNeon:{bgColor:c("electricPurple"),outlineColor:c("electricPurple"),textColor:c("stardustWhite"),hoverBgColor:c("ultraviolet")},cosmicBlue:{bgColor:c("cosmicBlue"),outlineColor:c("cosmicBlue"),textColor:c("stardustWhite"),hoverBgColor:c("aetherTeal")},neonPink:{bgColor:c("neonPink"),outlineColor:c("neonPink"),textColor:c("stardustWhite"),hoverBgColor:"#EC4899"},purple:{bgColor:"#6940A5",outlineColor:"#6940A5",textColor:"#FFFFFF",hoverBgColor:"#8B5CF6",hoverTextColor:"#FFFFFF"},blue:{bgColor:"#0B6E99",outlineColor:"#0B6E99",textColor:"#FFFFFF",hoverBgColor:"#2D9CDB",hoverTextColor:"#FFFFFF"},red:{bgColor:"#E03E3E",outlineColor:"#E03E3E",textColor:"#FFFFFF",hoverBgColor:"#EB5757",hoverTextColor:"#FFFFFF"},green:{bgColor:"#0F7B6C",outlineColor:"#0F7B6C",textColor:"#FFFFFF",hoverBgColor:"#27AE60",hoverTextColor:"#FFFFFF"},yellow:{bgColor:"#DFAB01",outlineColor:"#DFAB01",textColor:"#FFFFFF",hoverBgColor:"#F2C94C",hoverTextColor:"#FFFFFF"},orange:{bgColor:"#D9730D",outlineColor:"#D9730D",textColor:"#FFFFFF",hoverBgColor:"#F2994A",hoverTextColor:"#FFFFFF"},pink:{bgColor:"#AD1A72",outlineColor:"#AD1A72",textColor:"#FFFFFF",hoverBgColor:"#D946A6",hoverTextColor:"#FFFFFF"},brown:{bgColor:"#64473A",outlineColor:"#64473A",textColor:"#FFFFFF",hoverBgColor:"#8B6F47",hoverTextColor:"#FFFFFF"},grey:{bgColor:"#9B9A97",outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBgColor:"#BDBDBD",hoverTextColor:"#FFFFFF"},black:{bgColor:"#000000",outlineColor:"#000000",textColor:"#FFFFFF",hoverBgColor:"#333333",hoverTextColor:"#FFFFFF"}}),[c]);(0,h.useEffect)(()=>{let a=requestAnimationFrame(()=>m(t.buttons||[Ut]));return()=>cancelAnimationFrame(a)},[t.buttons]),(0,h.useEffect)(()=>{let a=requestAnimationFrame(()=>{k(S=>{const I={};return s.forEach(P=>{I[P.id]=S[P.id]||ht()}),I})});return()=>cancelAnimationFrame(a)},[s]),(0,h.useEffect)(()=>{o("buttons",s)},[s,o]),(0,h.useEffect)(()=>{if(t.appearanceMode!=="system"||typeof window>"u")return;const a=window.matchMedia("(prefers-color-scheme: dark)"),S=I=>p(I.matches);return a.addEventListener("change",S),()=>a.removeEventListener("change",S)},[t.appearanceMode]);const Q=(0,h.useMemo)(()=>t.appearanceMode==="system"?l:t.appearanceMode==="dark",[t.appearanceMode,l]);(0,h.useEffect)(()=>{if(!N||typeof window>"u")return;const a=S=>{S.key==="Escape"&&y(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[N]);const D=(0,h.useCallback)((a,S)=>{k(I=>{const P=I[a]||ht(),E=typeof S=="function"?S(P):S;return{...I,[a]:{...P,...E}}})},[]),B=(0,h.useMemo)(()=>t.macroMode?.actionsText?ys(t.macroMode.actionsText):Array.isArray(t.macroMode?.actions)?t.macroMode.actions:gs,[t.macroMode]),C=(0,h.useMemo)(()=>{if(t.cycleMode?.valuesText){const a=fs(t.cycleMode.valuesText);return a.length?a:Lr}return Array.isArray(t.cycleMode?.values)?t.cycleMode.values:Lr},[t.cycleMode]),Z=(0,h.useMemo)(()=>Array.isArray(t.inputMode?.hints)?t.inputMode.hints:wt(t.inputMode?.hints),[t.inputMode]),$=(0,h.useMemo)(()=>{if(!t.dataAware?.enabled)return null;const a=Number(t.dataAware.sampleValue??0),S=Number(t.dataAware.goal??0),I=Number(t.dataAware.warningThreshold??0);let P="neutral";return S&&a>=S?P="success":a<=I&&(P="warning"),{value:a,goal:S,warning:I,status:P,icon:t.dataAware.statusIcon||"⚡",tasksIncomplete:!!t.dataAware.tasksIncomplete,pomodoroStreakActive:!!t.dataAware.pomodoroStreakActive,propertyDone:!!t.dataAware.propertyDone,doneLabel:t.dataAware.doneLabel||"Marked Done",timerActive:!!t.dataAware.timerActive,streakBroken:!!t.dataAware.streakBroken,projectTag:t.dataAware.projectTag||"General",projectTagTarget:t.dataAware.projectTagTarget||"Music",musicTooltip:t.dataAware.musicTooltip||"Logs in Music DB",projectTagColor:t.dataAware.projectTagColor||"#C026D3",dynamicLabels:wt(t.dataAware.dynamicLabelsText)}},[t.dataAware]),W=(0,h.useMemo)(()=>{const a=t.notionIntegration;if(!a?.enabled)return null;const S={tasks:"Tasks database",journal:"Journal database",habits:"Habits database",pomodoros:"Pomodoros database"}[a.database]||"Custom database",I={create:"Create row",update:"Update property",toggle:"Toggle checkbox"}[a.action]||"Custom action",P=vs(a.prefillPropertiesText||""),E=a.conditional?.conditionMet,G=a.twoWay?.taskCompleted?!1:E,O=a.conditional?G?a.conditional.thenAction:a.conditional.elseAction:null;return{databaseLabel:S,actionLabel:I,prefill:P,template:a.template,logEntries:a.logEntries,logDestination:a.logDestination||"Console Preview",unlockField:a.unlockField,unlockValue:a.unlockValue,currentFieldValue:a.currentFieldValue,unlockReady:!!(a.unlockField&&a.unlockValue&&a.currentFieldValue&&a.unlockValue===a.currentFieldValue),limitReached:!!a.twoWay?.limitReached,taskCompleted:!!a.twoWay?.taskCompleted,mode:a.twoWay?.mode,conditionalLabel:a.conditional?.label,conditionalAction:O,conditionResolved:G}},[t.notionIntegration]),ne=t.useTransparentBackground?"transparent":t.backgroundColor,ke=()=>{m(a=>[...a,{...Ut,id:Wt()}])},xe=a=>{m(S=>{const I=S.find(P=>P.id===a);return I?[...S,{...I,id:Wt()}]:S})},me=a=>{s.length<=1||window.confirm("Are you sure you want to delete this button?")&&m(S=>{const I=S.filter(P=>P.id!==a);return d===a&&g(I[0]?.id||null),I})},ve=(a,S)=>{m(I=>{const P=I.findIndex(G=>G.id===a);if(P===-1)return I;const E=[...I];return S==="up"&&P>0?[E[P-1],E[P]]=[E[P],E[P-1]]:S==="down"&&P<E.length-1&&([E[P+1],E[P]]=[E[P],E[P+1]]),E})},pe=(a,S,I)=>{m(P=>P.map(E=>E.id===a?{...E,[S]:I}:E))},R=(a,S)=>{const I=H[S];I&&m(P=>P.map(E=>E.id===a?{...E,bgColor:I.bgColor,outlineColor:I.outlineColor,textColor:I.textColor,hoverBgColor:I.hoverBgColor||I.bgColor,hoverTextColor:I.hoverTextColor||I.textColor}:E))},J=a=>{m(S=>{const I=S.find(ee=>ee.id===a);if(!I)return S;const{id:P,label:E,url:G,...O}=I;return S.map(ee=>ee.id===a?ee:{...ee,...O})})},le=(a=null)=>{j(!0);const S=a||d||s[0]?.id||null;S&&g(S)},be=(0,h.useCallback)(async(a,S,I)=>{if(t.macroMode?.enabled)for(const P of B){const E=`${P.label}${I?` - ${I}`:""}`;D(a,G=>({...G,macroLog:[...G.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - ${E}`]})),P.type==="toggle"&&D(a,G=>({...G,isActive:!G.isActive,lastLoggedStatus:G.isActive?"Inactive":"Active"})),P.type==="openLink"&&S.url&&typeof window<"u"&&window.open(S.url,"_blank","noopener,noreferrer"),await ws(P.delay||200)}},[t.macroMode?.enabled,B,D]),Ve=async a=>{if(W?.limitReached)return;const S=s.find(O=>O.id===a);if(!S)return;const I=x[a]||ht(),P=I.inputValue||"";t.cycleMode?.enabled&&C.length&&C[I.cycleIndex%C.length];const E=Dr(S),G=new Date().toLocaleTimeString();if(D(a,O=>({...O,isProcessing:!0,awaitingInput:!1})),W?.conditionalAction&&D(a,O=>({...O,macroLog:[...O.macroLog.slice(-3),`${G} - ${W.conditionalAction}`]})),S.behaviorType==="createPage"&&D(a,O=>({...O,macroLog:[...O.macroLog.slice(-3),`${G} - Create page in ${W?.databaseLabel}`]})),S.behaviorType==="template"&&D(a,O=>({...O,macroLog:[...O.macroLog.slice(-3),`${G} - Template ${W?.template||"Default"} applied`]})),t.macroMode?.enabled||S.behaviorType==="meta"?await be(a,S,P):S.url&&typeof window<"u"&&window.open(S.url,"_blank","noopener,noreferrer"),t.cycleMode?.enabled&&C.length>0&&D(a,O=>({...O,cycleIndex:(O.cycleIndex+1)%C.length})),t.toggleMode?.enabled&&D(a,O=>{const ee=!O.isActive;return t.toggleMode.logToNotion&&typeof window<"u"&&console.log(`[Notion Log] ${S.label} is now ${ee?"Active":"Inactive"}`),{...O,isActive:ee,lastLoggedStatus:ee?"Active":"Inactive"}}),D(a,O=>{let ee=O.macroLog;const oe=ce=>{ee=[...ee.slice(-3),`${G} - ${ce}`]},X={...O,badgeCount:O.badgeCount+1,animationKey:Date.now(),lastCompleteAt:Date.now(),isRecentlyCompleted:!0,isProcessing:!1,inputValue:"",awaitingInput:!1};switch(S.behaviorType){case"cycle":{const ce=(O.cycleStep+1)%3;X.cycleStep=ce,X.timerRunning=ce!==0,oe(["Start focus","Pause timer","Skip break"][ce]);break}case"counter":X.counterValue=O.counterValue+1,oe(`Counter ${X.counterValue}`);break;case"modeSwitcher":{const ce=(O.modeIndex+1)%3;X.modeIndex=ce,oe(`Mode switched to ${["Focus","Break","Deep"][ce]}`);break}case"themeToggle":X.themeMode=O.themeMode==="dark"?"light":"dark",oe(`Theme ${X.themeMode}`);break;case"playlist":if(E.length){const ce=(O.playlistIndex+1)%E.length;X.playlistIndex=ce,oe(`Now playing ${E[ce]}`)}break;case"navigation":oe("Opened Notion page");break;case"meta":oe("Meta macro executed");break;case"secret":O.secretUnlocked&&oe("Secret macro executed");break;default:break}return $?.streakBroken&&(X.counterValue=0,oe("Streak reset")),$?.projectTag===$?.projectTagTarget&&oe("Logged to Music DB"),$?.dynamicLabels?.length&&(X.dynamicLabelIndex=(O.dynamicLabelIndex+1)%$.dynamicLabels.length),X.energyCharge=Math.min(100,O.energyCharge+20),X.macroLog=ee,X}),setTimeout(()=>{D(a,O=>O.isRecentlyCompleted?{...O,isRecentlyCompleted:!1}:O)},900),W?.logEntries){let O=W.conditionalAction||(t.macroMode?.enabled?"Macro sequence":"Direct action");switch(S.behaviorType){case"createPage":O="Create Page";break;case"template":O="Apply Template";break;case"counter":O="Increment Counter";break;case"playlist":O="Cycle Playlist";break;case"modeSwitcher":O="Switch Mode";break;case"themeToggle":O="Toggle Theme";break;case"navigation":O="Open Page";break;case"meta":O="Meta Macro";break;case"secret":O="Secret Action";break;default:break}$?.projectTag===$?.projectTagTarget&&(O+=" · Music DB"),E.length&&E[(I.playlistIndex+(S.behaviorType==="playlist"?1:0))%E.length]}},Ue=a=>{const S=x[a]||ht(),I=s.find(P=>P.id===a);if(I){if(W?.limitReached){D(a,P=>({...P,macroLog:[...P.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Limit reached via two-way sync.`],awaitingInput:!1}));return}if(W?.taskCompleted){D(a,P=>({...P,macroLog:[...P.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Task already completed in Notion.`],awaitingInput:!1}));return}if(I.behaviorType==="secret"&&!S.secretUnlocked){D(a,P=>({...P,macroLog:[...P.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Hold to unlock secret action.`],awaitingInput:!1}));return}if(t.inputMode?.enabled){if(!S.awaitingInput){D(a,{awaitingInput:!0});return}if(!S.inputValue?.trim())return}Ve(a)}},Le=(a,S)=>{D(a,{inputValue:S})},Be=a=>{x[a]?.inputValue?.trim()&&Ve(a)},ut=a=>{D(a,{awaitingInput:!1,inputValue:""})},et=a=>{F.current[a]&&clearTimeout(F.current[a]),F.current[a]=setTimeout(()=>{D(a,S=>({...S,secretUnlocked:!0,macroLog:[...S.macroLog.slice(-3),`${new Date().toLocaleTimeString()} - Secret channel unlocked`]})),delete F.current[a]},2e3)},De=a=>{F.current[a]&&(clearTimeout(F.current[a]),delete F.current[a])},M=(a,S,I,P)=>{const E={};switch(a.behaviorType){case"cycle":{const G=["Start Pomodoro","Pause","Skip Break"];E.label=G[S.cycleStep%G.length],E.icon=S.cycleStep===1?"⏸":S.cycleStep===2?"⏭":a.icon||"▶",E.tooltip=S.timerRunning?"Pause focus timer":"Start focus timer",P?.timerActive&&!S.timerRunning&&(E.label="Pause",E.icon="⏸");break}case"createPage":E.icon=a.icon||"📄",E.tooltip="Creates a Notion page";break;case"template":E.icon=a.icon||"🧩",E.tooltip="Runs the selected template";break;case"counter":E.label=`${a.label} ${S.counterValue}`,E.tooltip="Adds to counter";break;case"modeSwitcher":{const G=["Focus","Break","Deep Work"];E.label=G[S.modeIndex%G.length],E.tooltip=`Switch to ${E.label} mode`;break}case"themeToggle":E.label=`Theme: ${S.themeMode==="dark"?"Dark":"Light"}`,E.icon=S.themeMode==="dark"?"🌙":"☀️",E.tooltip="Toggle theme";break;case"playlist":{const G=I;G.length&&(E.label=G[S.playlistIndex%G.length]),E.tooltip="Cycle playlist tracks",E.icon=a.icon||"🎵";break}case"navigation":E.icon=a.icon||"🔗",E.tooltip=a.url||"Opens Notion page";break;case"meta":E.tooltip="Runs macro sequence",E.icon=a.icon||"🧠";break;case"secret":S.secretUnlocked?E.tooltip="Secret macro ready":(E.label="Hold to unlock",E.tooltip="Hold for 2 seconds to reveal secret");break;default:break}return E},_=(a,S,I,P={})=>{const{isLinkedRow:E=!1,isFirst:G=!1,isLast:O=!1}=P,ee=a.rounding==="none"?"0px":a.rounding==="slight"?"8px":"9999px",oe=a.size==="small"?"8px 16px":a.size==="large"?"16px 32px":"12px 24px",X=a.size==="small"?"0.875rem":a.size==="large"?"1.25rem":"1rem",ce=a.outlineColor==="transparent"?"0px":"1px",Me=`${a.bgColor}${a.bgOpacity<100?Math.round(255*(a.bgOpacity/100)).toString(16).padStart(2,"0"):""}`,we=a.variant||"solid",z={backgroundColor:S?.color||Me,color:a.textColor,border:`${ce} solid ${a.outlineColor}`,borderRadius:ee,padding:oe,fontSize:X,fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:I.isProcessing?"not-allowed":"pointer",width:t.layout==="full-width"?"100%":"auto",textAlign:"center",boxShadow:t.showHoverMenu?`0 0 ${u.effects.glowBlur} rgba(0,0,0,0.2)`:"none",transition:"transform 0.2s ease, box-shadow 0.2s ease"};switch(we){case"text":z.backgroundColor="transparent",z.border="none",z.padding="6px 12px";break;case"icon":z.width="48px",z.height="48px",z.padding="0",z.borderRadius="16px";break;case"iconText":z.padding="10px 18px";break;case"capsule":z.borderRadius="999px";break;case"circular":z.borderRadius="999px",z.width="64px",z.height="64px",z.padding="0";break;case"orb":z.borderRadius="999px",z.boxShadow="0 0 25px rgba(147, 197, 253, 0.35)",z.background="radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent), "+(S?.color||Me);break;case"outline":z.backgroundColor="transparent",z.border=`1px solid ${a.outlineColor||a.textColor}`,z.color=a.outlineColor||a.textColor;break;case"ghost":z.backgroundColor="transparent",z.border="1px dashed rgba(255,255,255,0.4)",z.color=a.textColor||"#FFFFFF";break;default:break}return E&&(z.borderRadius=G?"999px 0 0 999px":O?"0 999px 999px 0":"0",z.marginLeft=G?"0":"-1px"),t.toggleMode?.enabled&&I.isActive&&t.toggleMode.glowWhenActive&&(z.boxShadow="0 0 20px rgba(139,92,246,0.6)"),$&&($.tasksIncomplete&&(z.backgroundColor="#B91C1C",z.border="1px solid #7F1D1D",z.color="#FFFFFF"),$.status==="success"?z.boxShadow="0 0 22px rgba(16,185,129,0.4)":$.status==="warning"&&(z.boxShadow="0 0 18px rgba(249,115,22,0.35)"),$.pomodoroStreakActive&&(z.boxShadow="0 0 26px rgba(236,72,153,0.45)"),$.projectTag===$.projectTagTarget&&(z.backgroundColor=$.projectTagColor,z.color="#FFFFFF"),$.streakBroken&&(z.outline="2px dashed rgba(249,115,22,0.8)",z.outlineOffset="2px")),W?.limitReached&&(z.filter="grayscale(0.55)",z.opacity=.6,z.cursor="not-allowed"),W?.unlockField&&(z.border=`1px solid ${W.unlockReady?"#10B981":"#FCD34D"}`,W.unlockReady&&(z.boxShadow="0 0 24px rgba(16,185,129,0.45)")),a.behaviorType==="themeToggle"&&(z.backgroundColor=I.themeMode==="dark"?"#0F172A":"#F8FAFC",z.color=I.themeMode==="dark"?"#F8FAFC":"#0F172A"),z};return(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full p-4 transition-colors relative",style:{backgroundColor:ne,color:Q?u.colors.stardustWhite:u.colors.nightBlack},children:[T&&(0,e.jsxs)("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2",children:[(0,e.jsx)("button",{type:"button",className:"text-[11px] px-3 py-1.5 rounded-full border border-white/20 bg-black/20 text-neutral-200 hover:border-purple-300 hover:text-white transition",onClick:()=>le(),children:"Manage"}),(0,e.jsxs)("button",{type:"button",className:"text-[11px] px-3 py-1.5 rounded-full border border-purple-400/60 bg-purple-500/15 text-white hover:bg-purple-500/25 transition flex items-center gap-1.5",onClick:ke,children:[(0,e.jsx)(tr,{className:"w-3.5 h-3.5"})," Add"]})]}),(0,e.jsx)("div",{className:t.layout==="vertical"||t.layout==="vertical-stack"?"flex flex-col gap-4 w-full":t.layout==="inline-cluster"?"flex gap-3 flex-nowrap overflow-x-auto w-full":t.layout==="grid"?"grid gap-4 w-full":t.layout==="linked-row"?"flex gap-0 w-full":"flex flex-wrap gap-4",style:{justifyContent:t.layout==="inline-cluster"?"flex-start":t.alignment==="space-evenly"?"space-evenly":t.alignment==="center"?"center":t.alignment==="left"?"flex-start":"flex-end",width:t.layout==="full-width"||t.layout==="grid"||t.layout==="inline-cluster"?"100%":"auto",gridTemplateColumns:t.layout==="grid"?"repeat(auto-fit, minmax(180px, 1fr))":void 0},children:s.map((a,S)=>{const I=x[a.id]||ht(),P=t.cycleMode?.enabled&&C.length?C[I.cycleIndex%C.length]:null,E=Dr(a);let G=P?.label||a.label,O=P?.icon||a.icon,ee=a.tooltip||"";const oe=a.variant||"solid";$?.dynamicLabels?.length&&(G=$.dynamicLabels[I.dynamicLabelIndex%$.dynamicLabels.length]||G);const X=M(a,I,E,$);X.label&&(G=X.label),X.icon&&(O=X.icon),X.tooltip&&(ee=X.tooltip),$?.projectTag===$?.projectTagTarget&&(O="🎵",ee=$.musicTooltip);const ce=oe!=="icon",Me=ee||G,we=t.visuals?.badgesEnabled?Math.max(I.badgeCount,Number(t.dataAware?.sampleValue??0)):null,z=!!I.isRecentlyCompleted,ue=["button-live-preview",t.visuals?.activeGlow&&I.isActive?"button-live-preview--active":"",I.isProcessing?"button-live-preview--processing":"",z?"button-live-preview--complete":"",$?.pomodoroStreakActive?"button-live-preview--streak":"",W?.limitReached?"button-live-preview--limited":""].filter(Boolean).join(" ");return(0,e.jsxs)("div",{className:"group relative",draggable:!0,onDragStart:de=>de.dataTransfer.setData("buttonId",a.id),onDragOver:de=>de.preventDefault(),onDrop:de=>{const _e=de.dataTransfer.getData("buttonId"),ge=s.findIndex(Ae=>Ae.id===_e),te=s.findIndex(Ae=>Ae.id===a.id);if(ge===te)return;const Ke=[...s],[$e]=Ke.splice(ge,1);Ke.splice(te,0,$e),m(Ke)},children:[(0,e.jsxs)("button",{type:"button","aria-pressed":t.toggleMode?.enabled?I.isActive:void 0,className:ue,title:ee||void 0,"aria-label":Me,style:{..._(a,P,I,{isLinkedRow:t.layout==="linked-row",isFirst:S===0,isLast:S===s.length-1}),"--hover-bg":a.enableHoverHighlight?a.hoverBgColor:"inherit","--hover-text":a.enableHoverHighlight?a.hoverTextColor:"inherit"},disabled:I.isProcessing,onClick:()=>Ue(a.id),onMouseDown:()=>et(a.id),onMouseUp:()=>De(a.id),onMouseLeave:()=>De(a.id),onTouchStart:()=>et(a.id),onTouchEnd:()=>De(a.id),children:[!a.hideIcon&&(0,e.jsx)("span",{className:"text-lg",children:O}),ce&&(0,e.jsx)("span",{children:G}),I.isProcessing&&(0,e.jsx)(Go,{className:"w-4 h-4 animate-spin"}),t.visuals?.showProgressArc&&I.isActive&&(0,e.jsx)("span",{className:"button-progress-ring"}),t.visuals?.enableParticleEffects&&(0,e.jsx)("span",{className:"button-ripple"},I.animationKey),I.energyCharge>0&&(0,e.jsx)("span",{className:"button-energy-ring",style:{background:`conic-gradient(#8B5CF6 ${I.energyCharge*3.6}deg, transparent 0deg)`}}),t.visuals?.badgesEnabled&&(0,e.jsx)("span",{className:"button-badge",children:we}),$?.propertyDone&&(0,e.jsxs)("span",{className:"button-done-pill",children:[(0,e.jsx)(Fe,{className:"w-3 h-3"}),(0,e.jsx)("span",{children:$.doneLabel})]}),W?.unlockField&&(0,e.jsx)("span",{className:`button-unlock-pill ${W.unlockReady?"button-unlock-pill--ready":""}`,children:W.unlockReady?"Unlocked":`Locked: ${W.unlockValue||"value"}`}),z&&(0,e.jsx)("span",{className:"button-complete",children:(0,e.jsx)(Fe,{className:"w-4 h-4"})}),W?.limitReached&&(0,e.jsx)("span",{className:"button-limit-overlay",children:"Limit reached"}),a.behaviorType==="secret"&&I.secretUnlocked&&(0,e.jsx)("span",{className:"button-secret-pill",children:"Secret ready"})]}),P?.badge&&(0,e.jsx)("div",{className:"mt-1 text-[11px] text-center text-purple-300 font-semibold",children:P.badge}),W?.mode&&(0,e.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-0.5",children:["Mode: ",W.mode]}),a.behaviorType==="playlist"&&E.length>0&&(0,e.jsxs)("div",{className:"text-[10px] text-center text-sky-300 mt-1",children:["Now playing: ",E[I.playlistIndex%E.length]]}),t.toggleMode?.enabled&&(0,e.jsx)("div",{className:"text-[11px] text-center mt-1",style:{color:I.isActive?"#10B981":"#F87171"},children:I.isActive?"Active - Logging":"Inactive"}),t.dataAware?.enabled&&(0,e.jsxs)("div",{className:`mt-1 text-[11px] flex items-center gap-1 justify-center ${$?.status==="warning"?"text-amber-400":$?.status==="success"?"text-emerald-400":"text-neutral-400"}`,children:[(0,e.jsx)("span",{children:$?.icon||"⚡"}),(0,e.jsxs)("span",{children:[t.dataAware.metricLabel||"Metric",": ",we,"/",t.dataAware.goal||0]})]}),t.inputMode?.enabled&&I.awaitingInput&&(0,e.jsxs)("div",{className:"mt-2 w-full bg-white/10 border border-white/20 rounded-lg p-3 space-y-2",children:[(0,e.jsx)("label",{className:"text-[11px] uppercase tracking-wide text-neutral-200 font-semibold",children:t.inputMode.label||"Add quick note"}),(0,e.jsx)("input",{type:"text",value:I.inputValue,onChange:de=>Le(a.id,de.target.value),placeholder:t.inputMode.placeholder,className:"w-full bg-black/20 border border-white/20 rounded px-3 py-2 text-sm text-white focus:border-purple-400 outline-none"}),Z.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.map(de=>(0,e.jsx)("button",{type:"button",className:"text-[10px] px-2 py-1 bg-white/5 rounded-full text-neutral-300 border border-white/10 hover:border-purple-400",onClick:()=>Le(a.id,de),children:de},de))}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{type:"button",className:"flex-1 bg-purple-600 text-white rounded px-3 py-1.5 text-xs font-semibold hover:bg-purple-500",onClick:()=>Be(a.id),children:"Run Macro"}),(0,e.jsx)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded border border-white/20 text-neutral-300 hover:text-white",onClick:()=>ut(a.id),children:"Cancel"})]})]}),I.macroLog.length>0&&(0,e.jsx)("div",{className:"mt-2 text-[11px] text-neutral-300 bg-white/5 rounded p-2 space-y-1 max-w-xs",children:I.macroLog.slice(-3).map((de,_e)=>(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(ye,{className:"w-3 h-3 text-purple-300"}),(0,e.jsx)("span",{children:de})]},`${a.id}-log-${_e}`))}),a.behaviorType==="secret"&&I.secretUnlocked&&(0,e.jsx)("div",{className:"mt-2 text-[11px] text-purple-200 bg-purple-900/30 border border-purple-500/40 rounded p-2",children:"Secret UI unlocked! Tap to run hidden macros."}),(0,e.jsxs)("div",{className:"absolute top-0 right-0 p-1 bg-neutral-800 rounded-bl-lg opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:[(0,e.jsx)("button",{onClick:()=>xe(a.id),className:"p-1 rounded bg-blue-500 hover:bg-blue-600 text-white text-xs",children:(0,e.jsx)(ur,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>J(a.id),className:"p-1 rounded bg-yellow-500 hover:bg-yellow-600 text-white text-xs",children:(0,e.jsx)(qe,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>g(a.id),className:"p-1 rounded bg-gray-500 hover:bg-gray-600 text-white text-xs",children:(0,e.jsx)(Yo,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>me(a.id),className:"p-1 rounded bg-red-500 hover:bg-red-600 text-white text-xs",children:(0,e.jsx)($r,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>ve(a.id,"up"),disabled:S===0,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,e.jsx)(ea,{className:"w-3 h-3"})}),(0,e.jsx)("button",{onClick:()=>ve(a.id,"down"),disabled:S===s.length-1,className:"p-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs disabled:opacity-50",children:(0,e.jsx)(Vt,{className:"w-3 h-3"})})]})]},a.id)})}),brandKitInfo&&(0,e.jsxs)("div",{className:"mt-8 w-full max-w-2xl bg-white/5 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Brand Kit"}),(0,e.jsx)("p",{className:"text-sm font-semibold text-white",children:brandKitInfo.label}),brandKitInfo.appliedAt&&(0,e.jsxs)("p",{className:"text-[10px] text-neutral-400 mt-0.5",children:["Synced ",new Date(brandKitInfo.appliedAt).toLocaleString()]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>y(!0),children:"Guide"}),(0,e.jsx)("button",{type:"button",className:"text-xs px-3 py-1.5 rounded-md border border-white/20 text-neutral-200 hover:border-purple-400 transition-colors",onClick:()=>w("global"),children:"Surface Settings"})]})]}),(0,e.jsx)("p",{className:"text-[11px] text-neutral-400",children:"Colors pulled from your Brand Theme Generator snapshot are powering this widget."}),brandKitInfo.swatches.length>0&&(0,e.jsx)("div",{className:"grid grid-cols-2 gap-3",children:brandKitInfo.swatches.map(({label:a,color:S})=>(0,e.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,e.jsx)("div",{className:"h-10 rounded-md border border-white/10 mb-1",style:{backgroundColor:S||"#0B0E12"}}),(0,e.jsx)("div",{className:"text-[10px] uppercase text-neutral-400",children:a}),(0,e.jsx)("div",{className:"text-[11px] font-mono text-neutral-200",children:S||"--"})]},`${a}-${S}`))}),brandKitInfo.palette.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:brandKitInfo.palette.map((a,S)=>(0,e.jsxs)("div",{className:"flex flex-col items-center",children:[(0,e.jsx)("div",{className:"w-8 h-8 rounded-full border border-white/15",style:{backgroundColor:a}}),(0,e.jsx)("span",{className:"text-[9px] text-neutral-400 mt-1",children:a})]},`${a}-${S}`))})]}),W&&(0,e.jsxs)("div",{className:"mt-6 w-full max-w-2xl bg-black/30 border border-white/10 rounded-2xl p-4 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Notion Integration"}),(0,e.jsx)("p",{className:"text-base font-semibold text-white",children:W.databaseLabel}),(0,e.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-300 mt-1 flex-wrap",children:[(0,e.jsxs)("span",{className:"flex items-center gap-1",children:[(0,e.jsx)(Lo,{className:"w-4 h-4 text-purple-300"}),W.actionLabel]}),(0,e.jsxs)("span",{className:"flex items-center gap-1",children:[(0,e.jsx)(Fo,{className:"w-4 h-4 text-purple-300"}),W.template||"No template selected"]})]})]}),(0,e.jsx)("button",{type:"button",className:"ml-auto text-xs px-3 py-1.5 rounded-md bg-purple-600 text-white font-semibold hover:bg-purple-500 transition-colors",onClick:()=>w("notionIntegration"),children:"Customize Sync"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"text-xs uppercase text-neutral-400",children:"Prefill Properties"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:W.prefill.length>0?W.prefill.map(({key:a,value:S})=>(0,e.jsxs)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/15 text-[11px] text-neutral-200",children:[a,": ",(0,e.jsx)("span",{className:"text-white",children:S||"value"})]},`${a}-${S}`)):(0,e.jsx)("span",{className:"text-[11px] text-neutral-500",children:"No prefill properties configured."})})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{className:`p-3 rounded-lg border ${W.unlockReady?"border-emerald-400 bg-emerald-500/10":"border-amber-300/50 bg-amber-500/10"}`,children:[(0,e.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,e.jsx)("span",{children:"Unlock Field"}),(0,e.jsx)("span",{children:W.unlockReady?"Unlocked":"Locked"})]}),(0,e.jsx)("div",{className:"text-sm font-semibold text-white mt-1",children:W.unlockField||"No field selected"}),!W.unlockReady&&W.unlockValue&&(0,e.jsxs)("div",{className:"text-xs text-neutral-300 mt-1",children:["Waiting for ",(0,e.jsx)("span",{className:"font-semibold",children:W.unlockValue})," (current: ",W.currentFieldValue||"n/a",")"]})]}),W.conditionalLabel&&(0,e.jsxs)("div",{className:"p-3 rounded-lg border border-purple-400/30 bg-purple-500/10",children:[(0,e.jsxs)("div",{className:"text-xs uppercase text-neutral-200 flex justify-between",children:[(0,e.jsx)("span",{children:W.conditionalLabel}),(0,e.jsx)("span",{children:W.conditionResolved?"Condition Met":"Waiting"})]}),(0,e.jsx)("div",{className:"text-sm text-white mt-1",children:W.conditionalAction||"No fallback action configured"})]})]}),(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase text-neutral-400",children:[(0,e.jsxs)("span",{children:[(0,e.jsx)(zo,{className:"w-3 h-3 inline mr-1"})," Structured Log Preview"]}),(0,e.jsxs)("span",{children:[structuredLog.length,"/5 entries"]})]}),structuredLog.length===0?(0,e.jsx)("div",{className:"text-[11px] text-neutral-500 bg-white/5 rounded-lg px-3 py-2",children:"Run the button to see the Notion payload preview."}):(0,e.jsx)("div",{className:"space-y-1",children:structuredLog.map(a=>(0,e.jsxs)("div",{className:"flex items-center justify-between text-[11px] bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-neutral-200",children:[(0,e.jsxs)("span",{children:[a.timestamp," - ",a.buttonLabel,a.behavior?` (${a.behavior})`:""]}),(0,e.jsx)("span",{className:"text-purple-300",children:a.action})]},a.id))}),(0,e.jsxs)("div",{className:"text-[10px] text-neutral-400",children:["Destination: ",(0,e.jsx)("span",{className:"text-neutral-200",children:W.logDestination})]})]})]}),d&&(0,e.jsxs)("div",{className:"mt-8 p-4 border rounded-lg shadow-lg bg-white w-full max-w-lg z-20",children:[(0,e.jsxs)("h3",{className:"font-bold text-lg mb-4 flex justify-between items-center",children:["Edit Button: ",s.find(a=>a.id===d)?.label,(0,e.jsx)("button",{onClick:()=>g(null),className:"text-neutral-500 hover:text-neutral-700",children:(0,e.jsx)(Ze,{className:"w-4 h-4"})})]}),f!==-1&&(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Label"}),(0,e.jsx)("input",{type:"text",value:s[f].label,onChange:a=>pe(d,"label",a.target.value),className:"w-full p-2 border rounded-md"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Icon"}),(0,e.jsx)("input",{type:"text",value:s[f].icon,onChange:a=>pe(d,"icon",a.target.value),className:"w-full p-2 border rounded-md",placeholder:"e.g., ✨"})]}),(0,e.jsxs)("label",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"checkbox",checked:s[f].hideIcon,onChange:a=>pe(d,"hideIcon",a.target.checked)})," Hide Icon"]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"URL"}),(0,e.jsx)("input",{type:"url",value:s[f].url,onChange:a=>pe(d,"url",a.target.value),className:"w-full p-2 border rounded-md",placeholder:"https://domain.ext/path"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Color Presets"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(H).map(a=>(0,e.jsx)("button",{onClick:()=>R(d,a),className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:H[a].bgColor,color:H[a].textColor},children:a},a))})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Advanced Colors"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Background Color"}),(0,e.jsx)("input",{type:"color",value:s[f].bgColor,onChange:a=>pe(d,"bgColor",a.target.value)})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-neutral-700",children:["Background Opacity (",s[f].bgOpacity,"%)"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:s[f].bgOpacity,onChange:a=>pe(d,"bgOpacity",parseInt(a.target.value,10))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Outline Color"}),(0,e.jsx)("input",{type:"color",value:s[f].outlineColor,onChange:a=>pe(d,"outlineColor",a.target.value)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Text Color"}),(0,e.jsx)("input",{type:"color",value:s[f].textColor,onChange:a=>pe(d,"textColor",a.target.value)})]}),(0,e.jsxs)("label",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"checkbox",checked:s[f].enableHoverHighlight,onChange:a=>pe(d,"enableHoverHighlight",a.target.checked)})," Enable Hover Highlight"]}),s[f].enableHoverHighlight&&(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Background Color"}),(0,e.jsx)("input",{type:"color",value:s[f].hoverBgColor,onChange:a=>pe(d,"hoverBgColor",a.target.value)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Hover Text Color"}),(0,e.jsx)("input",{type:"color",value:s[f].hoverTextColor,onChange:a=>pe(d,"hoverTextColor",a.target.value)})]})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("h4",{className:"text-sm font-bold text-neutral-700 border-b pb-1",children:"Layout Options"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Size"}),(0,e.jsxs)("select",{value:s[f].size,onChange:a=>pe(d,"size",a.target.value),className:"w-full p-2 border rounded-md",children:[(0,e.jsx)("option",{value:"small",children:"Small"}),(0,e.jsx)("option",{value:"medium",children:"Medium"}),(0,e.jsx)("option",{value:"large",children:"Large"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Corner Rounding"}),(0,e.jsxs)("select",{value:s[f].rounding,onChange:a=>pe(d,"rounding",a.target.value),className:"w-full p-2 border rounded-md",children:[(0,e.jsx)("option",{value:"none",children:"None"}),(0,e.jsx)("option",{value:"slight",children:"Slight"}),(0,e.jsx)("option",{value:"round",children:"Round"})]})]})]})]})]}),(0,e.jsxs)("button",{onClick:ke,className:"mt-8 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[(0,e.jsx)(tr,{className:"w-4 h-4"})," Add Button"]}),t.showCustomizeButton&&(0,e.jsx)("button",{className:"absolute bottom-4 right-4 px-4 py-2 rounded-lg text-sm font-semibold bg-purple-600 text-white shadow-lg hover:scale-105 transition-transform",onClick:()=>w("macroInput"),children:"Customize Modes"}),N&&(0,e.jsx)("div",{className:"absolute inset-0 z-40 bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:(0,e.jsxs)("div",{className:"max-h-full overflow-y-auto w-full max-w-4xl bg-[#0B0E12] border border-white/15 rounded-2xl p-6 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{className:"text-xs uppercase tracking-wide text-neutral-400 flex items-center gap-2",children:[(0,e.jsx)(Ho,{className:"w-4 h-4 text-purple-300"}),"Configuration Playbook"]}),(0,e.jsx)("p",{className:"text-xl font-semibold text-white",children:"Customize every mode"}),(0,e.jsx)("p",{className:"text-sm text-neutral-300",children:"Use this quick reference whenever the Customize button is unavailable."})]}),(0,e.jsxs)("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-md border border-white/20 text-neutral-200 hover:text-white hover:border-purple-400 transition-colors flex items-center gap-1",onClick:()=>y(!1),children:[(0,e.jsx)(Ze,{className:"w-3 h-3"})," Close"]})]}),(0,e.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:bs.map(a=>(0,e.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-start gap-2",children:[(0,e.jsx)(Zt,{className:"w-4 h-4 text-purple-300 mt-1"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-sm font-semibold text-white",children:a.title}),(0,e.jsx)("p",{className:"text-xs text-neutral-300",children:a.description})]})]}),(0,e.jsx)("ul",{className:"space-y-1 text-xs text-neutral-200",children:a.items.map(S=>(0,e.jsxs)("li",{children:[(0,e.jsxs)("span",{className:"font-semibold text-white",children:[S.title,":"]})," ",S.body]},`${a.title}-${S.title}`))})]},a.title))})]})}),(0,e.jsx)("style",{children:`
        .button-live-preview {
          position: relative;
          outline: none;
          border: none;
          overflow: hidden;
          background: transparent;
        }
        .button-live-preview:hover:not(:disabled) {
          transform: translateY(-2px);
        }
        .button-live-preview--processing {
          opacity: 0.85;
        }
        .button-live-preview--active {
          animation: activeGlow 2.2s ease-in-out infinite;
        }
        .button-badge {
          position: absolute;
          top: 6px;
          right: 10px;
          background: rgba(0,0,0,0.3);
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          line-height: 1;
          border: 1px solid rgba(255,255,255,0.3);
        }
        .button-progress-ring {
          position: absolute;
          inset: 4px;
          border-radius: 999px;
          border: 2px solid rgba(255,255,255,0.2);
          border-top-color: rgba(255,255,255,0.7);
          animation: progressSpin 2.4s linear infinite;
          pointer-events: none;
        }
        .button-ripple {
          position: absolute;
          inset: -20%;
          border-radius: 50%;
          background: radial-gradient(circle, rgba(255,255,255,0.35) 0%, transparent 60%);
          animation: ripple 0.8s ease-out;
          pointer-events: none;
        }
        .button-energy-ring {
          position: absolute;
          inset: -6px;
          border-radius: 999px;
          background: conic-gradient(#8B5CF6 0deg, transparent 0deg);
          opacity: 0.7;
          transition: background 0.3s ease;
          pointer-events: none;
        }
        .button-live-preview--complete::after {
          content: '';
        }
        .button-complete {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(16,185,129,0.2);
          animation: completePop 0.4s ease forwards;
        }
        .button-done-pill {
          position: absolute;
          bottom: 6px;
          left: 10px;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          background: rgba(16,185,129,0.15);
          color: #059669;
          border: 1px solid rgba(16,185,129,0.35);
        }
        .button-done-pill svg {
          width: 12px;
          height: 12px;
        }
        .button-unlock-pill {
          position: absolute;
          top: 6px;
          left: 10px;
          padding: 2px 6px;
          border-radius: 999px;
          font-size: 10px;
          border: 1px solid rgba(251,191,36,0.6);
          background: rgba(251,191,36,0.15);
          color: #FBBF24;
        }
        .button-unlock-pill--ready {
          border-color: rgba(16,185,129,0.7);
          background: rgba(16,185,129,0.2);
          color: #10B981;
        }
        .button-limit-overlay {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(11,14,18,0.65);
          color: #F87171;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
        }
        .button-live-preview--streak {
          animation: streakGlow 1.8s ease-in-out infinite;
        }
        .button-live-preview--limited {
          opacity: 0.55;
        }
        .button-secret-pill {
          position: absolute;
          top: 6px;
          right: 10px;
          padding: 2px 6px;
          font-size: 10px;
          border-radius: 999px;
          background: rgba(168,85,247,0.2);
          border: 1px solid rgba(168,85,247,0.5);
          color: #E9D5FF;
          text-transform: uppercase;
          letter-spacing: 0.04em;
        }
        @keyframes activeGlow {
          0%, 100% { box-shadow: 0 0 12px rgba(139,92,246,0.45); }
          50% { box-shadow: 0 0 24px rgba(59,130,246,0.55); }
        }
        @keyframes streakGlow {
          0%, 100% { box-shadow: 0 0 18px rgba(59,130,246,0.45); }
          50% { box-shadow: 0 0 30px rgba(236,72,153,0.55); }
        }
        @keyframes ripple {
          from { transform: scale(0.6); opacity: 0.8; }
          to { transform: scale(1.2); opacity: 0; }
        }
        @keyframes progressSpin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes completePop {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})};var _s={id:"initial",label:"Button",icon:"?",hideIcon:!1,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:"",url:"https://indify.co",bgColor:"#8B5CF6",bgOpacity:100,outlineColor:"#8B5CF6",textColor:"#F8F9FF",enableHoverHighlight:!0,hoverBgColor:"#A78BFA",hoverTextColor:"#F8F9FF",size:"medium",rounding:"round"};const js={id:"newButtonGenerator",label:"Button Generator",icon:"MousePointerClick",description:"Create customizable buttons with advanced styling and actions.",defaultConfig:{buttons:[_s],layout:"horizontal",alignment:"center",useTransparentBackground:!1,setBackgroundColor:!0,backgroundColor:Y.colors.stardustWhite,appearanceMode:"system",showHoverMenu:!0,showCustomizeButton:!0,macroMode:{enabled:!0,actions:[{id:"log",type:"log",label:"Log quick note",delay:180},{id:"toggle",type:"toggle",label:"Toggle active state",delay:160},{id:"openLink",type:"openLink",label:"Open linked page",delay:220}],actionsText:["log|Log quick note|180","toggle|Toggle active state|160","openLink|Open linked page|220"].join(`
`)},inputMode:{enabled:!0,label:"Add quick note",placeholder:"Add quick note or intention...",hints:["Add quick note","Add task title","Add pomodoro session notes"]},cycleMode:{enabled:!0,values:[{id:"start",label:"Start >",badge:"Focus",color:"#8B5CF6"},{id:"pause",label:"Pause ||",badge:"Rest",color:"#F59E0B"},{id:"skip",label:"Skip >>",badge:"Move",color:"#06B6D4"},{id:"complete",label:"Complete Done",badge:"Ship",color:"#10B981"}],valuesText:["Start >|Focus|#8B5CF6","Pause |||Rest|#F59E0B","Skip >>|Move|#06B6D4","Complete Done|Ship|#10B981"].join(`
`)},toggleMode:{enabled:!0,startActive:!1,glowWhenActive:!0,logToNotion:!0},visuals:{enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0,badgeLabel:"Logs today"},notionIntegration:{enabled:!0,database:"tasks",action:"create",template:"Daily Log",prefillPropertiesText:"Status=In Progress;Owner=Me",logEntries:!0,logDestination:"Console Preview",unlockField:"Mode",unlockValue:"Focus",currentFieldValue:"Focus",twoWay:{taskCompleted:!1,limitReached:!1,mode:"Focus"},conditional:{label:"If timer active",conditionMet:!1,thenAction:"Pause timer",elseAction:"Start focus"}},dataAware:{enabled:!0,metricLabel:"Logs today",sampleValue:3,goal:5,warningThreshold:2,statusIcon:"⚡",tasksIncomplete:!1,pomodoroStreakActive:!1,propertyDone:!1,doneLabel:"Marked Done",timerActive:!1,streakBroken:!1,projectTag:"General",projectTagTarget:"Music",musicTooltip:"Logs in Music DB",projectTagColor:"#C026D3",dynamicLabelsText:`Press Me
Let's cook 🔥
Energy +1
Keep grinding`}},sections:[{id:"global",label:"1. WIDGET SURFACE",description:"Dial in the canvas surrounding your buttons - transparency, background colors, and appearance mode."},{id:"layout",label:"2. BUTTON MODES",description:"Modes create entire categories of button behavior.",notes:[{title:"Action Mode",body:"Executes a single action such as logging, toggling, or opening a link."}]},{id:"macroInput",label:"3. MACRO + INPUT MODES",description:"Macro Mode chains multiple actions, while Input Mode collects context before launching the macro.",notes:[{title:"Macro Mode",body:"Executes sequential actions such as logging, toggling, opening links or changing states."},{title:"Input Mode",body:"Shows a miniature note field before running macros (quick note, task title, pomodoro notes, etc.)."}]},{id:"cycleToggle",label:"4. CYCLE + TOGGLE STATES",description:"Each press can cycle through preset states or flip a persistent toggle with Notion logging.",notes:[{title:"Cycle Mode",body:"Cycle through styles/statuses/views each press (Start, Pause, Skip, Complete)."},{title:"Toggle Mode",body:"Button keeps an Active/Inactive state, glows while active, and logs state changes."}]},{id:"notionIntegration",label:"5. NOTION INTEGRATION FEATURES",description:"Connect each button to a Notion database, templates, structured logs, and two-way conditions.",notes:[{title:"Connect to Database",body:"Pick Tasks, Journal, Habits, or Pomodoros and choose Create, Update, or Toggle actions."},{title:"Templates and Prefill",body:"Assign database templates and property defaults per button."},{title:"Two-Way Sync",body:"Grey out or switch modes when Notion properties hit certain states (completed, limits, focus modes)."},{title:"Conditional Actions",body:"If property/value matches, route to alternate actions (pause vs start, etc.)."}]},{id:"visuals",label:"6. VISUAL & INTERACTIVE FEATURES",description:"Make the button feel worth clicking with tactile feedback.",notes:[{title:"Animated States",body:"Pressed, held, activated, disabled, and completion bursts."},{title:"Particle or Trace Effects",body:"Neon ripple, energy pulse, pixel burst, glow sweep, magnetic hover."},{title:"Active Duration Glow",body:"Pulses, color shifts, and progress arcs while the macro runs."},{title:"Button Badges",body:"Counts, status icons, warning dots, or data pills."}]},{id:"dataAware",label:"7. DATA-AWARE BUTTONS",description:"Buttons that adapt visually based on Notion data (counts, targets, warnings).",notes:[{title:"Visual cues",body:"Success aura on goal reached, warning glow when under target, metric badges."}]}],fields:[{name:"useTransparentBackground",label:"Transparent Widget Background",type:"boolean",section:"global"},{name:"setBackgroundColor",label:"Set Widget Background Color",type:"boolean",section:"global"},{name:"backgroundColor",label:"Widget Background Color",type:"color",section:"global"},{name:"appearanceMode",label:"Dark/Light Appearance",type:"select",section:"global",options:[{label:"Do Nothing",value:"none"},{label:"Use System Setting",value:"system"},{label:"Light",value:"light"},{label:"Dark",value:"dark"}]},{name:"showHoverMenu",label:"Show Hover Menu",type:"boolean",section:"global"},{name:"showCustomizeButton",label:"Show Customize Button",type:"boolean",section:"global"},{name:"layout",label:"Button Layout",type:"select",section:"layout",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Full Width",value:"full-width"},{label:"Vertical Stack",value:"vertical-stack"},{label:"Inline Cluster",value:"inline-cluster"},{label:"Linked Row",value:"linked-row"},{label:"Grid",value:"grid"}]},{name:"alignment",label:"Button Alignment",type:"select",section:"layout",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Space Evenly",value:"space-evenly"}]},{name:"macroMode.enabled",label:"Enable Macro Mode",type:"boolean",section:"macroInput"},{name:"macroMode.actionsText",label:"Macro Action Sequence (type|label|delay)",type:"textarea",rows:3,section:"macroInput"},{name:"inputMode.enabled",label:"Enable Input Prompt",type:"boolean",section:"macroInput"},{name:"inputMode.label",label:"Input Prompt Label",type:"text",section:"macroInput"},{name:"inputMode.placeholder",label:"Input Placeholder",type:"text",section:"macroInput"},{name:"inputMode.hints",label:"Input Hints (one per line)",type:"textarea",rows:3,section:"macroInput"},{name:"cycleMode.enabled",label:"Enable Cycle Mode",type:"boolean",section:"cycleToggle"},{name:"cycleMode.valuesText",label:"Cycle Presets (label|badge|color)",type:"textarea",rows:4,section:"cycleToggle"},{name:"toggleMode.enabled",label:"Enable Toggle Mode",type:"boolean",section:"cycleToggle"},{name:"toggleMode.startActive",label:"Start Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.glowWhenActive",label:"Glow When Active",type:"boolean",section:"cycleToggle"},{name:"toggleMode.logToNotion",label:"Log Toggle State (Notion)",type:"boolean",section:"cycleToggle"},{name:"notionIntegration.enabled",label:"Enable Notion Integration",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.database",label:"Database",type:"select",section:"notionIntegration",options:[{label:"Tasks",value:"tasks"},{label:"Journal",value:"journal"},{label:"Habits",value:"habits"},{label:"Pomodoros",value:"pomodoros"}]},{name:"notionIntegration.action",label:"Action",type:"select",section:"notionIntegration",options:[{label:"Create Row",value:"create"},{label:"Update Property",value:"update"},{label:"Toggle Checkbox",value:"toggle"}]},{name:"notionIntegration.template",label:"Template Name",type:"text",section:"notionIntegration"},{name:"notionIntegration.prefillPropertiesText",label:"Prefill Properties (key=value;key=value)",type:"textarea",rows:2,section:"notionIntegration"},{name:"notionIntegration.logEntries",label:"Structured Logging",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.logDestination",label:"Log Destination",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockField",label:"Unlock Field",type:"text",section:"notionIntegration"},{name:"notionIntegration.unlockValue",label:"Unlock Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.currentFieldValue",label:"Current Field Value",type:"text",section:"notionIntegration"},{name:"notionIntegration.twoWay.taskCompleted",label:"Two-Way - Task Completed",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.limitReached",label:"Two-Way - Limit Reached",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.twoWay.mode",label:"Two-Way - Mode Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.label",label:"Conditional Label",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.conditionMet",label:"Conditional – Condition Met",type:"boolean",section:"notionIntegration"},{name:"notionIntegration.conditional.thenAction",label:"Conditional – If True Action",type:"text",section:"notionIntegration"},{name:"notionIntegration.conditional.elseAction",label:"Conditional – If False Action",type:"text",section:"notionIntegration"},{name:"visuals.enableParticleEffects",label:"Enable Particle Effects",type:"boolean",section:"visuals"},{name:"visuals.activeGlow",label:"Active Duration Glow",type:"boolean",section:"visuals"},{name:"visuals.showProgressArc",label:"Show Progress Arc",type:"boolean",section:"visuals"},{name:"visuals.badgesEnabled",label:"Show Button Badges",type:"boolean",section:"visuals"},{name:"visuals.badgeLabel",label:"Badge Label",type:"text",section:"visuals"},{name:"dataAware.enabled",label:"Enable Data-Aware Styling",type:"boolean",section:"dataAware"},{name:"dataAware.metricLabel",label:"Metric Label",type:"text",section:"dataAware"},{name:"dataAware.sampleValue",label:"Sample value",type:"number",section:"dataAware"},{name:"dataAware.goal",label:"Goal target",type:"number",section:"dataAware"},{name:"dataAware.warningThreshold",label:"Warning threshold",type:"number",section:"dataAware"},{name:"dataAware.statusIcon",label:"Status Icon",type:"text",section:"dataAware"},{name:"dataAware.tasksIncomplete",label:"Mark as Tasks Incomplete",type:"boolean",section:"dataAware"},{name:"dataAware.pomodoroStreakActive",label:"Pomodoro Streak Active",type:"boolean",section:"dataAware"},{name:"dataAware.propertyDone",label:"Property Marked Done",type:"boolean",section:"dataAware"},{name:"dataAware.doneLabel",label:"Done Badge Label",type:"text",section:"dataAware"},{name:"dataAware.timerActive",label:"Timer Currently Active",type:"boolean",section:"dataAware"},{name:"dataAware.streakBroken",label:"Streak Broken",type:"boolean",section:"dataAware"},{name:"dataAware.projectTag",label:"Current Project Tag",type:"text",section:"dataAware"},{name:"dataAware.projectTagTarget",label:"Music Tag Target",type:"text",section:"dataAware"},{name:"dataAware.musicTooltip",label:"Music Tag Tooltip",type:"text",section:"dataAware"},{name:"dataAware.projectTagColor",label:"Music Tag Accent Color",type:"color",section:"dataAware"},{name:"dataAware.dynamicLabelsText",label:"Dynamic Labels (one per line)",type:"textarea",rows:4,section:"dataAware"}]};var $t=t=>{if(typeof t!="string")return t;const o={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return t.replace(/[&<>'"]/g,r=>o[r])};const Cs=t=>{const o=t.useTransparentBackground?"transparent":t.backgroundColor,r=Array.isArray(t.buttons)?t.buttons:[],n=u=>{const c=u.rounding==="none"?"0px":u.rounding==="slight"?"8px":"9999px",s=u.size==="small"?"8px 16px":u.size==="large"?"16px 32px":"12px 24px",m=u.size==="small"?"0.875rem":u.size==="large"?"1.25rem":"1rem",d=u.outlineColor==="transparent"?"0px":"1px",g=u.enableHoverHighlight?u.hoverBgColor:u.bgColor,l=u.enableHoverHighlight?u.hoverTextColor:u.textColor;return`
          background-color: ${u.bgColor}${u.bgOpacity<100?Math.round(255*(u.bgOpacity/100)).toString(16).padStart(2,"0"):""};
          color: ${u.textColor};
          border: ${d} solid ${u.outlineColor};
          border-radius: ${c};
          padding: ${s};
          font-size: ${m};
          font-family: inherit;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          text-decoration: none;
          cursor: pointer;
          flex-shrink: 0;
          width: ${t.layout==="full-width"?"100%":"auto"};
          text-align: center;
          box-shadow: 0 0 ${Y.effects.glowBlur} rgba(0,0,0,0.2);
          transition: all 0.2s ease-in-out;
          --hover-bg: ${g};
          --hover-text: ${l};
      `};return`
    <div style="
      display: flex; 
      align-items: center; 
      justify-content: center; 
      height: 100vh; 
      width: 100vw; 
      background: ${o};
      padding: 16px;
      box-sizing: border-box;
    ">
      <div style="${`
      display: flex;
      gap: 16px;
      flex-wrap: ${t.layout==="vertical"?"nowrap":"wrap"};
      flex-direction: ${t.layout==="vertical"?"column":"row"};
      justify-content: ${t.alignment==="space-evenly"?"space-evenly":t.alignment==="center"?"center":t.alignment==="left"?"flex-start":"flex-end"};
      width: ${t.layout==="full-width"?"100%":"auto"};
      height: 100%;
      align-items: ${t.layout==="full-width"&&t.alignment==="center"?"center":t.layout==="full-width"&&t.alignment==="left"?"flex-start":t.layout==="full-width"&&t.alignment==="right"?"flex-end":"initial"}; /* Adjusted for full-width alignment */
  `}">
        ${r.map(u=>`
          <a href="${$t(u.url)}" target="_blank" rel="noopener noreferrer" 
             style="${n(u)}"
             class="generated-button"
          >
            ${u.hideIcon?"":$t(u.icon)}
            <span>${$t(u.label)}</span>
          </a>
        `).join("")}
      </div>
      <style>
        .generated-button:hover {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      </style>
    </div>
  `},Ns=()=>"";var Mt={background:"#0B0E12",text:"#F8F9FF",primary:"#8B5CF6",secondary:"#3B82F6"};const Ie=(t,o={})=>{if(!t)return null;const r=typeof t=="object"?t:{},n=Array.isArray(r.palette)?r.palette:[],u=o.backgroundColor??r.backgroundColor??r.background??n[n.length-1]??Mt.background,c=o.textColor??r.textColor??r.text??n[0]??Mt.text,s=o.clockColor??r.clockColor??r.primaryColor??r.primary??Mt.primary,m=o.digitColor??r.digitColor??r.secondaryColor??r.secondary??Mt.secondary,d=o.accentColor??r.accentColor??r.accent??s,g=o.presetName??r.presetName??r.name,l={...r,...o,palette:n,presetName:g,name:r.name||g||"Custom Brand Theme",background:u,text:c,primary:r.primary??s,secondary:r.secondary??m,accent:r.accent??d,backgroundColor:u,textColor:c,clockColor:s,digitColor:m,accentColor:d};return l.colors={...r.colors,background:u,text:c,primary:l.primary,secondary:l.secondary,accent:l.accent,palette:n},l};var Pr=(t,o,r)=>"#"+[t,o,r].map(n=>{const u=n.toString(16);return u.length===1?"0"+u:u}).join(""),lr=t=>{const r=(s=>{const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return m?{r:parseInt(m[1],16),g:parseInt(m[2],16),b:parseInt(m[3],16)}:null})(t);if(!r)return 0;const[n,u,c]=[r.r,r.g,r.b].map(s=>(s=s/255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return .2126*n+.7152*u+.0722*c},Ss=t=>[...t].sort((o,r)=>lr(o)-lr(r)),xo=({onColorsExtracted:t,onLogoUploaded:o})=>{const[r,n]=(0,h.useState)(!1),[u,c]=(0,h.useState)(null),[s,m]=(0,h.useState)(null),[d,g]=(0,h.useState)([]),l=(0,h.useRef)(null),p=(0,h.useRef)(null),x=async N=>{const y=N.target.files?.[0];if(!y)return;n(!0);const v=new FileReader;v.onload=j=>{const w=j.target.result;c(w),o&&o(w)},v.readAsDataURL(y)},k=N=>{if(!N||!N.palette||N.palette.length===0)return[];const y=Ss(N.palette),v=y[0],j=y[y.length-1],w=N.primary||v,T=N.secondary||y[1]||v,f=N.accent,H=[],Q=(D,B=null)=>{const C={...Y,colors:{...Y.colors,primary:w,secondary:T,accent:f,background:D.backgroundColor,text:D.textColor,palette:N.palette},...D};return C.isDark=B!==null?B:lr(C.colors.background)<.5,Ie(C)};return H.push(Q({id:"vibrant",name:"Vibrant",backgroundColor:j,textColor:v,primaryColor:w,secondaryColor:T,accentColor:f,panelColor:w,digitColor:j})),H.push(Q({id:"dark-mode",name:"Dark Mode",backgroundColor:v,textColor:j,primaryColor:w,secondaryColor:T,accentColor:f,panelColor:v,digitColor:j},!0)),H.push(Q({id:"light-mode",name:"Light Mode",backgroundColor:j,textColor:v,primaryColor:w,secondaryColor:T,accentColor:f,panelColor:j,digitColor:v},!1)),H},F=()=>{if(!p.current)return;const N=new st;try{const y=N.getColor(p.current),v=N.getPalette(p.current,8);if(!y||!v||v.length===0){n(!1),c(null);return}const j=v.map(f=>Pr(f[0],f[1],f[2])),w=Pr(y[0],y[1],y[2]),T=Ie({...Y,primary:w,secondary:j[1]||j[0],accent:j[2]||j[1],background:j[j.length-1],text:j[0],palette:j,colors:{...Y.colors,primary:w,secondary:j[1]||j[0],accent:j[2]||j[1]}});m(T),g(k(T)),n(!1),t&&t(T)}catch{n(!1),c(null)}};return(0,e.jsxs)("div",{className:"p-4 bg-gradient-to-br from-purple-900/20 to-blue-900/20 rounded-lg mb-4 border border-purple-500/30",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)(ye,{className:"w-4 h-4 text-purple-400"}),(0,e.jsx)("h4",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold",children:"Brand Logo Color Extraction"})]}),(0,e.jsx)("input",{ref:l,type:"file",accept:"image/*",onChange:x,className:"hidden"}),u?(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("img",{ref:p,src:u,alt:"Brand logo",crossOrigin:"anonymous",onLoad:F,className:"w-full h-32 object-contain bg-white/5 rounded-lg"}),(0,e.jsx)("button",{onClick:()=>{c(null),m(null),g([]),o&&o(null),t&&t(null)},className:"absolute top-2 right-2 p-1 bg-red-500/80 hover:bg-red-500 rounded text-white",children:(0,e.jsx)(Ze,{className:"w-4 h-4"})})]}),r&&(0,e.jsxs)("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[(0,e.jsx)(So,{className:"w-4 h-4 animate-spin"}),"Extracting colors..."]}),s&&(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[(0,e.jsx)(Fe,{className:"w-3 h-3"}),"Colors extracted successfully!"]}),(0,e.jsx)("div",{className:"grid grid-cols-4 gap-2",children:s.palette.map((N,y)=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"w-full h-10 rounded border border-white/20 shadow-lg",style:{backgroundColor:N},title:N}),(0,e.jsx)("div",{className:"text-[8px] text-white/50 mt-1 font-mono",children:N})]},y))}),d.length>0&&(0,e.jsxs)("div",{className:"mt-4",children:[(0,e.jsx)("h5",{className:"text-xs uppercase tracking-wider text-purple-300 font-semibold mb-2",children:"Theme Variations"}),(0,e.jsx)("div",{className:"flex gap-2 justify-center",children:d.map(N=>(0,e.jsxs)("button",{onClick:()=>t&&t(Ie(N)),className:"flex flex-col items-center p-2 rounded-lg border border-purple-500/30 hover:border-purple-500 transition-colors",title:`Apply ${N.name} Theme`,children:[(0,e.jsx)("div",{className:"w-12 h-6 rounded-md mb-1",style:{background:N.backgroundColor,border:`1px solid ${N.primaryColor}`}}),(0,e.jsx)("span",{className:"text-[10px] text-white/70",children:N.name})]},N.id))})]})]})]}):(0,e.jsxs)("button",{onClick:()=>l.current?.click(),className:"w-full py-8 border-2 border-dashed border-purple-400/50 rounded-lg hover:border-purple-400 hover:bg-purple-500/10 transition-all flex flex-col items-center gap-2 text-purple-300 hover:text-purple-200",children:[(0,e.jsx)(Do,{className:"w-8 h-8"}),(0,e.jsx)("span",{className:"text-sm font-medium",children:"Upload Brand Logo"}),(0,e.jsx)("span",{className:"text-xs text-purple-400/70",children:"Auto-extract colors for your widget"})]})]})},Ts={clock:vt,quotes:Ur,counter:Hr,imageGallery:xr,countdown:qr,newButtonGenerator:dr,weather:yt},Fs=()=>{if(typeof window>"u")return null;const t=window.localStorage.getItem("jazer_brand_theme");if(!t)return null;try{const o=JSON.parse(t);if(o&&o.palette&&Array.isArray(o.palette)&&o.palette.length>0)return Ie(o);window.localStorage.removeItem("jazer_brand_theme")}catch{window.localStorage.removeItem("jazer_brand_theme")}return null},Is=({onBack:t,onThemeGenerated:o})=>{console.log("[BrandThemeGenerator v2] Component loaded - Dec 4 2024");const[r,n]=(0,h.useState)(()=>Fs()),u=(0,h.useMemo)(()=>r?po(r):[],[r]),[c,s]=(0,h.useState)(null),m=(0,h.useMemo)(()=>{if(!u.length)return null;if(c){const v=u.find(j=>j.id===c);if(v)return v}return u[0]},[u,c]),[d,g]=(0,h.useState)(!0),[l,p]=(0,h.useState)(!1),x=v=>{if(!v){n(null),s(null);return}const j=Ie(v);n(j),s(null);try{localStorage.setItem("jazer_brand_theme",JSON.stringify(j))}catch{}},k=()=>{if(!r)return;const v=m?{...r,...m,palette:r?.palette||m.palette}:r,j=Ie(v,{presetName:m?.name??v?.presetName,name:m?.name??v?.name});localStorage.setItem("jazer_global_brand_theme",JSON.stringify(j)),localStorage.setItem("jazer_global_brand_active","true"),o&&o(j),p(!0),setTimeout(()=>p(!1),3e3)},F=()=>{window.confirm("This will remove your custom brand theme from all widgets. Continue?")&&(n(null),s(null),localStorage.removeItem("jazer_brand_theme"),localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active"),o&&o(null))},N=()=>{if(!r)return;const v={name:"Custom Brand Theme",timestamp:new Date().toISOString(),colors:r,presets:u},j=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),w=URL.createObjectURL(j),T=document.createElement("a");T.href=w,T.download="brand-theme.json",T.click(),URL.revokeObjectURL(w)},y=v=>{navigator.clipboard.writeText(v)};return(0,e.jsxs)("div",{className:"min-h-screen p-8 md:p-16 animate-fadeIn",style:{backgroundColor:"#000000",color:"#F8F9FF"},children:[(0,e.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsx)("button",{onClick:t,className:"p-3 rounded-xl transition-all hover:scale-105 btn-ghost",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",color:"var(--jazer-cyan)"},children:(0,e.jsx)(At,{className:"w-5 h-5"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight animate-float",style:{fontFamily:"var(--font-primary)",background:"var(--gradient-text)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textTransform:"uppercase"},children:"Brand Theme Generator"}),(0,e.jsx)("p",{className:"text-lg mt-2",style:{color:"var(--text-gray)",fontFamily:"var(--font-body)"},children:"Extract colors from your logo and apply them to all widgets"})]})]}),r&&(0,e.jsxs)("div",{className:"flex gap-3",children:[(0,e.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105 animate-glow",style:{background:"var(--gradient-accent)",color:"white",border:"2px solid var(--border-pink)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,e.jsx)(cr,{className:"w-4 h-4"}),"Export Theme"]}),(0,e.jsxs)("button",{onClick:F,className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all hover:scale-105",style:{background:"var(--bg-card)",color:"var(--text-gray)",border:"2px solid var(--border-default)",fontFamily:"var(--font-secondary)",textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.05em"},children:[(0,e.jsx)(hr,{className:"w-4 h-4"}),"Clear Theme"]})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,e.jsx)("div",{className:"space-y-6 animate-fadeInUp",children:(0,e.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-cyan)",boxShadow:"var(--shadow-cyan)"},children:[(0,e.jsx)(xo,{onColorsExtracted:x}),r&&r.palette&&(0,e.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wider",style:{color:"var(--text-gray)",fontFamily:"var(--font-secondary)"},children:"Extracted Colors"}),(0,e.jsx)("button",{onClick:()=>g(!d),className:"p-1 rounded transition-colors",style:{color:"var(--text-gray)"},children:d?(0,e.jsx)(Io,{className:"w-4 h-4"}):(0,e.jsx)(lt,{className:"w-4 h-4"})})]}),d&&r.palette&&Array.isArray(r.palette)&&(0,e.jsx)("div",{className:"grid grid-cols-4 gap-3",children:r.palette.map((v,j)=>(0,e.jsxs)("button",{onClick:()=>y(v),className:"group relative text-center transition-transform hover:scale-110",title:`Click to copy ${v}`,children:[(0,e.jsx)("div",{className:"w-full h-16 rounded-lg border-2 transition-all",style:{backgroundColor:v,borderColor:"rgba(255, 255, 255, 0.2)"}}),(0,e.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(0,0,0,0.7)"},children:(0,e.jsx)(ur,{className:"w-4 h-4",style:{color:"white"}})}),(0,e.jsx)("div",{className:"text-[9px] font-mono mt-1",style:{color:"var(--text-gray)"},children:v})]},j))}),(0,e.jsx)("button",{onClick:k,disabled:l,className:"w-full py-5 rounded-xl font-black text-lg flex items-center justify-center gap-3 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed animate-glow",style:{background:l?"linear-gradient(135deg, #00f2ea 0%, #4facfe 100%)":"var(--gradient-accent)",color:"white",fontFamily:"var(--font-primary)",textTransform:"uppercase",letterSpacing:"0.05em",border:l?"2px solid var(--jazer-cyan)":"2px solid var(--border-pink)",boxShadow:l?"var(--shadow-cyan)":"var(--shadow-card)"},children:l?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fe,{className:"w-6 h-6"}),m?`${m.name} Applied!`:"Theme Applied!"]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ye,{className:"w-6 h-6"}),m?`Apply ${m.name}`:"Apply to All Widgets"]})}),(0,e.jsx)("p",{className:"text-xs text-center",style:{color:"var(--text-gray)"},children:m?`This will apply "${m.name}" preset to all widgets`:"This will set your brand colors as the default for all widgets"})]})]})}),(0,e.jsx)("div",{className:"space-y-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:(0,e.jsxs)("div",{className:"glass-card",style:{border:"2px solid var(--border-purple)",boxShadow:"var(--shadow-purple)"},children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,e.jsx)(qe,{className:"w-7 h-7",style:{color:"var(--jazer-purple)"}}),(0,e.jsxs)("h3",{className:"text-2xl font-black",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:["Generated Presets (",u.length,")"]})]}),u.length===0?(0,e.jsxs)("div",{className:"text-center py-16 rounded-xl border-2 border-dashed",style:{borderColor:"var(--border-cyan)",color:"var(--text-gray)",background:"rgba(0, 242, 234, 0.05)"},children:[(0,e.jsx)(ye,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--jazer-cyan)",opacity:.6}}),(0,e.jsx)("p",{className:"text-xl font-bold",style:{fontFamily:"var(--font-secondary)",color:"white"},children:"Upload a logo to generate presets"}),(0,e.jsx)("p",{className:"text-sm mt-2",style:{fontFamily:"var(--font-body)"},children:"8 unique color schemes will be created automatically"})]}):(0,e.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:u.map(v=>(0,e.jsxs)("button",{onClick:()=>s(v.id),className:"w-full text-left p-5 rounded-xl transition-all hover:scale-[1.02]",style:{background:m?.id===v.id?"var(--gradient-card)":"var(--bg-card)",border:`2px solid ${m?.id===v.id?"var(--jazer-cyan)":"var(--border-default)"}`,boxShadow:m?.id===v.id?"var(--shadow-cyan)":"none"},children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-bold text-sm",style:{color:"white",fontFamily:"var(--font-secondary)"},children:v.name}),(0,e.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-gray)"},children:v.description})]}),m?.id===v.id&&(0,e.jsx)(Fe,{className:"w-5 h-5",style:{color:"var(--jazer-cyan)"}})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:v.backgroundColor},title:`Background: ${v.backgroundColor}`}),(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:v.clockColor},title:`Primary: ${v.clockColor}`}),(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:v.digitColor},title:`Digits: ${v.digitColor}`}),(0,e.jsx)("div",{className:"flex-1 h-8 rounded",style:{backgroundColor:v.textColor},title:`Text: ${v.textColor}`})]}),v.glow&&(0,e.jsxs)("div",{className:"mt-2 text-xs flex items-center gap-2",style:{color:"var(--jazer-cyan)"},children:[(0,e.jsx)(ye,{className:"w-3 h-3"}),"Includes glow effect"]})]},v.id))})]})})]}),r&&(0,e.jsxs)("div",{className:"glass-card animate-fadeInUp",style:{border:"2px solid var(--border-pink)",boxShadow:"var(--shadow-pink)",animationDelay:"0.2s"},children:[(0,e.jsxs)("h3",{className:"text-2xl font-black mb-6 flex items-center gap-3",style:{fontFamily:"var(--font-primary)",color:"white",textTransform:"uppercase",letterSpacing:"0.02em"},children:[(0,e.jsx)(ye,{className:"w-7 h-7",style:{color:"var(--jazer-pink)"}}),"Widgets Using Your Brand Theme"]}),(0,e.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(Ts).map(([v,j])=>(0,e.jsxs)("div",{className:"p-5 rounded-xl text-center transition-all hover:scale-105",style:{background:"var(--bg-card)",border:"2px solid var(--border-cyan)",boxShadow:"0 4px 12px rgba(0, 242, 234, 0.1)"},children:[(0,e.jsx)(j,{className:"w-10 h-10 mx-auto mb-3",style:{color:r?.primary||"var(--jazer-cyan)"}}),(0,e.jsx)("div",{className:"text-sm font-bold capitalize",style:{color:"white",fontFamily:"var(--font-secondary)"},children:v.replace(/([A-Z])/g," $1").trim()}),(0,e.jsx)("div",{className:"text-xs mt-1 font-medium",style:{color:"var(--jazer-cyan)",fontFamily:"var(--font-body)"},children:"Theme Active"})]},v))}),(0,e.jsx)("div",{className:"mt-6 p-5 rounded-xl",style:{background:"linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(255, 0, 110, 0.1))",border:"2px solid var(--border-purple)"},children:(0,e.jsxs)("p",{className:"text-sm leading-relaxed",style:{color:"white",fontFamily:"var(--font-body)"},children:["💡 ",(0,e.jsx)("strong",{style:{color:"var(--jazer-cyan)",fontWeight:700},children:"Pro Tip:"})," Your brand theme is saved locally and will be automatically applied to all widgets. You can always come back here to update or clear your theme."]})})]})]}),(0,e.jsx)("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #000000;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: var(--jazer-purple);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: var(--jazer-cyan);
        }
      `})]})},Bs=Is,Ms=(t,o,r)=>Math.max(o,Math.min(r,t));const As=({title:t="Upgrades",items:o=[],radius:r=120,maxItems:n=8})=>{const[u,c]=(0,h.useState)(!1),s=(0,h.useRef)(null),m=(0,h.useMemo)(()=>o.slice(0,Ms(n,1,12)),[o,n]),d=(0,h.useMemo)(()=>o.filter(l=>l.kind==="toggle"&&l.enabled).length,[o]);(0,h.useEffect)(()=>{if(!u)return;const l=x=>{x.key==="Escape"&&c(!1)},p=x=>{s.current&&(s.current.contains(x.target)||c(!1))};return window.addEventListener("keydown",l),window.addEventListener("pointerdown",p),()=>{window.removeEventListener("keydown",l),window.removeEventListener("pointerdown",p)}},[u]);const g=l=>{if(!u)return{transform:"translate(0px, 0px) scale(0.7)",opacity:0,pointerEvents:"none"};const p=m.length,x=-170,k=(p<=1?-90:x+l*(-60-x)/(p-1))*Math.PI/180;return{transform:`translate(${Math.cos(k)*r}px, ${Math.sin(k)*r}px) scale(1)`,opacity:1,pointerEvents:"auto"}};return(0,e.jsx)("div",{ref:s,className:"absolute bottom-4 right-4 z-30",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"absolute bottom-0 right-0 text-[10px] uppercase tracking-[0.3em] text-white/60",style:{transform:u?"translate(-8px, -56px)":"translate(-8px, -44px)",transition:"transform 160ms ease"},children:u?t:"Upgrade"}),m.map((l,p)=>{const x=l.icon||ye,k=l.kind==="toggle"?!!l.enabled:!1,F=k?"ring-2 ring-emerald-300/70":"ring-1 ring-white/10",N=k?"bg-emerald-500/20 border-emerald-300/40":"bg-white/10 border-white/15";return(0,e.jsx)("button",{type:"button",title:l.description?`${l.label} — ${l.description}`:l.label,onClick:()=>{if(l.kind==="toggle"){l.onToggle?.(!l.enabled),l.keepOpen||c(!1);return}l.onSelect?.(),c(!1)},className:`absolute bottom-0 right-0 h-10 w-10 rounded-full border ${N} ${F} grid place-items-center text-white shadow-lg shadow-black/40 backdrop-blur-md transition`,style:{...g(p),transitionProperty:"transform, opacity, background-color, border-color",transitionDuration:"180ms",transitionTimingFunction:"ease"},"aria-label":l.label,children:(0,e.jsx)(x,{className:"h-4 w-4"})},l.id)}),(0,e.jsxs)("button",{type:"button",onClick:()=>c(l=>!l),className:"relative h-14 w-14 rounded-full border border-white/15 bg-gradient-to-br from-purple-500 via-fuchsia-500 to-cyan-400 shadow-xl shadow-purple-900/40 ring-1 ring-white/10 grid place-items-center text-white","aria-expanded":u,"aria-label":u?"Close upgrades":"Open upgrades",children:[(0,e.jsx)(ye,{className:"h-5 w-5 drop-shadow"}),d>0&&(0,e.jsx)("span",{className:"absolute -top-1 -left-1 min-w-6 h-6 px-1 rounded-full bg-black/60 border border-white/15 text-[10px] font-semibold grid place-items-center",children:d})]})]})})};function zs(t=5){const o="notion_wiz_recent_widgets",[r,n]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const u=window.localStorage.getItem(o);return u?JSON.parse(u):[]}catch{return[]}});return{recentWidgets:r,addRecentWidget:(0,h.useCallback)((u,c)=>{n(s=>{const m=s.filter(g=>g.id!==u),d=[{id:u,label:c,timestamp:Date.now()},...m].slice(0,t);try{window.localStorage.setItem(o,JSON.stringify(d))}catch{}return d})},[t]),clearRecent:(0,h.useCallback)(()=>{n([]);try{window.localStorage.removeItem(o)}catch{}},[])}}function Es(t){const o=Date.now()-t,r=Math.floor(o/1e3),n=Math.floor(r/60),u=Math.floor(n/60),c=Math.floor(u/24);return c>0?`${c} day${c>1?"s":""} ago`:u>0?`${u} hour${u>1?"s":""} ago`:n>0?`${n} minute${n>1?"s":""} ago`:"Just now"}var Ls=300,Ds=12,Ps=120,Yt={black:{bg:"#000000",text:"#FFFFFF",outline:"#000000"},grey:{bg:"#9B9A97",text:"#FFFFFF",outline:"#9B9A97"},yellow:{bg:"#DFAB01",text:"#FFFFFF",outline:"#DFAB01"},purple:{bg:"#6940A5",text:"#FFFFFF",outline:"#6940A5"},brown:{bg:"#64473A",text:"#FFFFFF",outline:"#64473A"},green:{bg:"#0F7B6C",text:"#FFFFFF",outline:"#0F7B6C"},pink:{bg:"#AD1A72",text:"#FFFFFF",outline:"#AD1A72"},orange:{bg:"#D9730D",text:"#FFFFFF",outline:"#D9730D"},blue:{bg:"#0B6E99",text:"#FFFFFF",outline:"#0B6E99"},red:{bg:"#E03E3E",text:"#FFFFFF",outline:"#E03E3E"}},Ws=["😊","🚀","🎨","💼","🔗","📅","✨","⭐","🔥","💡","📚","📝","📧","💬","📞","📍","🏠","💻","📱","📸","🎥","🎧","🎵","🎮","🕹️","🎲","🏆","🥇","⚽","🏀","❤️","👍","👋","🙌","👏","🤝","👀","🧠","💪","⚡","🛑","✅","❌","❓","❗","➡️","⬅️","⬆️","⬇️","🔗"],Wr=[{id:"cycle",label:"Cycle Button",description:"Pomodoro start / pause / skip break",icon:"⏱",config:{label:"Pomodoro Cycle",icon:"⏱",tooltip:"Cycle focus, pause, skip",behaviorType:"cycle",variant:"capsule"}},{id:"createPage",label:"Create Page Button",description:"Creates a Notion page entry",icon:"📄",config:{label:"Create Page",icon:"📄",tooltip:"Creates a Notion page",behaviorType:"createPage",variant:"outline"}},{id:"template",label:"Template Button",description:"Applies a database template",icon:"🧩",config:{label:"Apply Template",icon:"🧩",tooltip:"Runs assigned template",behaviorType:"template",variant:"ghost"}},{id:"counter",label:"Counter Button",description:"Counts presses and displays value",icon:"🔢",config:{label:"Log Count",icon:"🔢",tooltip:"Adds to counter",behaviorType:"counter",variant:"solid"}},{id:"modeSwitcher",label:"Mode Switcher",description:"Switches focus/break modes",icon:"🔀",config:{label:"Mode Switch",icon:"🔀",tooltip:"Switches mode",behaviorType:"modeSwitcher",variant:"capsule"}},{id:"themeToggle",label:"Theme Toggle",description:"Toggles light / dark theme",icon:"🌓",config:{label:"Theme Toggle",icon:"🌓",tooltip:"Toggles theme",behaviorType:"themeToggle",variant:"orb"}},{id:"playlist",label:"Playlist Button",description:"Cycles through playlist names",icon:"🎵",config:{label:"Playlist",icon:"🎵",tooltip:"Cycle playlist tracks",behaviorType:"playlist",variant:"circular",playlistText:`Lo-fi Beats
Hyperfocus Mix
Break Vibes`}},{id:"navigation",label:"Navigation Button",description:"Opens a Notion page",icon:"🔗",config:{label:"Open Notion",icon:"🔗",tooltip:"Opens linked Notion page",behaviorType:"navigation",variant:"outline"}},{id:"meta",label:"Meta Button",description:"Runs macro sequences",icon:"🧠",config:{label:"Meta Macro",icon:"🧠",tooltip:"Runs macro playlist",behaviorType:"meta",variant:"solid"}},{id:"secret",label:"Secret Button",description:"Long-press unlocks a hidden UI",icon:"🕵️",config:{label:"Secret Button",icon:"🕵️",tooltip:"Hold for 2 seconds",behaviorType:"secret",variant:"ghost"}}],xt=4,U={colors:{electricPurple:"#8B5CF6",cosmicBlue:"#3B82F6",neonPink:"#EC4899",sunburstGold:"#F59E0B",aetherTeal:"#06B6D4",ultraviolet:"#A78BFA",nightBlack:"#0B0E12",stardustWhite:"#F8F9FF",graphite:"#1F2937",softSlate:"#94A3B8"},ui:{deepSpace:"#1A1D29",nebulaPurple:"#2D1B4E",glass:"rgba(255, 255, 255, 0.1)"},fonts:{heading:'"Orbitron", system-ui, sans-serif',body:'"Montserrat", system-ui, sans-serif'},fontFamily:'"Montserrat", system-ui, sans-serif',sizes:{h1:"64px",h2:"40px",h3:"28px",body:"18px",bodyLarge:"20px",small:"16px"},letterSpacing:"0.03em",letterSpacingLarge:"0.04em",glowBlur:"4px",glowBlurSubtle:"2px",glow:"0 0 4px rgba(139, 92, 246, 0.5)",glowStrong:"0 0 8px rgba(139, 92, 246, 0.5)",gradient:"linear-gradient(90deg, #EC4899 0%, #F59E0B 28%, #06B6D4 50%, #3B82F6 74%, #8B5CF6 100%)",borderGradient:"linear-gradient(to right, #EC4899, #3B82F6)",logo:{minWidth:160,minWidthPrint:30,clearSpace:"1em",paths:{svg:"Notion Widget Builder Logo (150 x 50 px).png",gif:"Notion Widget Builder Logo (150 x 50 px).png",favicon:"Notion Widget Builder Icon (100 x 100 px).png"}}},Or=t=>typeof t!="string"?t:t.replace(/[&<>'"]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]),Os=(t,o)=>{const[r,n]=(0,h.useState)(t);return(0,h.useEffect)(()=>{const u=setTimeout(()=>n(t),o);return()=>clearTimeout(u)},[t,o]),r},Rs=t=>btoa(encodeURIComponent(JSON.stringify(t))),Hs=t=>{try{return JSON.parse(decodeURIComponent(atob(t)))}catch{return null}},Gs=()=>{if(typeof window>"u")return null;const t=window.localStorage.getItem("jazer_global_brand_theme"),o=window.localStorage.getItem("jazer_global_brand_active");if(t&&o==="true")try{return Ie(JSON.parse(t))}catch{return null}const r=window.localStorage.getItem("jazer_brand_theme");if(r)try{return Ie(JSON.parse(r))}catch{return null}return null},qs=(t,o)=>t.appearanceMode==="none"?{bg:t.bgColor||"transparent",text:t.textColor||"#000"}:{bg:t.backgroundMode==="transparent"?"transparent":o?"#0B0E12":t.bgColor||"#FFFFFF",text:o?t.darkTextColor||"#FFFFFF":t.lightTextColor||"#37352F"},go=class extends h.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){}render(){return this.state.hasError?(0,e.jsx)("div",{className:"flex items-center justify-center h-full bg-red-50 p-8 text-center rounded-xl",children:(0,e.jsxs)("div",{children:[(0,e.jsx)(_t,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,e.jsx)("h3",{className:"font-bold text-red-900 mb-2",children:"Widget Error"}),(0,e.jsx)("p",{className:"text-sm text-red-700 mb-4",children:this.state.error?.message||"Something went wrong"}),(0,e.jsx)("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Reset Widget"})]})}):this.props.children}},bo={none:{id:"none",label:"None / Custom",fontFamily:"ui-sans-serif, system-ui, sans-serif",headingFontFamily:"ui-sans-serif, system-ui, sans-serif",bgColor:"#ffffff",textColor:"#37352f",accentColor:"#e16259",fontLinks:"",cssVariables:"",extraCSS:""},jazer:{id:"jazer",label:"Neon",fontFamily:'"Montserrat", system-ui, sans-serif',headingFontFamily:'"Orbitron", system-ui, sans-serif',bgColor:U.colors.nightBlack,textColor:U.colors.stardustWhite,accentColor:U.colors.electricPurple,logoPath:U.logo.paths.svg,logoGif:U.logo.paths.gif,faviconPath:U.logo.paths.favicon,fontLinks:`
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap" rel="stylesheet">
    `,cssVariables:`:root {
      --jazer-electric-purple: ${U.colors.electricPurple};
      --jazer-cosmic-blue: ${U.colors.cosmicBlue};
      --jazer-neon-pink: ${U.colors.neonPink};
      --jazer-sunburst-gold: ${U.colors.sunburstGold};
      --jazer-aether-teal: ${U.colors.aetherTeal};
      --jazer-ultraviolet: ${U.colors.ultraviolet};
      --jazer-night-black: ${U.colors.nightBlack};
      --jazer-stardust-white: ${U.colors.stardustWhite};
      --jazer-graphite: ${U.colors.graphite};
      --jazer-soft-slate: ${U.colors.softSlate};
      
      --jazer-glow-blur: ${U.glowBlur};
      --jazer-glow-purple: ${U.glow};
    }`,extraCSS:`
    body {
      background-color: ${U.colors.nightBlack};
      color: ${U.colors.stardustWhite};
      font-family: ${U.fontFamily};
    }

    .neon-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      color: ${U.colors.stardustWhite}; 
      text-shadow: ${U.glow}; 
      letter-spacing: ${U.letterSpacing}; 
    }
    .neon-gradient-text { 
      font-family: "Orbitron", system-ui, sans-serif; 
      background: ${U.gradient}; 
      -webkit-background-clip: text; 
      background-clip: text; 
      color: transparent; 
      text-shadow: ${U.glow}; 
      letter-spacing: ${U.letterSpacing}; 
    }
    h1, h2, h3 { letter-spacing: ${U.letterSpacing}; font-family: "Orbitron", system-ui, sans-serif; } 
    h1 { font-size: ${U.sizes.h1}; }
    h2 { font-size: ${U.sizes.h2}; color: ${U.colors.electricPurple}; }
    h3 { font-size: ${U.sizes.h3}; color: ${U.colors.cosmicBlue}; } 
    
    button:focus-visible, input:focus-visible, select:focus-visible { outline: 2px solid ${U.colors.cosmicBlue}; outline-offset: 2px; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: ${U.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb { background: ${U.colors.graphite}; border-radius: 5px; border: 1px solid ${U.colors.nightBlack}; }
    ::-webkit-scrollbar-thumb:hover { background: ${U.colors.softSlate}; }
    
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    @keyframes roulette { 
      0% { transform: translateY(-20px); opacity: 0; } 
      100% { transform: translateY(0); opacity: 1; } 
    }
    `}},Us=()=>(0,e.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg mb-4",children:[(0,e.jsx)("h4",{className:"text-xs uppercase tracking-wider text-gray-400 mb-3",children:"Brand Colors"}),(0,e.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(U.colors).map(([t,o])=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"w-full h-10 rounded mb-1 border border-white/10",style:{backgroundColor:o},title:t}),(0,e.jsx)("div",{className:"text-[8px] text-white/50 truncate",children:t})]},t))})]}),$s=({onSelect:t,onClose:o})=>{const[r,n]=(0,h.useState)(""),u=Ws.filter(c=>c.includes(r));return(0,e.jsxs)("div",{className:"absolute z-50 bg-[#1A1D29] border border-gray-700 rounded-lg shadow-xl w-64 max-h-60 flex flex-col top-full left-0 mt-1",children:[(0,e.jsx)("div",{className:"p-2 border-b border-gray-700",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(it,{size:12,className:"absolute left-2 top-2 text-gray-500"}),(0,e.jsx)("input",{autoFocus:!0,className:"w-full bg-[#0B0E12] pl-7 pr-2 py-1 text-xs text-white rounded border border-gray-700 outline-none focus:border-purple-500",placeholder:"Search...",value:r,onChange:c=>n(c.target.value)})]})}),(0,e.jsx)("div",{className:"grid grid-cols-7 gap-1 p-2 overflow-y-auto",children:u.map((c,s)=>(0,e.jsx)("button",{className:"text-lg hover:bg-gray-700 rounded p-1",onClick:()=>{t(c),o()},children:c},s))})]})},Ys=({value:t,onChange:o})=>{const[r,n]=(0,h.useState)(null),[u,c]=(0,h.useState)(null),s=(0,h.useRef)(null),m=(0,h.useRef)(0),d=(0,h.useMemo)(()=>[{value:"custom",label:"Custom"},...Wr.map(w=>({value:w.config.behaviorType||w.id,label:w.label}))],[]),g=[{value:"solid",label:"Solid"},{value:"text",label:"Text Only"},{value:"icon",label:"Icon Only"},{value:"iconText",label:"Icon + Text"},{value:"capsule",label:"Capsule"},{value:"circular",label:"Circular"},{value:"orb",label:"Floating Orb"},{value:"outline",label:"Outline"},{value:"ghost",label:"Ghost"}];(0,h.useEffect)(()=>{const w=T=>{s.current&&!s.current.contains(T.target)&&c(null)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const l=(w,T)=>{const f=[...t];f[w]={...f[w],...T},o(f)},p={label:"New Button",url:"",icon:"✨",hideIcon:!1,colorPreset:"grey",backgroundColor:"#9B9A97",backgroundOpacity:100,outlineColor:"#9B9A97",textColor:"#FFFFFF",hoverBackgroundColor:"#FFFFFF",hoverTextColor:"#9B9A97",enableHoverHighlight:!0,tooltip:"",behaviorType:"custom",variant:"solid",playlistText:""},x=()=>(m.current+=1,`btn-${m.current}`),k=()=>{const w={id:x(),...p};o([...t,w]),n(t.length)},F=w=>{const T={id:x(),...p,...w.config};o([...t,T]),n(t.length)},N=(w,T)=>{T.stopPropagation();const f=[...t],H={...t[w],id:x()};f.splice(w+1,0,H),o(f)},y=(w,T)=>{T.stopPropagation(),o(t.filter((f,H)=>H!==w)),r===w&&n(null)},v=(w,T)=>{T.stopPropagation();const f=t[w];o(t.map(H=>({...H,colorPreset:f.colorPreset,backgroundColor:f.backgroundColor,backgroundOpacity:f.backgroundOpacity,outlineColor:f.outlineColor,textColor:f.textColor,hoverBackgroundColor:f.hoverBackgroundColor,hoverTextColor:f.hoverTextColor,enableHoverHighlight:f.enableHoverHighlight})))},j=(w,T)=>{const f=Yt[T];l(w,{colorPreset:T,backgroundColor:f.bg,outlineColor:f.outline,textColor:f.text,hoverBackgroundColor:"#FFFFFF",hoverTextColor:f.bg})};return(0,e.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,e.jsx)("div",{className:"flex flex-col gap-2",children:t.map((w,T)=>(0,e.jsxs)("div",{className:"bg-[#1A1D29] border border-gray-700 rounded-lg overflow-hidden transition-all hover:border-gray-600",children:[(0,e.jsxs)("div",{className:"p-2.5 flex items-center justify-between cursor-pointer hover:bg-gray-800 transition-colors",onClick:()=>n(r===T?null:T),children:[(0,e.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,e.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs border border-white/10",style:{backgroundColor:w.backgroundColor,color:w.textColor},children:w.icon||""}),(0,e.jsx)("span",{className:"text-xs font-medium text-gray-200 truncate max-w-[100px]",children:w.label})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:f=>v(T,f),title:"Copy style to all",children:(0,e.jsx)(Kt,{size:12})}),(0,e.jsx)("button",{className:"p-1 text-gray-500 hover:text-white hover:bg-gray-700 rounded",onClick:f=>N(T,f),title:"Duplicate",children:(0,e.jsx)(ur,{size:12})}),(0,e.jsx)("button",{className:"p-1 text-gray-500 hover:text-red-400 hover:bg-red-900/30 rounded",onClick:f=>y(T,f),title:"Delete",children:(0,e.jsx)($r,{size:12})}),(0,e.jsx)(pr,{size:12,style:{transform:r===T?"rotate(90deg)":"none",transition:"0.2s",color:"#718096"}})]})]}),r===T&&(0,e.jsxs)("div",{className:"p-3 bg-[#111318] border-t border-gray-800 flex flex-col gap-3 animate-in slide-in-from-top-2",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)("div",{style:{width:"50px",position:"relative"},ref:s,children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Icon"}),(0,e.jsx)("button",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs text-center hover:border-purple-500 transition-colors",onClick:()=>c(u===T?null:T),children:w.icon||"+"}),u===T&&(0,e.jsx)($s,{onSelect:f=>l(T,{icon:f}),onClose:()=>c(null)})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Label"}),(0,e.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500 transition-colors",value:w.label,onChange:f=>l(T,{label:f.target.value})})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 flex justify-between",children:["URL ",(0,e.jsx)(mr,{size:10,className:"opacity-50"})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-blue-400 p-1.5 pl-6 rounded text-xs outline-none focus:border-purple-500",placeholder:"https://...",value:w.url,onChange:f=>l(T,{url:f.target.value})}),(0,e.jsx)(Gr,{size:10,className:"absolute left-2 top-2 text-gray-500"})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Button Type"}),(0,e.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:w.behaviorType||"custom",onChange:f=>l(T,{behaviorType:f.target.value}),children:d.map(f=>(0,e.jsx)("option",{value:f.value,children:f.label},f.value))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Variant"}),(0,e.jsx)("select",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:w.variant||"solid",onChange:f=>l(T,{variant:f.target.value}),children:g.map(f=>(0,e.jsx)("option",{value:f.value,children:f.label},f.value))})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Tooltip"}),(0,e.jsx)("input",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",value:w.tooltip||"",onChange:f=>l(T,{tooltip:f.target.value}),placeholder:"Describe the action..."})]}),w.behaviorType==="playlist"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-1 block",children:"Playlist Items (one per line)"}),(0,e.jsx)("textarea",{className:"w-full bg-[#0f1115] border border-gray-700 text-gray-200 p-1.5 rounded text-xs outline-none focus:border-purple-500",rows:3,value:w.playlistText||"",onChange:f=>l(T,{playlistText:f.target.value})})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:w.hideIcon,onChange:f=>l(T,{hideIcon:f.target.checked})}),(0,e.jsx)("span",{className:"text-xs text-gray-400",children:"Hide Icon"})]}),(0,e.jsxs)("div",{className:"border-t border-gray-800 pt-2",children:[(0,e.jsx)("label",{className:"text-[9px] uppercase font-bold text-gray-500 mb-2 block",children:"Quick Colors"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(Yt).map(f=>(0,e.jsx)("div",{className:`w-4 h-4 rounded-full cursor-pointer border border-white/10 transition-transform hover:scale-110 ${w.colorPreset===f?"ring-1 ring-white":""}`,style:{backgroundColor:Yt[f].bg},onClick:()=>j(T,f),title:f},f))})]}),(0,e.jsxs)("div",{className:"border-t border-gray-800 pt-2 space-y-2",children:[(0,e.jsxs)("label",{className:"text-[9px] uppercase font-bold text-purple-400 flex items-center gap-1",children:[(0,e.jsx)(qe,{size:10})," Custom Styles"]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Bg Color"}),(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)("input",{type:"color",value:w.backgroundColor,onChange:f=>l(T,{backgroundColor:f.target.value,colorPreset:null}),className:"w-5 h-5 rounded cursor-pointer bg-transparent p-0 border-none"}),(0,e.jsx)("span",{className:"text-[9px] font-mono text-gray-400",children:w.backgroundColor})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"text-[9px] text-gray-500 block mb-1",children:["Opacity ",w.backgroundOpacity,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:w.backgroundOpacity,onChange:f=>l(T,{backgroundOpacity:Number(f.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Text Color"}),(0,e.jsx)("input",{type:"color",value:w.textColor,onChange:f=>l(T,{textColor:f.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 block mb-1",children:"Outline"}),(0,e.jsx)("input",{type:"color",value:w.outlineColor,onChange:f=>l(T,{outlineColor:f.target.value,colorPreset:null}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,e.jsx)("input",{type:"checkbox",className:"accent-purple-500",checked:w.enableHoverHighlight,onChange:f=>l(T,{enableHoverHighlight:f.target.checked})}),(0,e.jsx)("span",{className:"text-xs text-gray-400",children:"Enable Hover Highlight"})]}),w.enableHoverHighlight&&(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l border-purple-500/20",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Bg"}),(0,e.jsx)("input",{type:"color",value:w.hoverBackgroundColor,onChange:f=>l(T,{hoverBackgroundColor:f.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-[9px] text-gray-500 mb-1 block",children:"Hover Text"}),(0,e.jsx)("input",{type:"color",value:w.hoverTextColor,onChange:f=>l(T,{hoverTextColor:f.target.value}),className:"w-full h-5 rounded cursor-pointer bg-transparent p-0 border border-gray-700"})]})]})]})]})]},w.id))}),(0,e.jsxs)("div",{className:"p-3 bg-[#0F1115] border border-gray-800 rounded-lg space-y-2",children:[(0,e.jsx)("div",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Quick Templates"}),(0,e.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Wr.map(w=>(0,e.jsxs)("button",{className:"p-2 rounded-lg border border-white/10 bg-white/5 hover:border-purple-400 hover:bg-purple-500/10 transition flex items-center gap-2 text-left",onClick:()=>F(w),children:[(0,e.jsx)("span",{className:"text-lg",children:w.icon}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs font-semibold text-white",children:w.label}),(0,e.jsx)("div",{className:"text-[10px] text-gray-400",children:w.description})]})]},w.id))})]}),(0,e.jsxs)("button",{onClick:k,className:"w-full py-2.5 bg-purple-500/10 hover:bg-purple-500/20 border border-purple-500/30 rounded-lg text-xs font-bold text-purple-300 flex items-center justify-center gap-2 transition-all",children:[(0,e.jsx)(tr,{size:14})," Add Button"]})]})},Js=h.memo(({field:t,value:o,onChange:r})=>{if(t.locked)return(0,e.jsxs)("div",{className:"flex justify-between items-center py-1 opacity-50",children:[(0,e.jsx)("span",{className:"text-sm text-gray-300",children:t.label}),(0,e.jsx)("span",{className:"text-xs text-gray-500",children:"🔒 Premium"})]});if(t.type==="boolean")return(0,e.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,e.jsx)("span",{className:"text-sm text-gray-300",children:t.label}),(0,e.jsx)("button",{onClick:()=>r(!o),className:`w-10 h-5 rounded-full p-1 transition-colors duration-300 ${o?"bg-purple-600":"bg-gray-700"}`,children:(0,e.jsx)("div",{className:`w-3 h-3 rounded-full bg-white shadow-md transform transition-transform duration-300 ${o?"translate-x-5":"translate-x-0"}`})})]});if(t.type==="select")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("select",{value:o||"",onChange:n=>r(n.target.value),className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500",style:{pointerEvents:"auto"},children:t.options.map(n=>(0,e.jsx)("option",{value:n.value,disabled:n.disabled,children:n.label},n.value))})]});if(t.type==="color")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"color",value:o||"#000000",onChange:n=>r(n.target.value),className:"w-8 h-8 rounded bg-transparent border-none cursor-pointer"}),(0,e.jsx)("input",{type:"text",value:o,onChange:n=>r(n.target.value),className:"flex-1 bg-gray-800 text-white text-xs p-2 rounded border border-gray-700"})]})]});if(t.type==="text"||t.type==="number"||t.type==="date"||t.type==="datetime-local")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("input",{type:t.type,value:o,onChange:n=>r(t.type==="number"?Number(n.target.value):n.target.value),min:t.min,max:t.max,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500 transition-colors"})]});if(t.type==="textarea")return(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("textarea",{value:o||"",onChange:n=>r(n.target.value),rows:t.rows||4,className:"w-full bg-gray-800 text-white text-sm p-2 rounded border border-gray-700 outline-none focus:border-purple-500"})]});if(t.type==="checkbox-list"){const n=u=>{const c=Array.isArray(o)?o:[];c.includes(u)?r(c.filter(s=>s!==u)):r([...c,u])};return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1",children:t.options.map(u=>{const c=(o||[]).includes(u.value);return(0,e.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 p-1 rounded",onClick:()=>n(u.value),children:[(0,e.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${c?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c&&(0,e.jsx)(Fe,{size:10,className:"text-white"})}),(0,e.jsx)("span",{className:"text-xs text-gray-300",children:u.label})]},u.value)})})]})}if(t.type==="bar-list"){const n=(c,s)=>{const m=[...o];s===-1&&c>0?[m[c],m[c-1]]=[m[c-1],m[c]]:s===1&&c<m.length-1&&([m[c],m[c+1]]=[m[c+1],m[c]]),r(m)},u=c=>{const s=[...o];s[c].enabled=!s[c].enabled,r(s)};return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),(0,e.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 overflow-hidden",children:o.map((c,s)=>(0,e.jsxs)("div",{className:"flex items-center justify-between p-2 border-b border-gray-800 last:border-0 hover:bg-white/5",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("button",{onClick:()=>u(s),className:`w-4 h-4 flex items-center justify-center rounded border ${c.enabled?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c.enabled&&(0,e.jsx)(Fe,{size:12,className:"text-white"})}),(0,e.jsx)("span",{className:`text-xs ${c.enabled?"text-white":"text-gray-500"}`,children:c.label})]}),(0,e.jsxs)("div",{className:"flex gap-1",children:[(0,e.jsx)("button",{onClick:()=>n(s,-1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:s===0,children:(0,e.jsx)(Ro,{size:12})}),(0,e.jsx)("button",{onClick:()=>n(s,1),className:"p-1 hover:text-white text-gray-500 disabled:opacity-20",disabled:s===o.length-1,children:(0,e.jsx)(ta,{size:12})})]})]},c.id))})]})}if(t.type==="button-manager")return(0,e.jsx)(Ys,{value:o||[],onChange:r});if(t.type==="multiselect"){const n=u=>{const c=Array.isArray(o)?o:[];if(c.includes(u))r(c.filter(s=>s!==u));else{if(t.maxItems&&c.length>=t.maxItems)return;r([...c,u])}};return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("label",{className:"text-xs text-gray-400 font-bold",children:t.label}),t.maxItems&&(0,e.jsxs)("span",{className:"text-xs text-gray-500",children:[(o||[]).length,"/",t.maxItems," selected"]})]}),t.helpText&&(0,e.jsx)("p",{className:"text-xs text-gray-500",children:t.helpText}),(0,e.jsx)("div",{className:"bg-gray-900 rounded border border-gray-700 p-2 space-y-1 max-h-64 overflow-y-auto",children:t.options.map(u=>{const c=(o||[]).includes(u.value),s=t.maxItems&&!c&&(o||[]).length>=t.maxItems;return(0,e.jsxs)("div",{className:`flex items-center gap-2 p-1 rounded ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-white/5"}`,onClick:()=>!s&&n(u.value),children:[(0,e.jsx)("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${c?"bg-purple-600 border-purple-600":"border-gray-500"}`,children:c&&(0,e.jsx)(Fe,{size:10,className:"text-white"})}),(0,e.jsx)("span",{className:"text-xs text-gray-300",children:u.label})]},u.value)})})]})}return null}),Re={clock:{...os,icon:(0,e.jsx)(vt,{className:"w-4 h-4"}),Component:cs,generateHTML:ds,generateScript:mo},weather:{...Ta,icon:(0,e.jsx)(yt,{className:"w-4 h-4"}),Component:no,generateHTML:rs,generateScript:uo},countdown:{...us,icon:(0,e.jsx)(qr,{className:"w-4 h-4"}),Component:ms,generateHTML:hs,generateScript:ho},counter:{...ga,icon:(0,e.jsx)(Hr,{className:"w-4 h-4"}),Component:ba,generateHTML:fa,generateScript:ya},imageGallery:{...va,icon:(0,e.jsx)(xr,{className:"w-4 h-4"}),Component:wa,generateHTML:_a,generateScript:ja},newButtonGenerator:{...js,icon:(0,e.jsx)(dr,{className:"w-4 h-4"}),Component:ks,generateHTML:Cs,generateScript:Ns},quotes:{...Ca,icon:(0,e.jsx)(Ur,{className:"w-4 h-4"}),Component:Na,generateHTML:Sa,generateScript:Xr},simpleList:{id:"simpleList",label:"List",icon:(0,e.jsx)(Qt,{className:"w-4 h-4"}),defaultConfig:{title:"To Do",items:`Task 1
Task 2`,accentColor:U.colors.cosmicBlue,textColor:U.colors.graphite,bgColor:U.colors.stardustWhite},fields:[{name:"title",label:"Title",type:"text"},{name:"items",label:"Items",type:"textarea"},{name:"accentColor",label:"Accent",type:"color"}],Component:({config:t})=>{const o=(t.items||"").split(`
`).filter(Boolean);return(0,e.jsxs)("div",{className:"h-full w-full p-6 overflow-y-auto",style:{background:t.bgColor,color:t.textColor},children:[(0,e.jsx)("h3",{className:"font-bold mb-4 pb-2 border-b-2 text-lg",style:{borderColor:t.accentColor},children:t.title}),(0,e.jsx)("ul",{className:"space-y-2",children:o.map((r,n)=>(0,e.jsxs)("li",{className:"flex gap-2 items-center",children:[(0,e.jsx)("div",{className:"w-4 h-4 border rounded",style:{borderColor:t.accentColor}}),(0,e.jsx)("span",{children:r})]},n))})]})},generateHTML:t=>`
      <div style="padding:24px; height:100%; overflow-y:auto; background:${t.bgColor}; color:${t.textColor};">
        <h3 style="font-weight:bold; margin-bottom:16px; padding-bottom:8px; border-bottom:2px solid ${t.accentColor};">${Or(t.title)}</h3>
        <ul style="list-style:none; padding:0; margin:0;">
          ${(t.items||"").split(`
`).filter(Boolean).map(o=>`<li style="display:flex; gap:12px; margin-bottom:8px; cursor:pointer; align-items:center;" onclick="this.style.opacity = this.style.opacity === '0.5' ? '1' : '0.5'"><div style="width:16px; height:16px; border:2px solid ${t.accentColor}; border-radius:4px;"></div><span>${Or(o)}</span></li>`).join("")}
        </ul>
      </div>
    `,generateScript:()=>""},pomodoro:{id:"pomodoro",label:"Pomodoro",icon:(0,e.jsx)(Uo,{className:"w-4 h-4"}),defaultConfig:{workTime:25,breakTime:5,accentColor:U.colors.neonPink,textColor:U.colors.graphite,bgColor:U.colors.stardustWhite},fields:[{name:"workTime",label:"Work",type:"number"},{name:"breakTime",label:"Break",type:"number"},{name:"accentColor",label:"Color",type:"color"}],Component:({config:t})=>{const o=Math.max(1,parseInt(t.workTime,10)||25),r=Math.max(1,parseInt(t.breakTime,10)||5),n=o*60,u=r*60,[c,s]=(0,h.useState)(n),[m,d]=(0,h.useState)(!1),[g,l]=(0,h.useState)(!0),p=(0,h.useRef)(g);(0,h.useEffect)(()=>{p.current=g},[g]),(0,h.useEffect)(()=>{d(!1),l(!0),p.current=!0,s(n)},[n,u]),(0,h.useEffect)(()=>{if(!m)return;const N=setInterval(()=>{s(y=>{if(y>1)return y-1;const v=!p.current;return p.current=v,l(v),v?n:u})},1e3);return()=>clearInterval(N)},[m,n,u]);const x=N=>`${Math.floor(N/60).toString().padStart(2,"0")}:${(N%60).toString().padStart(2,"0")}`,k=()=>{d(N=>!N)},F=()=>{d(!1),l(!0),p.current=!0,s(n)};return(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-center",style:{background:t.bgColor,color:t.textColor},children:[(0,e.jsxs)("div",{className:"text-sm font-semibold uppercase tracking-widest",style:{color:t.accentColor},children:[g?"Work":"Break"," Session"]}),(0,e.jsx)("div",{className:"text-5xl font-bold tabular-nums",children:x(c)}),(0,e.jsxs)("div",{className:"flex gap-3",children:[(0,e.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-semibold",style:{background:t.accentColor},onClick:k,children:m?"Pause":"Start"}),(0,e.jsx)("button",{className:"px-6 py-2 rounded-full border font-semibold",style:{borderColor:t.accentColor,color:t.accentColor},onClick:F,children:"Reset"})]})]})},generateHTML:t=>`
      <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; gap:16px; text-align:center;">
        <div id="phase" style="font-size:14px; font-weight:600; text-transform:uppercase; letter-spacing:0.2em; color:${t.accentColor};">Work Session</div>
        <div id="timer" style="font-size:48px; font-weight:bold; margin-bottom:8px; font-family:'Courier New', monospace;">${String(t.workTime).padStart(2,"0")}:00</div>
        <div style="display:flex; gap:12px;">
          <button onclick="togglePomodoro()" id="btn" style="background:${t.accentColor}; color:white; border:none; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Start</button>
          <button onclick="resetPomodoro()" style="background:transparent; color:${t.accentColor}; border:2px solid ${t.accentColor}; padding:10px 24px; border-radius:999px; font-weight:bold; cursor:pointer;">Reset</button>
        </div>
      </div>
    `,generateScript:t=>`
      (function() {
        const workMinutes = Math.max(1, parseInt(${JSON.stringify(t.workTime)}, 10) || 25);
        const breakMinutes = Math.max(1, parseInt(${JSON.stringify(t.breakTime)}, 10) || 5);
        const workSeconds = workMinutes * 60;
        const breakSeconds = breakMinutes * 60;
        let remaining = workSeconds;
        let isRunning = false;
        let isWorkPhase = true;
        let timerId = null;
        const timerEl = document.getElementById('timer');
        const phaseEl = document.getElementById('phase');
        const btn = document.getElementById('btn');

        function format(seconds) {
          const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          return mins + ':' + secs;
        }

        function updateDisplay() {
          timerEl.textContent = format(remaining);
          phaseEl.textContent = (isWorkPhase ? 'Work' : 'Break') + ' Session';
        }

        function switchPhase() {
          isWorkPhase = !isWorkPhase;
          remaining = isWorkPhase ? workSeconds : breakSeconds;
          updateDisplay();
        }

        function tick() {
          if (remaining > 0) {
            remaining -= 1;
            updateDisplay();
          } else {
            switchPhase();
          }
        }

        window.togglePomodoro = function togglePomodoro() {
          isRunning = !isRunning;
          btn.textContent = isRunning ? 'Pause' : 'Start';
          if (isRunning) {
            timerId = setInterval(tick, 1000);
          } else if (timerId) {
            clearInterval(timerId);
            timerId = null;
  }
};

        window.resetPomodoro = function resetPomodoro() {
          if (timerId) {
            clearInterval(timerId);
            timerId = null;
          }
          isRunning = false;
          isWorkPhase = true;
          remaining = workSeconds;
          btn.textContent = 'Start';
          updateDisplay();
        };

        updateDisplay();
      })();
    `}},ir={clock:"Time & Productivity",countdown:"Time & Productivity",pomodoro:"Time & Productivity",simpleList:"Time & Productivity",weather:"Data & Information",quotes:"Data & Information",counter:"Interactive",newButtonGenerator:"Interactive",imageGallery:"Media"},Qs=({isOpen:t,onClose:o,widgetDef:r,config:n})=>{const u=(0,h.useMemo)(()=>{if(!t)return"";const m=Rs(n);return`${window.location.origin}${window.location.pathname}?embed=1&widget=${r.id}&config=${m}`},[t,n,r]);if(!t)return null;const c=()=>{navigator.clipboard.writeText(u),alert("Link copied! Paste into Notion using /embed")},s=()=>{const m=r.generateHTML?r.generateHTML(n):`<!-- ${r.label} Widget -->`,d=r.generateScript?r.generateScript(n):"",g=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${r.label} Widget</title>
    <style>
      body { margin: 0; padding: 0; width: 100vw; height: 100vh; overflow: hidden; }
    </style>
</head>
<body>
    ${m}
    <script>${d}<\/script>
</body>
</html>`;navigator.clipboard.writeText(g),alert("HTML Code copied!")};return(0,e.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in",children:(0,e.jsxs)("div",{className:"bg-[#1A1D29] w-full max-w-2xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden flex flex-col",children:[(0,e.jsxs)("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-[#0B0E12]",children:[(0,e.jsxs)("h3",{className:"text-white font-bold text-xl font-mono flex items-center gap-2",children:[(0,e.jsx)(Yr,{className:"text-purple-500"})," GET WIDGET"]}),(0,e.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-white",children:(0,e.jsx)(Ze,{})})]}),(0,e.jsxs)("div",{className:"p-8 space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("h4",{className:"text-lg font-bold text-white",children:"Embed Link (Recommended)"}),(0,e.jsxs)("div",{className:"bg-[#0B0E12] p-4 rounded-xl border border-gray-800 flex gap-2 items-center",children:[(0,e.jsx)("input",{readOnly:!0,value:u,className:"bg-transparent w-full text-sm text-purple-300 outline-none font-mono truncate"}),(0,e.jsx)("button",{onClick:c,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-colors",children:"Copy Link"})]}),(0,e.jsxs)("p",{className:"text-xs text-gray-500",children:["In Notion, type ",(0,e.jsx)("code",{className:"bg-gray-800 px-1 rounded",children:"/embed"})," and paste this URL. Requires this app to be hosted publicly."]})]}),(0,e.jsxs)("div",{className:"border-t border-white/5 pt-6 space-y-4",children:[(0,e.jsx)("h4",{className:"text-lg font-bold text-white",children:"Standalone Code"}),(0,e.jsxs)("button",{onClick:s,className:"w-full bg-gray-800 hover:bg-gray-700 text-white px-4 py-3 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[(0,e.jsx)(Eo,{size:16})," Copy HTML Code"]}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Copy the full HTML code and save it as a .html file. Host it on GitHub Pages, Netlify, or Vercel."})]})]})]})})},Zs=({activeBrandId:t,config:o,activeWidgetId:r,debouncedConfig:n,handleConfigChange:u,brandTheme:c,ActiveWidget:s,showExport:m,setShowExport:d,onCustomizeRequest:g,upgradeItems:l})=>{const{theme:p}=Ee(),x=!!p?.isDark,[k,F]=(0,h.useState)(800),[N,y]=(0,h.useState)(450),[v,j]=(0,h.useState)(!1),w=(0,h.useRef)(null),T=c||n?.brandThemeSnapshot||o.brandThemeSnapshot,f=(0,h.useMemo)(()=>[{id:"phone",label:"Phone",width:360,height:640},{id:"tablet",label:"Tablet",width:820,height:640},{id:"desktop",label:"Desktop",width:1100,height:640}],[]),H=(D,B)=>{B.preventDefault(),j(D)},Q=D=>{F(D.width),y(D.height)};return(0,h.useEffect)(()=>{const D=C=>{if(!v||!w.current)return;const Z=w.current.getBoundingClientRect();(v==="horizontal"||v==="both")&&F(Math.max(300,Math.min(1600,C.clientX-Z.left-40))),(v==="vertical"||v==="both")&&y(Math.max(200,Math.min(1e3,C.clientY-Z.top-40)))},B=()=>{j(!1)};return v&&(document.addEventListener("mousemove",D),document.addEventListener("mouseup",B)),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",B)}},[v]),(0,e.jsxs)("div",{ref:w,className:`flex-1 flex flex-col relative h-full ${x?"bg-[#0B0E12]":"bg-slate-100"}`,children:[(0,e.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",style:{background:t==="jazer"?`radial-gradient(circle at 50% 10%, ${U.ui.nebulaPurple} 0%, ${U.colors.nightBlack} 100%)`:x?"#0F172A":"#F1F5F9",boxShadow:t==="jazer"?U.glow:"none"},children:(0,e.jsxs)("div",{className:"shadow-2xl rounded-xl overflow-hidden relative group",style:{width:`${k}px`,height:`${N}px`,maxWidth:"100%",maxHeight:"min(80vh, 720px)",backgroundColor:o.bgColor,border:"2px solid var(--jazer-cosmic-blue)",boxShadow:"var(--jazer-glow-blue), 0 20px 40px rgba(0,0,0,0.4)",transition:v?"none":"all 0.2s ease"},children:[(0,e.jsx)("div",{className:"absolute top-3 left-3 z-20 flex gap-2",children:f.map(D=>(0,e.jsx)("button",{type:"button",onClick:()=>Q(D),className:`px-3 py-1 rounded-full text-[11px] uppercase tracking-[0.3em] border transition ${Math.round(k)===D.width&&Math.round(N)===D.height?x?"border-white text-white bg-white/20":"border-slate-300 text-slate-900 bg-white":x?"border-white/20 text-white/70 bg-black/30 hover:border-white/40 hover:text-white":"border-slate-200 text-slate-600 bg-white/70 hover:border-slate-300 hover:text-slate-900"}`,children:D.label},D.id))}),(0,e.jsx)(go,{children:(0,e.jsx)(s.Component,{config:n,onConfigChange:u,brand:U,brandTheme:T,onCustomizeRequest:g})},r),Array.isArray(l)&&l.length>0&&(0,e.jsx)(As,{title:r==="newButtonGenerator"?"Button Upgrades":"Widget Upgrades",items:l}),(0,e.jsx)("div",{onMouseDown:D=>H("horizontal",D),className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(90deg, transparent, var(--jazer-electric-purple))"},children:(0,e.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-12 rounded-l",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,e.jsx)("div",{onMouseDown:D=>H("vertical",D),className:"absolute left-0 right-0 bottom-0 h-2 cursor-ns-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"linear-gradient(180deg, transparent, var(--jazer-electric-purple))"},children:(0,e.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 h-1 w-12 rounded-t",style:{backgroundColor:"var(--jazer-electric-purple)",boxShadow:"var(--jazer-glow-purple)"}})}),(0,e.jsx)("div",{onMouseDown:D=>H("both",D),className:"absolute right-0 bottom-0 w-6 h-6 cursor-nwse-resize opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"var(--jazer-electric-purple)",clipPath:"polygon(100% 0, 100% 100%, 0 100%)",boxShadow:"var(--jazer-glow-purple)"}}),(0,e.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-mono opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(139, 92, 246, 0.9)",color:"var(--jazer-stardust-white)",backdropFilter:"blur(10px)"},children:[k," × ",N]})]})}),(0,e.jsx)(Qs,{isOpen:m,onClose:()=>d(!1),widgetDef:s,config:o})]})};function Ks({onSelect:t,onBrandGenerator:o,setSearchInputRef:r}){const[n,u]=(0,h.useState)("all"),[c,s]=(0,h.useState)(""),[m,d]=(0,h.useState)(0),[g,l]=(0,h.useState)(!1),{theme:p}=Ee(),x=!!p?.isDark,k=(0,h.useRef)(null);(0,h.useEffect)(()=>{r&&k.current&&r(k.current)},[r]),(0,h.useEffect)(()=>{if(typeof document>"u")return;const C="plus-jakarta-sans-font";if(document.getElementById(C))return;const Z=document.createElement("link");return Z.id=C,Z.rel="stylesheet",Z.href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap",document.head.appendChild(Z),()=>{Z.parentNode&&Z.parentNode.removeChild(Z)}},[]),(0,h.useEffect)(()=>{if(typeof window>"u")return;const C=window.matchMedia("(prefers-reduced-motion: reduce)"),Z=()=>l(C.matches);return Z(),C.addEventListener?C.addEventListener("change",Z):C.addListener(Z),()=>{C.removeEventListener?C.removeEventListener("change",Z):C.removeListener(Z)}},[]),(0,h.useEffect)(()=>{if(typeof window>"u")return;const C=()=>{const Z=document.documentElement.scrollHeight-window.innerHeight;d(Z>0?Math.min(window.scrollY/Z,1):0)};return C(),window.addEventListener("scroll",C,{passive:!0}),window.addEventListener("resize",C),()=>{window.removeEventListener("scroll",C),window.removeEventListener("resize",C)}},[]);const F=(0,h.useMemo)(()=>Object.values(Re).map(C=>({...C,category:ir[C.id]||"Other"})),[]),N=(0,h.useMemo)(()=>["all",...Array.from(new Set(F.map(C=>C.category)))],[F]),y=["weather","clock","newButtonGenerator"],v=(0,h.useMemo)(()=>F.filter(C=>y.includes(C.id)),[F]),j=(0,h.useMemo)(()=>{const C=c.trim().toLowerCase();return F.filter(Z=>{const $=n==="all"||Z.category===n,W=!C||[Z.label,Z.description].filter(Boolean).some(ne=>ne.toLowerCase().includes(C));return $&&W})},[F,n,c]),w={weather:"Most Advanced",clock:"Fan Favorite",countdown:"New Animation",newButtonGenerator:"Workflow Booster",imageGallery:"Creator Ready",quotes:"API Connected",pomodoro:"Focus Mode"},T=[{label:"Widgets",value:"9",subLabel:"Final list"},{label:"Categories",value:"4",subLabel:"Time, Data, Media, Interactive"},{label:"API Integrations",value:"2",subLabel:"Weather + Quotes"},{label:"Brand Kits",value:"∞",subLabel:"Generator-powered"}],f=Array.from({length:5},(C,Z)=>Z),H=[{icon:(0,e.jsx)(gt,{className:"w-5 h-5 text-sky-600"}),title:"Choose a widget",copy:"Clock, Weather, Buttons, and more with presets tuned to Notion."},{icon:(0,e.jsx)(qe,{className:"w-5 h-5 text-orange-500"}),title:"Apply your brand",copy:"Upload a logo once and sync its palette across every widget."},{icon:(0,e.jsx)(cr,{className:"w-5 h-5 text-emerald-500"}),title:"Export / embed",copy:"Copy the embed link or HTML snippet directly into Notion."}],Q=[{kicker:"Chapter 1",title:"Stop rebuilding widgets from scratch",copy:"Notion pages look polished until widgets drift off-brand. Keep every block consistent without manual CSS or one-off embeds.",icon:(0,e.jsx)(_t,{className:"w-5 h-5"}),cta:"See the widget library",action:()=>t("clock")},{kicker:"Chapter 2",title:"Sync one brand kit across every build",copy:"Upload a logo once, capture its palette, and apply it to every widget. Your brand system is always one click away.",icon:(0,e.jsx)(ye,{className:"w-5 h-5"}),cta:"Launch brand kit",action:o},{kicker:"Chapter 3",title:"Publish widgets that stay on-brand",copy:"Export a clean embed link or HTML snippet. Updates carry across Notion without redoing the design.",icon:(0,e.jsx)(Yr,{className:"w-5 h-5"}),cta:"Preview a widget",action:()=>t("newButtonGenerator")}],D=[{quote:"“The builder finally feels as premium as the widgets themselves. I can move from idea to embedded widget in minutes.”",author:"Nara · Product Ops"},{quote:"“Brand kit syncing blew my mind—upload logo, click apply, every widget updates instantly.”",author:"Lewis · Creator"},{quote:"“Favorite part is the Button Generator. Macro + toggle modes mean I can run my workflows without leaving Notion.”",author:"Mika · Studio Lead"}],B=(0,h.useMemo)(()=>({page:x?"bg-[#0B0E12] text-slate-100":"bg-gradient-to-b from-sky-50 via-white to-slate-50 text-sky-950",track:x?"bg-white/10":"bg-sky-100/80",trackFill:x?"bg-orange-400":"bg-orange-500",card:x?"bg-[#0F172A] border-white/10 shadow-[0_20px_60px_-30px_rgba(0,0,0,0.65)]":"bg-white border-sky-100 shadow-sm",cardSoft:x?"bg-[#111827] border-white/10":"bg-sky-50 border-sky-100",kicker:x?"text-sky-300":"text-sky-500",textPrimary:x?"text-slate-100":"text-sky-950",textSecondary:x?"text-slate-300":"text-slate-600",textMuted:x?"text-slate-400":"text-slate-500",pill:x?"border-white/15 bg-white/10 text-sky-200":"border-sky-200 bg-sky-100 text-sky-700",pillAlt:x?"border-white/15 bg-[#0F172A] text-sky-200":"border-sky-200 bg-white text-sky-700",outlineButton:x?"border-white/30 text-white hover:border-white/60":"border-sky-300 text-sky-900 hover:border-sky-500 hover:text-sky-950",ghostButton:x?"border-white/15 text-slate-200 hover:border-white/30 hover:text-white":"border-sky-200 text-sky-700 hover:border-sky-400 hover:text-sky-900",input:x?"bg-[#0F172A] border-white/10 text-slate-200 placeholder:text-slate-500":"bg-white border-sky-200 text-slate-700 placeholder:text-slate-400"}),[x]);return(0,e.jsxs)("div",{className:`min-h-screen px-2 py-10 flex flex-col items-center ${B.page}`,style:{fontFamily:'"Plus Jakarta Sans", system-ui, sans-serif'},children:[(0,e.jsx)("div",{"aria-hidden":"true",className:`fixed top-0 left-0 right-0 z-40 h-1 ${B.track}`,children:(0,e.jsx)("div",{className:`h-full ${B.trackFill}`,style:{width:`${Math.round(m*100)}%`,transition:g?"none":"width 200ms ease"}})}),(0,e.jsxs)("div",{className:"w-full max-w-6xl space-y-16",children:[(0,e.jsxs)("section",{className:"grid lg:grid-cols-[1.1fr,0.9fr] gap-10 items-center",children:[(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,e.jsx)("span",{className:`px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border ${B.pill}`,children:"Final Widget List v1.2"}),(0,e.jsx)("span",{className:`px-3 py-1 text-[11px] uppercase tracking-[0.3em] rounded-full border ${B.pillAlt}`,children:"Professional Grade"})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsx)("img",{src:"/logo.png",alt:"MetraNode",className:`h-16 w-16 rounded-2xl border ${x?"border-white/10 bg-white/5":"border-sky-100 bg-white"} shadow-sm`}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"MetraNode"}),(0,e.jsx)("p",{className:`text-sm ${B.textSecondary}`,children:"Design-grade widgets, synced to your brand."})]})]}),(0,e.jsx)("h1",{className:`text-4xl md:text-6xl font-extrabold leading-tight ${B.textPrimary}`,children:"Design-grade Notion widgets, ready to ship."}),(0,e.jsx)("p",{className:`text-lg md:text-xl max-w-xl leading-relaxed ${B.textSecondary}`,children:"Shuttle nine premium widgets—clock, weather, pomodoro, button generator, and more—directly into Notion. Every control respects responsive layouts and your custom brand kit."}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3",children:[(0,e.jsx)("button",{onClick:()=>t("clock"),className:"px-8 py-3 rounded-full text-sm font-semibold tracking-[0.2em] uppercase bg-orange-500 text-white hover:bg-orange-600 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-300 w-full sm:w-auto text-center cursor-pointer",children:"Start Building"}),(0,e.jsxs)("button",{onClick:o,className:`px-8 py-3 rounded-full text-sm font-semibold tracking-[0.2em] uppercase border transition-colors flex items-center gap-2 justify-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400 w-full sm:w-auto cursor-pointer ${B.outlineButton}`,children:[(0,e.jsx)(qe,{className:"w-4 h-4"})," Sync Brand Kit"]})]}),(0,e.jsxs)("div",{className:`flex flex-wrap items-center gap-4 text-sm ${B.textSecondary}`,children:[(0,e.jsx)("div",{className:"flex items-center gap-1 text-orange-500",children:f.map(C=>(0,e.jsx)(er,{className:"w-4 h-4 text-orange-400",fill:"currentColor","aria-hidden":"true"},C))}),(0,e.jsx)("span",{children:"Trusted by early Notion builders and creators."})]})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:`absolute -top-8 -right-8 h-28 w-28 rounded-full ${x?"bg-sky-900/40":"bg-sky-100"}`,"aria-hidden":"true"}),(0,e.jsxs)("div",{className:`relative rounded-3xl border p-6 space-y-4 ${B.card}`,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"Live preview"}),(0,e.jsx)("h3",{className:`text-lg font-semibold ${B.textPrimary}`,children:"Widget stack"})]}),(0,e.jsx)("span",{className:`px-3 py-1 text-[11px] uppercase tracking-[0.25em] rounded-full ${B.pill}`,children:"Auto-sync"})]}),(0,e.jsxs)("div",{className:"grid gap-3",children:[(0,e.jsxs)("div",{className:`rounded-2xl border p-4 flex items-center justify-between ${B.cardSoft}`,children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:`w-10 h-10 rounded-xl border shadow-sm flex items-center justify-center ${x?"bg-[#0B1320] border-white/10 text-sky-200":"bg-white border-sky-100 text-sky-600"}`,children:(0,e.jsx)(vt,{className:"w-5 h-5"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-sm font-semibold ${B.textPrimary}`,children:"Focus Clock"}),(0,e.jsx)("p",{className:`text-xs ${B.textMuted}`,children:"Auto-resize + neon mode"})]})]}),(0,e.jsx)("span",{className:"text-xs font-semibold text-orange-500",children:"Live"})]}),(0,e.jsxs)("div",{className:`rounded-2xl border p-4 flex items-center justify-between ${B.cardSoft}`,children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:`w-10 h-10 rounded-xl border shadow-sm flex items-center justify-center ${x?"bg-[#0B1320] border-white/10 text-sky-200":"bg-white border-sky-100 text-sky-600"}`,children:(0,e.jsx)(yt,{className:"w-5 h-5"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-sm font-semibold ${B.textPrimary}`,children:"Weather Pulse"}),(0,e.jsx)("p",{className:`text-xs ${B.textMuted}`,children:"Live API integration"})]})]}),(0,e.jsx)("span",{className:"text-xs font-semibold text-emerald-500",children:"Active"})]}),(0,e.jsxs)("div",{className:`rounded-2xl border p-4 flex items-center justify-between ${B.cardSoft}`,children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:`w-10 h-10 rounded-xl border shadow-sm flex items-center justify-center ${x?"bg-[#0B1320] border-white/10 text-sky-200":"bg-white border-sky-100 text-sky-600"}`,children:(0,e.jsx)(ra,{className:"w-5 h-5"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-sm font-semibold ${B.textPrimary}`,children:"Button Builder"}),(0,e.jsx)("p",{className:`text-xs ${B.textMuted}`,children:"Macro + toggle workflows"})]})]}),(0,e.jsx)("span",{className:`text-xs font-semibold ${x?"text-sky-200":"text-sky-600"}`,children:"Pro"})]})]}),(0,e.jsx)("div",{className:`rounded-2xl border border-dashed p-4 text-xs ${B.textMuted} ${x?"border-white/20 bg-[#0B1320]":"border-sky-200 bg-white"}`,children:(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(ye,{className:`w-4 h-4 ${x?"text-sky-300":"text-sky-500"}`}),"Brand kits auto-apply to every widget in the stack."]})})]})]})]}),(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:T.map(C=>(0,e.jsxs)("div",{className:`p-4 rounded-2xl border ${B.card}`,children:[(0,e.jsx)("div",{className:`text-3xl font-bold ${B.textPrimary}`,children:C.value}),(0,e.jsx)("div",{className:`text-[11px] uppercase tracking-[0.3em] mt-1 ${B.kicker}`,children:C.label}),(0,e.jsx)("p",{className:`text-xs mt-2 ${B.textSecondary}`,children:C.subLabel})]},C.label))}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"Story"}),(0,e.jsx)("h2",{className:`text-2xl md:text-3xl font-bold ${B.textPrimary}`,children:"From friction to launch in three chapters"}),(0,e.jsx)("p",{className:`text-sm max-w-2xl ${B.textSecondary}`,children:"A simple workflow that replaces manual embeds with a consistent, professional widget system."})]}),(0,e.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:Q.map(C=>(0,e.jsxs)("div",{className:`rounded-2xl border p-5 space-y-3 ${B.card}`,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x?"bg-sky-900/50 text-sky-200":"bg-sky-100 text-sky-600"}`,children:C.icon}),(0,e.jsx)("span",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:C.kicker})]}),(0,e.jsx)("h3",{className:`text-lg font-semibold ${B.textPrimary}`,children:C.title}),(0,e.jsx)("p",{className:`text-sm ${B.textSecondary}`,children:C.copy}),(0,e.jsxs)("button",{onClick:C.action,className:`text-xs font-semibold transition-colors inline-flex items-center gap-2 cursor-pointer ${x?"text-sky-200 hover:text-white":"text-sky-700 hover:text-sky-950"}`,children:[C.cta,(0,e.jsx)(At,{className:"w-4 h-4 rotate-180"})]})]},C.title))})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"Spotlight"}),(0,e.jsx)("h2",{className:`text-2xl font-bold ${B.textPrimary}`,children:"Featured widgets"})]}),(0,e.jsxs)("button",{onClick:()=>t("weather"),className:`px-4 py-2 rounded-full border text-sm transition-colors flex items-center gap-2 self-start sm:self-auto focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400 cursor-pointer ${B.ghostButton}`,children:["Explore builder ",(0,e.jsx)(At,{className:"w-4 h-4 rotate-180"})]})]}),(0,e.jsx)("div",{className:"flex gap-4 overflow-x-auto snap-x snap-mandatory pb-2 -mx-2 px-2 md:mx-0 md:px-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-6 md:overflow-visible",children:v.map(C=>(0,e.jsxs)("div",{className:`rounded-2xl p-6 border min-w-[260px] snap-center md:min-w-0 ${B.card}`,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${x?"bg-[#0B1320] border-white/10 text-sky-200":"bg-sky-50 border-sky-100 text-sky-600"}`,children:C.icon}),w[C.id]&&(0,e.jsx)("span",{className:`px-3 py-1 rounded-full text-[11px] uppercase tracking-widest border ${B.pill}`,children:w[C.id]})]}),(0,e.jsx)("h3",{className:`text-xl font-semibold mb-2 ${B.textPrimary}`,children:C.label}),(0,e.jsx)("p",{className:`text-sm mb-6 ${B.textSecondary}`,children:C.description||`Create a beautiful ${C.label.toLowerCase()} widget for your Notion pages.`}),(0,e.jsxs)("button",{onClick:()=>t(C.id),className:`w-full py-2 rounded-lg border text-sm font-semibold transition-colors cursor-pointer ${B.ghostButton}`,children:["Customize ",C.label]})]},C.id))})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,e.jsx)("div",{className:"flex gap-2 w-full overflow-x-auto pb-2 pr-4",style:{WebkitOverflowScrolling:"touch"},role:"tablist","aria-label":"Widget categories",children:N.map(C=>(0,e.jsx)("button",{type:"button",onClick:()=>u(C),className:`px-4 py-2 min-h-[44px] rounded-full text-[11px] uppercase tracking-widest border transition-colors cursor-pointer ${n===C?x?"border-sky-400 text-sky-100 bg-sky-900/40":"border-sky-400 text-sky-950 bg-sky-100":x?"border-white/10 text-slate-300 bg-[#0F172A] hover:border-white/30 hover:text-white":"border-sky-200 text-sky-700 bg-white hover:border-sky-400 hover:text-sky-950"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400`,"aria-pressed":n===C,role:"tab",children:C==="all"?"All widgets":C},C))}),(0,e.jsxs)("div",{className:"relative ml-auto",children:[(0,e.jsx)(it,{className:`w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 ${x?"text-slate-500":"text-slate-400"}`}),(0,e.jsx)("input",{ref:k,type:"text",value:c,onChange:C=>s(C.target.value),placeholder:"Search widgets...",className:`pl-9 pr-4 h-11 rounded-full border text-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400 shadow-sm ${B.input}`,"aria-label":"Search widgets"})]})]}),(0,e.jsx)("div",{className:"py-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(C=>(0,e.jsxs)("div",{className:`rounded-2xl border p-5 flex flex-col ${B.card}`,children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,e.jsx)("div",{className:`w-10 h-10 rounded-lg border flex items-center justify-center ${x?"bg-[#0B1320] border-white/10 text-sky-200":"bg-sky-50 border-sky-100 text-sky-600"}`,children:C.icon}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:`text-lg font-semibold ${B.textPrimary}`,children:C.label}),(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:C.category})]})]}),(0,e.jsx)("p",{className:`text-sm flex-1 ${B.textSecondary}`,children:C.description||`Create a ${C.label.toLowerCase()} widget.`}),(0,e.jsxs)("button",{onClick:()=>t(C.id),className:`mt-4 w-full py-2 rounded-lg border text-sm font-semibold transition-colors cursor-pointer ${x?"bg-sky-900/40 border-sky-600 text-sky-100 hover:bg-sky-800/60":"bg-sky-100 border-sky-300 text-sky-900 hover:bg-sky-200"}`,children:["Build ",C.label]})]},C.id))})]}),(0,e.jsxs)("section",{className:`relative overflow-hidden rounded-3xl border text-white ${x?"border-white/10 bg-[#0A1220]":"border-sky-100 bg-sky-900"}`,children:[(0,e.jsx)("div",{className:`absolute -top-24 -right-10 h-48 w-48 rounded-full ${x?"bg-sky-900/60":"bg-sky-700/40"}`,"aria-hidden":"true"}),(0,e.jsxs)("div",{className:"relative p-6 sm:p-8 lg:p-10 flex flex-col lg:flex-row gap-8 items-start w-full",children:[(0,e.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"p-3 rounded-full bg-white/10 border border-white/20",children:(0,e.jsx)(ye,{className:"w-6 h-6 text-white"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-sky-200",children:"Brand Kit"}),(0,e.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Generate once, sync everywhere"})]})]}),(0,e.jsx)("p",{className:"text-sm text-sky-100 max-w-4xl",children:"Upload a logo, capture its palette, and notch it into every widget automatically. The generator writes to local storage so your theme loads every time you reopen the builder."}),(0,e.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-sky-100",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Fe,{className:"w-4 h-4 text-emerald-300"}),"8+ curated presets per brand"]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Fe,{className:"w-4 h-4 text-emerald-300"}),"Auto-applies to light + dark modes"]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Fe,{className:"w-4 h-4 text-emerald-300"}),"Palette chips ready for export"]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Fe,{className:"w-4 h-4 text-emerald-300"}),"One-click re-launch from builder"]})]})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-3 w-full lg:w-auto",children:[(0,e.jsx)("button",{onClick:o,className:"px-8 py-3 rounded-full font-semibold tracking-[0.2em] uppercase bg-orange-500 text-white hover:bg-orange-600 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-300 cursor-pointer",children:"Launch Generator"}),(0,e.jsx)("button",{onClick:()=>t("newButtonGenerator"),className:"px-8 py-3 rounded-full font-semibold tracking-[0.2em] uppercase border border-white/40 text-white hover:border-white transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white cursor-pointer",children:"Preview With Buttons"})]})]})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"Workflow"}),(0,e.jsx)("h2",{className:`text-2xl font-bold ${B.textPrimary}`,children:"How builders ship faster"})]}),(0,e.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:H.map(C=>(0,e.jsxs)("div",{className:`rounded-2xl border p-5 space-y-3 ${B.card}`,children:[(0,e.jsx)("div",{className:`w-10 h-10 rounded-full border flex items-center justify-center ${x?"bg-[#0B1320] border-white/10":"bg-sky-50 border-sky-100"}`,children:C.icon}),(0,e.jsx)("h3",{className:`text-lg font-semibold ${B.textPrimary}`,children:C.title}),(0,e.jsx)("p",{className:`text-sm ${B.textSecondary}`,children:C.copy})]},C.title))})]}),(0,e.jsxs)("section",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"Loved by teams"}),(0,e.jsx)("h2",{className:`text-2xl font-bold ${B.textPrimary}`,children:"Feedback from early builders"})]}),(0,e.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(C=>(0,e.jsxs)("div",{className:`rounded-2xl border p-5 ${B.card}`,children:[(0,e.jsx)("p",{className:`text-sm leading-relaxed ${B.textSecondary}`,children:C.quote}),(0,e.jsx)("p",{className:`mt-4 text-xs uppercase tracking-[0.3em] ${B.kicker}`,children:C.author})]},C.author))})]}),(0,e.jsxs)("section",{className:`rounded-3xl border p-8 text-center space-y-4 ${B.card}`,children:[(0,e.jsx)("p",{className:`text-[11px] uppercase tracking-[0.3em] ${B.kicker}`,children:"Climax CTA"}),(0,e.jsx)("h2",{className:`text-2xl md:text-3xl font-bold ${B.textPrimary}`,children:"Ship your first widget in minutes"}),(0,e.jsx)("p",{className:`text-sm max-w-2xl mx-auto ${B.textSecondary}`,children:"Launch the builder, pick a widget, and apply your brand kit. Your Notion pages stay polished without the manual work."}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[(0,e.jsx)("button",{onClick:()=>t("clock"),className:"px-6 py-3 rounded-full text-sm font-semibold tracking-[0.2em] uppercase bg-orange-500 text-white hover:bg-orange-600 transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-300 cursor-pointer",children:"Open Builder"}),(0,e.jsx)("button",{onClick:o,className:`px-6 py-3 rounded-full text-sm font-semibold tracking-[0.2em] uppercase border transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400 cursor-pointer ${B.outlineButton}`,children:"Generate Brand Kit"})]})]}),(0,e.jsx)("footer",{className:`text-center pt-8 text-sm ${B.textMuted}`,children:(0,e.jsxs)("p",{children:["© ",new Date().getFullYear()," MetraNode. Built for the Notion community."]})})]})]})}var fo=(t,o)=>{if(!o)return t;const r={...t};return r.brandThemeSnapshot={...o,appliedAt:o.appliedAt||new Date().toISOString()},o.backgroundColor&&(r.bgColor=o.backgroundColor,r.backgroundColor!==void 0&&(r.backgroundColor=o.backgroundColor)),o.textColor&&r.textColor!==void 0&&(r.textColor=o.textColor),o.accentColor&&r.accentColor!==void 0&&(r.accentColor=o.accentColor),r.lightMode&&(r.lightMode={...r.lightMode,backgroundColor:o.backgroundColor||r.lightMode.backgroundColor,clockColor:o.clockColor||r.lightMode.clockColor,digitColor:o.digitColor||o.clockColor||r.lightMode.digitColor,textColor:o.textColor||r.lightMode.textColor}),r.darkMode&&(r.darkMode={...r.darkMode,backgroundColor:o.backgroundColor||r.darkMode.backgroundColor,clockColor:o.clockColor||r.darkMode.clockColor,digitColor:o.digitColor||o.clockColor||r.darkMode.digitColor,textColor:o.textColor||r.darkMode.textColor}),o.glow!==void 0&&r.glowEffect!==void 0&&(r.glowEffect=o.glow),o.texture&&r.backgroundTexture!==void 0&&(r.backgroundTexture=o.texture),r},Jt=(t,o,r)=>{if(o==="custom"&&r)return fo(t,r);if(o==="none"){const c={...t};return delete c.brandThemeSnapshot,c}const n=bo[o];if(!n){const c={...t};return delete c.brandThemeSnapshot,c}const u={...t};return delete u.brandThemeSnapshot,n.fontFamily&&(u.fontFamily=n.fontFamily),n.bgColor&&(u.bgColor=n.bgColor),n.textColor&&(u.textColor=n.textColor),n.accentColor&&(u.accentColor=n.accentColor),o==="jazer"&&(u.glowEffect!==void 0&&(u.glowEffect=!0),u.gradientText!==void 0&&(u.gradientText=!0)),u};function Xs({initialWidgetId:t,onBack:o,globalBrandTheme:r,onBrandThemeUpdate:n,onLaunchBrandGenerator:u}){const c=(0,h.useMemo)(()=>r?Ie(r):null,[r]),[s,m]=(0,h.useState)(t),[d,g]=(0,h.useState)(c?"custom":"none"),[l,p]=(0,h.useState)(()=>{const b=Re[t].defaultConfig;return c?fo(b,c):b}),[x,k]=(0,h.useState)(c),[F,N]=(0,h.useState)({}),[y,v]=(0,h.useState)(""),j=(0,h.useRef)({}),w=(0,h.useRef)(null),T=(0,h.useRef)(null),f=(0,h.useRef)(null),[H,Q]=(0,h.useState)(null),[D,B]=(0,h.useState)(!1),[C,Z]=(0,h.useState)(xt),[$,W]=(0,h.useState)(!1),[ne,ke]=(0,h.useState)(!1),[xe,me]=(0,h.useState)(""),[ve,pe]=(0,h.useState)("all"),[R,J]=(0,h.useState)(()=>{if(typeof window>"u")return[];try{const b=window.localStorage.getItem("notion_wiz_pins");return b?JSON.parse(b):[]}catch{return[]}}),{recentWidgets:le,addRecentWidget:be}=zs(),[Ve,Ue]=(0,h.useState)(!1),Le=(0,h.useCallback)(()=>typeof window>"u"?!0:window.innerWidth>=1024,[]),[Be,ut]=(0,h.useState)(Le),[et,De]=(0,h.useState)(Le);(0,h.useEffect)(()=>{if(typeof window>"u")return;let b=Le();const L=()=>{const A=Le();A!==b&&(b=A,ut(A),De(A))};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[Le]);const{theme:M}=Ee(),_=!!M?.isDark,a=(0,h.useMemo)(()=>({page:_?"bg-[#0B0E12] text-slate-100":"bg-slate-50 text-slate-900",sidebar:_?"bg-[#111827] border-white/10":"bg-white border-slate-200",sidebarHeader:_?"border-white/10":"border-slate-200",sidebarMuted:_?"text-neutral-500":"text-slate-400",sidebarText:_?"text-neutral-300":"text-slate-600",panel:_?"bg-[#0F1115] border-white/5":"bg-white border-slate-200",panelHeader:_?"bg-[#10121A] border-white/10":"bg-white border-slate-200",panelTop:_?"bg-[#0A0C12]/95 border-white/10":"bg-white/95 border-slate-200",card:_?"bg-white/5 border-white/10":"bg-white border-slate-200",cardSoft:_?"bg-white/5 border-white/10":"bg-slate-50 border-slate-200",input:_?"bg-white/5 border-interactive text-white placeholder:text-neutral-400":"bg-slate-100 border-slate-200 text-slate-700 placeholder:text-slate-400",chip:_?"border-interactive text-neutral-300 hover:border-emphasis hover:text-white hover:bg-white/5":"border-slate-200 text-slate-600 hover:border-slate-300 hover:text-slate-900 hover:bg-slate-50",chipActive:_?"border-accent text-white bg-purple-500/20 shadow-sm":"border-sky-300 text-sky-900 bg-sky-100",ghostButton:_?"border-white/15 text-neutral-200 hover:border-purple-300 hover:text-white":"border-slate-200 text-slate-600 hover:border-slate-300 hover:text-slate-900",muted:_?"text-neutral-400":"text-slate-500",mutedStrong:_?"text-neutral-300":"text-slate-600",border:_?"border-white/10":"border-slate-200"}),[_]),S=Os(l,Ls),I=x||c,P=!!I,E=I?.presetName||I?.name||"Custom Brand Theme",G=Re[s],O=(0,h.useMemo)(()=>G?.sections?G.sections.map(b=>{const L=G.fields.filter(A=>(A.section||"general")===b.id).length;return{...b,controlCount:L}}).filter(b=>b.controlCount>0):[],[G]);(0,h.useEffect)(()=>{const b=document.createElement("link");return b.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@400;700&family=Roboto&family=Open+Sans&display=swap",b.rel="stylesheet",document.head.appendChild(b),()=>document.head.removeChild(b)},[]),(0,h.useEffect)(()=>{j.current={}},[s]),(0,h.useEffect)(()=>{if(!$)return;const b=L=>{f.current&&(f.current.contains(L.target)||W(!1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[$]),(0,h.useEffect)(()=>{if(!(typeof window>"u"))try{localStorage.setItem("notion_wiz_pins",JSON.stringify(R))}catch{}},[R]);const ee=(0,h.useCallback)(b=>{N(L=>({...L,[b]:L[b]===!1}))},[]),oe=(0,h.useCallback)(b=>F[b]!==!1,[F]),X=b=>{m(b),ke(!1),Z(xt);const L=Re[b].defaultConfig;p(Jt(L,d,I)),Ue(!1),me("");const A=Re[b];A&&be(b,A.label)},ce=b=>{const L=Jt(Re[s].defaultConfig,d,I);JSON.stringify(l)!==JSON.stringify(L)&&!window.confirm("Applying a brand kit will override your current customizations. Continue?")||(g(b),p(A=>Jt(A,b,I)))},Me=(b,L)=>L.split(".").reduce((A,q)=>A?.[q],b),we=(b,L,A)=>{const q=L.split("."),ae=q.pop(),K=q.reduce((fe,he)=>(fe[he]||(fe[he]={}),fe[he]),b);return K[ae]=A,b},z=(0,h.useCallback)((b,L)=>{if(b.includes(".")){p(A=>{const q={...A};return we(q,b,L),q});return}if(b==="lightMode"||b==="darkMode"){p(A=>({...A,[b]:{...A[b],...L}}));return}p(A=>{let q=L;if(typeof A[b]=="number"&&typeof L=="string"){const ae=parseInt(L,10);q=Number.isNaN(ae)?A[b]:ae}return{...A,[b]:q}})},[]),ue=(0,h.useCallback)(b=>{v(b),b.trim()?Z(Number.MAX_SAFE_INTEGER):Z(xt)},[]),de=(0,h.useCallback)(b=>{const L=b?Ie(b):null;if(L){k(L),g("custom"),n?.(L);try{localStorage.setItem("jazer_global_brand_theme",JSON.stringify(L)),localStorage.setItem("jazer_global_brand_active","true")}catch{}return}k(null),g(A=>A==="custom"?"none":A),n?.(null);try{localStorage.removeItem("jazer_global_brand_theme"),localStorage.removeItem("jazer_global_brand_active")}catch{}},[n]),_e=(0,h.useMemo)(()=>["all","pinned",...Array.from(new Set(Object.values(ir)))],[]),ge=(0,h.useMemo)(()=>{const b=xe.trim().toLowerCase(),L=A=>R.indexOf(A);return Object.values(Re).map(A=>({...A,category:ir[A.id]||"Other",isPinned:R.includes(A.id)})).filter(A=>b?[A.label,A.description].filter(Boolean).map(q=>String(q).toLowerCase()).some(q=>q.includes(b)):!0).filter(A=>ve==="all"?!0:ve==="pinned"?A.isPinned:A.category===ve).sort((A,q)=>{const ae=L(A.id),K=L(q.id);return ae!==K?ae===-1?1:K===-1?-1:ae-K:A.label.localeCompare(q.label)})},[xe,ve,R]),te=(0,h.useMemo)(()=>["all","pinned"],[]),Ke=(0,h.useMemo)(()=>_e.filter(b=>!te.includes(b)),[_e,te]),$e=(0,h.useMemo)(()=>ge.filter(b=>b.isPinned),[ge]),Ae=(0,h.useMemo)(()=>ge.filter(b=>!b.isPinned),[ge]),pt=ve==="all"&&!xe.trim(),He=(0,h.useCallback)(b=>{J(L=>L.includes(b)?L.filter(A=>A!==b):[...L,b])},[]),yo={all:gt,pinned:er,"Time & Productivity":vt,"Data & Information":Jo,"Media & Display":xr,"Interactive & Actions":dr,Other:Mo},br=b=>{const L=b==="all"?"All Widgets":b==="pinned"?"Pinned":b,A=ve===b,q=b==="pinned"&&R.length===0,ae=yo[b]||null;return(0,e.jsxs)("button",{type:"button",disabled:q,onClick:()=>pe(b),className:`
          text-[10px] px-3 py-1.5 rounded-full border transition-all flex items-center gap-1.5
          ${A?a.chipActive:a.chip}
          ${q?"opacity-30 cursor-not-allowed":""}
          focus-ring
        `,"aria-pressed":A,children:[ae&&(0,e.jsx)(ae,{className:"w-3 h-3"}),L]},b)},Ot=b=>{const L=b.description||`Customize the ${b.label} widget.`,A=s===b.id;return(0,e.jsxs)("div",{className:`border rounded-xl p-3 flex items-start gap-3 transition-all duration-200 ${A?_?"border-accent bg-purple-500/15 shadow-lg shadow-purple-900/30":"border-sky-300 bg-sky-100 shadow-sm":_?"border-interactive bg-white/5 hover:border-emphasis hover:bg-white/[0.07]":"border-slate-200 bg-white hover:border-slate-300"}`,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>X(b.id),className:"flex-1 text-left flex items-start gap-3 focus-ring-inset rounded",children:[(0,e.jsx)("div",{className:`pt-1 px-2 py-1 rounded-lg text-sm transition-colors ${A?_?"text-purple-300 bg-purple-500/10":"text-sky-700 bg-sky-200/70":_?"text-neutral-300":"text-slate-500"}`,children:b.icon}),(0,e.jsxs)("div",{className:"space-y-1 flex-1 min-w-0",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,e.jsx)("span",{className:`text-sm font-semibold ${_?"text-white":"text-slate-900"}`,children:b.label}),A&&(0,e.jsx)("span",{className:`text-[10px] uppercase px-2 py-0.5 rounded-full border ${_?"bg-purple-500/20 border-accent text-purple-200":"bg-sky-200/70 border-sky-300 text-sky-800"}`,children:"Active"})]}),(0,e.jsx)("p",{className:`text-[11px] leading-snug line-clamp-2 ${a.muted}`,children:L}),(0,e.jsx)("span",{className:`text-[10px] uppercase tracking-wider ${a.sidebarMuted}`,children:b.category})]})]}),(0,e.jsx)("button",{type:"button","aria-label":b.isPinned?"Unpin widget":"Pin widget",onClick:q=>{q.stopPropagation(),He(b.id)},className:`p-1.5 rounded-full border transition-all focus-ring ${b.isPinned?"border-amber-300 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20":_?"border-interactive text-neutral-400 hover:border-amber-200 hover:text-amber-200 hover:bg-amber-500/10":"border-slate-200 text-slate-400 hover:border-amber-300 hover:text-amber-500 hover:bg-amber-100"}`,children:(0,e.jsx)(er,{className:"w-3.5 h-3.5",fill:b.isPinned?"#FCD34D":"none"})})]},b.id)},fr=(b,L)=>(0,e.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,e.jsx)("h3",{className:`text-[10px] uppercase tracking-wider font-bold ${_?"text-purple-400":"text-slate-500"}`,children:b}),(0,e.jsx)("span",{className:`text-[9px] ${a.sidebarMuted}`,children:L})]}),vo=(0,h.useMemo)(()=>[{id:"brandControls",label:"Brand Kit"},{id:"appearanceControls",label:"Surface"},...O.map(b=>({id:b.id,label:b.label}))],[O]),{nodes:wo,total:Ge}=(0,h.useMemo)(()=>{if(!G)return{nodes:[],total:0};const b=y.trim().toLowerCase(),L=G.sections?G.sections.map(K=>K.id):[...new Set(G.fields.map(K=>K.section))].filter(Boolean),A=G.fields.filter(K=>!K.section);A.length>0&&!L.includes("general")&&L.unshift("general");const q=K=>b?[K.label,K.name,K.placeholder,K.section].filter(Boolean).map(fe=>String(fe).toLowerCase()).some(fe=>fe.includes(b)):!0,ae=L.map(K=>{const fe=K==="general"?A:G.fields.filter(se=>se.section===K);if(fe.length===0)return null;let he=K,je=null;G.sections?(je=G.sections.find(se=>se.id===K),he=je?je.label:K):he={time:"Time Display",style:"Clock Style",analog:"Analog Customization",typography:"Typography",background:"Background",interactive:"Interactive Mode",theme:"Preset Themes",appearance:"Appearance Mode",features:"Additional Features",effects:"Visual Effects",event:"Event Setup",units:"Time Units",completion:"Completion",general:"General Settings"}[K]||K;const Pe=he.toLowerCase(),Nt=b&&je?.description?.toLowerCase().includes(b),We=b&&je?.notes?.some(se=>[se.title,se.body].filter(Boolean).some(Xe=>Xe.toLowerCase().includes(b))),tt=b&&(Pe.includes(b)||Nt||We),St=s==="newButtonGenerator"&&!ne&&!b,yr={macroInput:!!(l.macroMode?.enabled||l.inputMode?.enabled),cycleToggle:!!(l.cycleMode?.enabled||l.toggleMode?.enabled),notionIntegration:!!l.notionIntegration?.enabled,visuals:!!(l.visuals?.enableParticleEffects||l.visuals?.activeGlow||l.visuals?.showProgressArc||l.visuals?.badgesEnabled),dataAware:!!l.dataAware?.enabled};if(St&&Object.prototype.hasOwnProperty.call(yr,K)&&!yr[K]){const se=()=>{K==="macroInput"&&z("macroMode.enabled",!0),K==="cycleToggle"&&z("toggleMode.enabled",!0),K==="notionIntegration"&&z("notionIntegration.enabled",!0),K==="dataAware"&&z("dataAware.enabled",!0),K==="visuals"&&z("visuals",{...l.visuals,enableParticleEffects:!0,activeGlow:!0,showProgressArc:!0,badgesEnabled:!0})};return(0,e.jsxs)("div",{ref:Xe=>{Xe&&(j.current[K]=Xe)},className:`border rounded-lg overflow-hidden ${a.card} ${H===K?"ring-2 ring-purple-400":""}`,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>ee(K),className:`w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold ${_?"text-white":"text-slate-900"}`,children:[(0,e.jsxs)("div",{className:"flex flex-col text-left",children:[(0,e.jsxs)("span",{className:"flex items-center gap-2",children:[(0,e.jsx)(qo,{className:`w-4 h-4 ${a.muted}`}),he]}),(0,e.jsx)("span",{className:`text-[11px] font-normal ${a.muted}`,children:"Hidden while disabled. Enable this upgrade to configure it."})]}),(0,e.jsx)(Vt,{className:"w-4 h-4 transition-transform",style:{transform:oe(K)?"rotate(180deg)":"rotate(0deg)"}})]}),oe(K)&&(0,e.jsx)("div",{className:`p-3 space-y-3 border-t ${a.border}`,children:(0,e.jsxs)("div",{className:`flex items-start justify-between gap-3 rounded-lg p-3 border ${_?"bg-black/20 border-white/10":"bg-slate-50 border-slate-200"}`,children:[(0,e.jsx)("div",{className:`text-xs leading-snug ${a.mutedStrong}`,children:"Use the expanding Upgrade orb on the preview to turn this on, or enable it here."}),(0,e.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,e.jsx)("button",{type:"button",onClick:()=>ke(!0),className:`text-[11px] px-3 py-1.5 rounded-full border transition ${a.ghostButton}`,children:"Show"}),(0,e.jsx)("button",{type:"button",onClick:se,className:`text-[11px] px-3 py-1.5 rounded-full border transition ${_?"border-emerald-300/60 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20":"border-emerald-300 text-emerald-700 bg-emerald-50 hover:bg-emerald-100"}`,children:"Enable"})]})]})})]},K)}const vr=tt?fe:fe.filter(q);if(vr.length===0)return null;const wr=b?!0:oe(K);return(0,e.jsxs)("div",{ref:se=>{se&&(j.current[K]=se)},className:`border rounded-lg overflow-hidden ${a.card} ${H===K?"ring-2 ring-purple-400":""}`,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>ee(K),className:`w-full px-3 py-2 flex items-center justify-between text-left text-sm font-semibold ${_?"text-white":"text-slate-900"}`,children:[(0,e.jsxs)("div",{className:"flex flex-col text-left",children:[(0,e.jsx)("span",{children:he}),je?.description&&(0,e.jsx)("span",{className:`text-[11px] font-normal ${a.muted}`,children:je.description})]}),(0,e.jsx)(Vt,{className:"w-4 h-4 transition-transform",style:{transform:wr?"rotate(180deg)":"rotate(0deg)"}})]}),wr&&(0,e.jsxs)("div",{className:`p-3 space-y-3 border-t ${a.border}`,children:[je?.notes?.length>0&&(0,e.jsx)("div",{className:`space-y-2 text-[11px] rounded p-2 border ${_?"text-neutral-300 bg-white/5 border-white/10":"text-slate-600 bg-slate-50 border-slate-200"}`,children:je.notes.map(se=>(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("div",{className:`text-xs font-semibold ${_?"text-white":"text-slate-900"}`,children:se.title}),se.body&&(0,e.jsx)("p",{children:se.body})]},`${K}-${se.title}`))}),vr.map(se=>{let Xe=se;if(se.name==="presetTheme"&&x&&s==="clock"){const Gt=[{label:"--- Brand-Based Themes ---",value:"__separator__",disabled:!0},{label:"Brand Monochrome",value:"brand-monochrome"},{label:"Brand Contrast",value:"brand-contrast"},{label:"Brand Vibrant",value:"brand-vibrant"},{label:"Brand Professional",value:"brand-professional"},{label:"Brand Dark",value:"brand-dark"},{label:"Brand Light",value:"brand-light"},{label:"Brand Neon",value:"brand-neon"},{label:"Brand Minimal",value:"brand-minimal"}];Xe={...se,options:[...se.options,...Gt]}}return(0,e.jsx)(Js,{field:Xe,value:se.name.includes(".")?Me(l,se.name):l[se.name],onChange:Gt=>z(se.name,Gt)},se.name)})]})]},K)}).filter(Boolean);return ae.length===0?{nodes:[(0,e.jsx)("div",{className:`text-xs italic ${a.muted}`,children:b?`No settings match "${y}".`:"No configurable settings available."},"empty")],total:0}:{nodes:b?ae:ae.slice(0,C),total:ae.length}},[G,s,x,l,y,a,z,H,_,oe,ne,ee,C]),Rt=!y.trim()&&Ge>C,ko=Math.min(C,Ge),_o=y.trim()?`${Ge} sections matched`:`Showing ${ko} of ${Ge} sections`;(0,h.useEffect)(()=>{if(y.trim()||C>=Ge)return;const b=typeof window<"u"?window.requestAnimationFrame:null,L=()=>{const A=w.current;A&&A.scrollHeight<=A.clientHeight+40&&Z(q=>Math.min(q+xt,Ge))};if(b)return b(L),()=>{};L()},[y,Ge,C]),(0,h.useEffect)(()=>{if(!Rt)return;const b=T.current;if(!b)return;const L=w.current||null,A=new IntersectionObserver(q=>{q[0].isIntersecting&&Z(ae=>Math.min(ae+xt,Ge))},{root:L,threshold:.25});return A.observe(b),()=>A.disconnect()},[Rt,Ge]);const Ht=(0,h.useCallback)(b=>!b||!j.current[b]?!1:(j.current[b].scrollIntoView({behavior:"smooth",block:"center"}),N(L=>({...L,[b]:!0})),Q(b),setTimeout(()=>{Q(L=>L===b?null:L)},1500),!0),[]),Ye=(0,h.useCallback)(b=>{!Ht(b)&&b?(Z(Number.MAX_SAFE_INTEGER),typeof window<"u"&&window.requestAnimationFrame(()=>{setTimeout(()=>Ht(b),80)})):!b&&w.current&&w.current.scrollIntoView({behavior:"smooth",block:"start"}),B(!0),setTimeout(()=>B(!1),1200)},[Ht]),jo=(0,h.useMemo)(()=>{const b=[{id:"upgrade-brand",label:"Brand Kit Sync",description:"Apply a global palette and keep widgets consistent.",icon:qe,kind:"navigate",cta:"Open",onSelect:()=>Ye("brandControls")},{id:"upgrade-surface",label:"Surface & Canvas",description:"Tune background, text, and sizing for a cleaner embed.",icon:gt,kind:"navigate",cta:"Open",onSelect:()=>Ye("appearanceControls")}];if(s!=="newButtonGenerator")return b;const L=[{id:"upgrade-hover",label:"Hover Menu",description:"Show hover glow + interaction hints on the widget surface.",icon:lt,kind:"toggle",enabled:!!l.showHoverMenu,keepOpen:!0,onToggle:q=>z("showHoverMenu",q)},{id:"upgrade-customize-button",label:"Customize Button",description:"Expose quick navigation into the Configure panel.",icon:jr,kind:"toggle",enabled:!!l.showCustomizeButton,keepOpen:!0,onToggle:q=>z("showCustomizeButton",q)},{id:"upgrade-macro",label:"Macro Mode",description:"Run a sequence of actions from one click.",icon:Qt,kind:"toggle",enabled:!!l.macroMode?.enabled,keepOpen:!0,onToggle:q=>z("macroMode.enabled",q)},{id:"upgrade-input",label:"Input Mode",description:"Prompt for a quick note before running actions.",icon:Zo,kind:"toggle",enabled:!!l.inputMode?.enabled,keepOpen:!0,onToggle:q=>z("inputMode.enabled",q)},{id:"upgrade-cycle",label:"Cycle Mode",description:"Cycle through presets (Start, Pause, Skip, Complete).",icon:hr,kind:"toggle",enabled:!!l.cycleMode?.enabled,keepOpen:!0,onToggle:q=>z("cycleMode.enabled",q)},{id:"upgrade-toggle",label:"Toggle State",description:"Persist an Active/Inactive state with glow + logging.",icon:Qo,kind:"toggle",enabled:!!l.toggleMode?.enabled,keepOpen:!0,onToggle:q=>z("toggleMode.enabled",q)},{id:"upgrade-notion",label:"Notion Integration",description:"Simulate database actions, templates, and two-way conditions.",icon:Gr,kind:"toggle",enabled:!!l.notionIntegration?.enabled,keepOpen:!0,onToggle:q=>z("notionIntegration.enabled",q)},{id:"upgrade-visuals",label:"Premium Visuals",description:"Particles, progress arc, badges, and active glow.",icon:ye,kind:"toggle",enabled:!!(l.visuals?.enableParticleEffects||l.visuals?.activeGlow||l.visuals?.showProgressArc||l.visuals?.badgesEnabled),keepOpen:!0,onToggle:q=>z("visuals",{...l.visuals,enableParticleEffects:q,activeGlow:q,showProgressArc:q,badgesEnabled:q})},{id:"upgrade-data-aware",label:"Data-Aware Reactions",description:"Let sample metrics change colors, labels, and status.",icon:aa,kind:"toggle",enabled:!!l.dataAware?.enabled,keepOpen:!0,onToggle:q=>z("dataAware.enabled",q)}],A=[{id:"jump-modes",label:"Edit Modes & Macros",description:"Jump straight to macro + input mode settings.",icon:Kt,kind:"navigate",cta:"Jump",onSelect:()=>Ye("macroInput")},{id:"jump-notion",label:"Configure Notion Sync",description:"Database, template, two-way rules, and conditionals.",icon:Kt,kind:"navigate",cta:"Jump",onSelect:()=>Ye("notionIntegration")}];return[...b,...L,...A]},[s,l,z,Ye]);return(0,e.jsxs)("div",{className:`min-h-screen flex flex-col lg:flex-row font-sans ${a.page}`,children:[!Be&&et&&(0,e.jsx)("button",{type:"button",className:"fixed inset-0 bg-black/60 z-30 lg:hidden","aria-label":"Close widget list overlay",onClick:()=>De(!1)}),(0,e.jsxs)("div",{className:`${Be?"relative w-full lg:w-72":"fixed inset-y-0 left-0 w-72 max-w-[85vw] transform transition-transform duration-300 z-40"} flex flex-col h-full min-h-0 ${a.sidebar}`,style:{transform:Be||et?"translateX(0)":"translateX(-100%)"},children:[(0,e.jsxs)("div",{className:`p-4 space-y-3 border-b ${a.sidebarHeader}`,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[10px] uppercase tracking-[0.3em] ${a.sidebarMuted}`,children:"Builder"}),(0,e.jsxs)("h1",{className:"text-lg font-bold flex items-center gap-2 gradient-text neon-text",children:[(0,e.jsx)(gt,{className:"w-5 h-5",style:{color:"var(--jazer-electric-purple)"}})," ",G?.label||"Widget"]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[!Be&&(0,e.jsx)("button",{type:"button","aria-label":"Close widget list",onClick:()=>De(!1),className:`p-1 rounded-full border transition ${a.ghostButton}`,children:(0,e.jsx)(Ze,{className:"w-3 h-3"})}),(0,e.jsxs)("button",{"aria-label":"Navigate back to home",onClick:o,className:`flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full border transition-colors ${a.ghostButton}`,children:[(0,e.jsx)(At,{className:"w-3 h-3"})," Exit"]})]})]}),(0,e.jsx)("p",{className:`text-[11px] leading-snug ${a.muted}`,children:"Choose a widget to edit. Use search or pin your frequent favorites for faster access."})]}),(0,e.jsxs)("div",{className:`px-4 py-3 border-b space-y-2 ${a.sidebarHeader}`,children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(it,{className:`w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 ${a.sidebarMuted}`}),(0,e.jsx)("input",{type:"text",value:xe,onChange:b=>me(b.target.value),placeholder:"Search widgets...",className:`w-full rounded-full py-2 pl-9 pr-9 text-sm focus-ring transition-all ${a.input}`,"aria-label":"Search widgets"}),xe&&(0,e.jsx)("button",{onClick:()=>me(""),className:`absolute right-3 top-1/2 -translate-y-1/2 transition-colors focus-ring rounded ${a.sidebarMuted} ${_?"hover:text-white":"hover:text-slate-900"}`,"aria-label":"Clear search",children:(0,e.jsx)(Ze,{className:"w-4 h-4"})})]}),(0,e.jsxs)("div",{className:`flex items-center justify-between text-[10px] uppercase tracking-widest ${a.sidebarMuted}`,children:[(0,e.jsxs)("span",{children:[ge.length," results"]}),(0,e.jsx)("span",{className:a.muted,children:"Pin favorites for quick access"})]})]}),(0,e.jsxs)("div",{className:`px-4 py-3 border-b space-y-3 ${a.sidebarHeader}`,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[10px] uppercase tracking-[0.3em] ${a.sidebarMuted}`,children:"Quick Filters"}),(0,e.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:te.map(br)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[10px] uppercase tracking-[0.3em] ${a.sidebarMuted}`,children:"Categories"}),(0,e.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Ke.map(br)})]})]}),(0,e.jsxs)("nav",{className:"flex-1 overflow-y-auto px-3 py-3 space-y-3",children:[le.length>0&&ve==="all"&&!xe&&(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,e.jsxs)("h3",{className:"text-[10px] uppercase tracking-wider font-bold text-purple-400 flex items-center gap-1.5",children:[(0,e.jsx)(vt,{className:"w-3 h-3"}),"Recent"]}),(0,e.jsx)("span",{className:`text-[9px] ${a.sidebarMuted}`,children:le.length})]}),(0,e.jsx)("div",{className:"space-y-1.5",children:le.slice(0,3).map(b=>(0,e.jsxs)("button",{type:"button",onClick:()=>X(b.id),className:`
                        w-full px-3 py-2 rounded-lg text-left transition-all flex items-center justify-between group
                        ${s===b.id?_?"bg-purple-500/15 border border-accent text-white":"bg-sky-100 border border-sky-300 text-sky-900":_?"bg-white/5 border border-subtle hover:border-interactive hover:bg-white/[0.07] text-neutral-300 hover:text-white":"bg-white border border-slate-200 text-slate-600 hover:border-slate-300 hover:text-slate-900"}
                      `,children:[(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("div",{className:"text-xs font-medium truncate",children:b.label}),(0,e.jsx)("div",{className:`text-[10px] ${a.sidebarMuted}`,children:Es(b.timestamp)})]}),(0,e.jsx)(pr,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]},b.id))}),(0,e.jsx)("div",{className:`border-t pt-2 ${a.sidebarHeader}`})]}),ge.length===0?(0,e.jsx)("div",{className:`text-xs rounded-xl p-4 ${a.card} ${a.muted}`,children:"No widgets match your search. Try a different phrase or reset filters."}):pt?(0,e.jsxs)("div",{className:"space-y-4",children:[$e.length>0&&(0,e.jsxs)("div",{className:"space-y-2",children:[fr("Pinned Widgets",$e.length),(0,e.jsx)("div",{className:"space-y-2",children:$e.map(Ot)}),(0,e.jsx)("div",{className:`border-t ${a.sidebarHeader}`})]}),Ae.length>0&&(0,e.jsxs)("div",{className:"space-y-2",children:[fr("All Widgets",Ae.length),(0,e.jsx)("div",{className:"space-y-2",children:Ae.map(Ot)})]})]}):(0,e.jsx)("div",{className:"space-y-2",children:ge.map(Ot)})]})]}),(0,e.jsxs)("div",{className:`flex-1 flex flex-col min-h-0 ${_?"bg-[#0B0E12]":"bg-slate-100"}`,children:[(0,e.jsxs)("div",{className:`border-b px-2 py-4 sm:px-2 sm:py-6 space-y-4 ${a.panelHeader}`,children:[!Be&&(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("button",{type:"button",onClick:()=>De(!0),className:`px-3 py-1.5 rounded-full border text-xs uppercase tracking-[0.3em] flex items-center gap-2 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400 ${a.ghostButton}`,children:[(0,e.jsx)(gt,{className:"w-3 h-3"})," Widgets"]}),(0,e.jsx)("span",{className:`text-[11px] uppercase tracking-[0.3em] ${a.sidebarMuted}`,children:"Preview"})]}),(0,e.jsx)(Zs,{activeBrandId:d,config:l,activeWidgetId:s,debouncedConfig:S,handleConfigChange:z,brandTheme:x,ActiveWidget:G,showExport:Ve,setShowExport:Ue,onCustomizeRequest:Ye,upgradeItems:jo})]}),(0,e.jsxs)("div",{className:`flex-1 flex flex-col border-t min-h-0 ${a.panel}`,children:[(0,e.jsxs)("div",{className:`lg:sticky lg:top-0 z-10 border-b backdrop-blur-md px-4 py-3 flex flex-wrap items-center gap-3 ${a.panelTop}`,children:[(0,e.jsx)("div",{className:`text-xs font-bold uppercase tracking-[0.4em] ${a.sidebarMuted}`,children:"Configure"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[s==="newButtonGenerator"&&(0,e.jsxs)("button",{type:"button",onClick:()=>ke(b=>!b),className:`text-[11px] px-3 py-1.5 rounded-full border transition flex items-center gap-1.5 ${ne?_?"border-emerald-300/60 text-emerald-100 bg-emerald-500/10":"border-emerald-300 text-emerald-700 bg-emerald-50":a.ghostButton}`,"aria-pressed":ne,title:ne?"Hide advanced sections when disabled":"Show all sections (even if disabled)",children:[(0,e.jsx)(Qt,{className:"w-3.5 h-3.5"}),ne?"All":"Guided"]}),(0,e.jsxs)("div",{className:"relative",ref:f,children:[(0,e.jsxs)("button",{type:"button",onClick:()=>W(b=>!b),className:`flex items-center gap-2 px-3 py-1.5 text-[11px] rounded-full border transition ${a.ghostButton}`,"aria-expanded":$,children:[(0,e.jsx)(Rr,{className:"w-4 h-4"}),"Sections"]}),$&&(0,e.jsx)("div",{className:`absolute right-0 mt-2 w-60 border rounded-xl shadow-lg shadow-black/40 p-2 space-y-1 max-h-72 overflow-y-auto custom-scrollbar ${_?"bg-[#0C0F16] border-white/10":"bg-white border-slate-200"}`,children:vo.map(b=>{const L=H===b.id||b.id==="brandControls"&&!H;return(0,e.jsxs)("button",{type:"button",onClick:()=>{Ye(b.id),W(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-left text-[12px] transition ${L?_?"bg-purple-500/20 border border-purple-400 text-white":"bg-sky-100 border border-sky-300 text-sky-900":_?"bg-white/5 border border-white/5 text-neutral-200 hover:border-purple-300 hover:text-white":"bg-white border border-slate-200 text-slate-600 hover:border-slate-300 hover:text-slate-900"}`,children:[(0,e.jsx)("span",{children:b.label}),L&&(0,e.jsx)("span",{className:`text-[10px] uppercase tracking-wide ${_?"text-purple-200":"text-sky-700"}`,children:"Active"})]},b.id)})})]}),(0,e.jsxs)("button",{"aria-label":"Get export code",onClick:()=>Ue(!0),className:`text-[11px] px-3 py-1.5 rounded-full border transition flex items-center gap-1 ${_?"border-pink-400/60 text-white bg-pink-500/20 hover:bg-pink-500/30":"border-pink-200 text-pink-700 bg-pink-50 hover:bg-pink-100"}`,children:[(0,e.jsx)(cr,{className:"w-3 h-3"})," Export"]})]})]}),(0,e.jsxs)("div",{ref:w,className:"flex-1 overflow-y-auto px-2 sm:px-2 py-6 space-y-8 transition-all",style:{outline:D?"2px solid var(--jazer-electric-purple)":"none",outlineOffset:D?"2px":"0",overscrollBehavior:"contain",paddingBottom:Be?void 0:"8rem"},children:[(0,e.jsxs)("div",{className:`rounded-2xl border p-4 flex flex-wrap items-center justify-between gap-3 ${a.cardSoft}`,children:[(0,e.jsxs)("div",{className:"space-y-1",children:[(0,e.jsx)("p",{className:`text-[10px] uppercase tracking-[0.3em] ${a.muted}`,children:"Customize"}),(0,e.jsxs)("h2",{className:`text-lg font-semibold ${_?"text-white":"text-slate-900"}`,children:[G?.label||"Widget"," Configuration"]}),G?.description&&(0,e.jsx)("p",{className:`text-xs ${a.mutedStrong}`,children:G.description})]}),(0,e.jsx)("div",{className:`text-[11px] uppercase tracking-[0.3em] ${a.sidebarMuted}`,children:_o})]}),(0,e.jsxs)("div",{className:`flex items-center gap-2 text-xs font-bold uppercase ${a.muted}`,children:[(0,e.jsx)(qe,{className:"w-3 h-3"})," Brand + Surface"]}),(0,e.jsxs)("section",{ref:b=>{b&&(j.current.brandControls=b)},className:`space-y-4 border rounded-2xl p-5 ${a.card}`,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[10px] uppercase tracking-[0.3em] ${a.muted}`,children:"Brand Kit"}),(0,e.jsx)("h3",{className:`text-base font-semibold ${_?"text-white":"text-slate-900"}`,children:"Global Palette"})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("select",{"aria-label":"Select brand kit",value:d,onChange:b=>ce(b.target.value),className:`rounded-full text-xs px-3 py-1.5 border ${_?"bg-[#0B0E12] border-white/10 text-white":"bg-white border-slate-200 text-slate-700"}`,children:[(0,e.jsx)("option",{value:"none",children:"None"}),(0,e.jsx)("option",{value:"jazer",children:"Neon"}),P&&(0,e.jsx)("option",{value:"custom",children:E})]}),u&&(0,e.jsx)("button",{type:"button",onClick:u,className:`text-[11px] px-3 py-1.5 rounded-full border transition ${_?"border-cyan-400/60 text-cyan-100 hover:border-cyan-200":"border-cyan-300 text-cyan-700 hover:border-cyan-400"}`,children:"Launch Generator"})]})]}),(0,e.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{className:"space-y-3",children:[d==="jazer"&&(0,e.jsxs)("div",{className:`p-3 rounded-xl text-xs space-y-1 ${_?"bg-purple-500/10 border border-purple-400/40 text-purple-100":"bg-purple-50 border border-purple-200 text-purple-700"}`,children:[(0,e.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,e.jsx)(ye,{className:"w-3 h-3"})," Official Neon Kit"]}),(0,e.jsx)("p",{className:_?"text-purple-200/80":"text-purple-600",children:"Orbitron & Montserrat fonts, neon gradient accents, and night-mode canvas."})]}),d==="custom"&&I&&(0,e.jsxs)("div",{className:`p-3 rounded-xl text-xs space-y-2 ${_?"bg-cyan-500/10 border border-cyan-400/40 text-cyan-100":"bg-cyan-50 border border-cyan-200 text-cyan-700"}`,children:[(0,e.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,e.jsx)(ye,{className:"w-3 h-3"})," ",E]}),(0,e.jsx)("p",{className:_?"text-cyan-100/80":"text-cyan-600",children:"Widgets are synced with your logo palette."}),(0,e.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Background",color:I.backgroundColor||I.background},{label:"Primary",color:I.clockColor||I.primary},{label:"Digits",color:I.digitColor||I.secondary},{label:"Text",color:I.textColor||I.text}].map(({label:b,color:L})=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:`h-10 rounded border ${_?"border-white/20":"border-slate-200"}`,style:{backgroundColor:L||"#0B0E12"}}),(0,e.jsx)("div",{className:`mt-1 text-[9px] uppercase ${a.muted}`,children:b}),(0,e.jsx)("div",{className:`text-[9px] font-mono ${a.mutedStrong}`,children:L||"--"})]},b))})]})]}),d==="custom"&&I?.palette?.length>0&&(0,e.jsxs)("div",{className:`rounded-xl p-3 border ${_?"bg-[#0B0E12] border-white/10":"bg-white border-slate-200"}`,children:[(0,e.jsx)("div",{className:`text-[10px] uppercase mb-2 ${a.sidebarMuted}`,children:"Palette Swatches"}),(0,e.jsx)("div",{className:"grid grid-cols-5 gap-2",children:I.palette.map((b,L)=>(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:`w-full h-10 rounded border ${_?"border-white/10":"border-slate-200"}`,style:{backgroundColor:b}}),(0,e.jsx)("div",{className:`text-[8px] truncate mt-1 ${a.muted}`,children:b})]},`${b}-${L}`))})]}),d==="jazer"&&(0,e.jsx)(Us,{})]})]}),(0,e.jsxs)("section",{ref:b=>{b&&(j.current.appearanceControls=b)},className:`space-y-4 border rounded-2xl p-5 ${a.card}`,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:`text-[10px] uppercase tracking-[0.3em] ${a.muted}`,children:"Surface"}),(0,e.jsx)("h3",{className:`text-base font-semibold ${_?"text-white":"text-slate-900"}`,children:"Canvas & Appearance"})]}),l.fontSize!==void 0&&(0,e.jsxs)("div",{className:`text-[11px] ${a.muted}`,children:[l.fontSize,"px"]})]}),l.fontSize!==void 0&&(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("div",{className:"flex justify-between",children:(0,e.jsx)("label",{className:`block text-xs font-medium ${a.muted}`,children:"Font Size"})}),(0,e.jsx)("input",{"aria-label":"Font size slider",type:"range",min:Ds,max:Ps,value:l.fontSize,onChange:b=>z("fontSize",parseInt(b.target.value)),className:`w-full h-2 rounded-full appearance-none cursor-pointer accent-purple-500 ${_?"bg-neutral-800":"bg-slate-200"}`})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:`block text-xs font-medium mb-1 ${a.muted}`,children:"Background"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-2 rounded-lg ${a.border}`,children:[(0,e.jsx)("input",{"aria-label":"Background color",type:"color",value:l.bgColor,onChange:b=>z("bgColor",b.target.value),className:"w-8 h-8 rounded border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.bgColor})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:`block text-xs font-medium mb-1 ${a.muted}`,children:"Text"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-2 rounded-lg ${a.border}`,children:[(0,e.jsx)("input",{"aria-label":"Text color",type:"color",value:l.textColor||"#000000",onChange:b=>z("textColor",b.target.value),className:"w-8 h-8 rounded border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.textColor})]})]})]})]}),(0,e.jsxs)("div",{className:`flex items-center gap-2 text-xs font-bold uppercase ${a.muted}`,children:[(0,e.jsx)(it,{className:"w-3 h-3"})," Navigate & Filter"]}),(0,e.jsxs)("section",{className:`space-y-4 border rounded-2xl p-5 ${a.card}`,children:[(0,e.jsxs)("div",{className:`flex items-center justify-between text-xs font-bold uppercase ${a.muted}`,children:[(0,e.jsxs)("span",{className:"flex items-center gap-2",children:[(0,e.jsx)(it,{className:"w-3 h-3"})," Quick Find"]}),y&&(0,e.jsx)("button",{type:"button",onClick:()=>ue(""),className:`text-[10px] transition-colors ${_?"text-neutral-300 hover:text-white":"text-slate-500 hover:text-slate-900"}`,children:"Clear"})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(it,{className:`w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 ${a.sidebarMuted}`}),(0,e.jsx)("input",{type:"text",value:y,onChange:b=>ue(b.target.value),placeholder:"Search labels, sections, or controls...",className:`w-full rounded-full py-2.5 pl-10 pr-3 text-sm focus:outline-none focus:ring-0 ${a.input} ${_?"focus:border-purple-400":"focus:border-sky-400"}`})]}),O.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map(b=>(0,e.jsxs)("button",{type:"button",onClick:()=>Ye(b.id),className:`px-3 py-1.5 rounded-full border text-[11px] ${H===b.id?_?"border-purple-400 text-white bg-purple-500/20":"border-sky-300 text-sky-900 bg-sky-100":_?"border-white/10 text-neutral-300 hover:border-purple-300 hover:text-white":"border-slate-200 text-slate-600 hover:border-slate-300 hover:text-slate-900"}`,children:[b.label," · ",b.controlCount]},b.id))})]}),(0,e.jsx)(xo,{onColorsExtracted:b=>{if(!b){de(null),p(We=>{if(!We.brandThemeSnapshot)return We;const tt={...We};return delete tt.brandThemeSnapshot,tt});return}const L=Ie(b,{appliedAt:new Date().toISOString()});if(!L)return;de(L);const A={...l,brandThemeSnapshot:L},q=L.backgroundColor||L.background,ae=L.textColor||L.text,K=L.text||L.textColor||"#0B0E12",fe=L.background||L.backgroundColor||"#F8F9FF",he=L.clockColor||L.primary||L.primaryColor,je=L.digitColor||L.secondary||L.secondaryColor||he,Pe=L.accentColor||L.accent||he,Nt=Array.isArray(L.palette)?L.palette:[];if(s==="clock"?(A.lightMode={...A.lightMode,textColor:ae,panelColor:q,digitColor:he,clockColor:he,backgroundColor:q},A.darkMode={...A.darkMode,textColor:fe,panelColor:K,digitColor:je,clockColor:Pe,backgroundColor:K},A.bgColor=q):s==="countdown"?(A.lightMode={...A.lightMode,textColor:ae,panelColor:q,digitColor:he,backgroundColor:q},A.darkMode={...A.darkMode,textColor:fe,panelColor:K,digitColor:je,backgroundColor:K},A.bgColor=q):s==="quotes"&&(A.lightMode={...A.lightMode,textColor:ae,authorColor:je,backgroundColor:q},A.darkMode={...A.darkMode,textColor:fe,authorColor:Pe,backgroundColor:K},A.bgColor=q),s==="counter")A.lightTextColor=ae,A.darkTextColor=K,A.bgColor=q;else if(s==="weather")A.bgColor=q,A.textColor=ae,A.accentColor=Pe;else if(s==="imageGallery")A.bgColor=q;else if(s==="newButtonGenerator"){const We=Nt.length>0?Nt:[he,Pe,ae].filter(Boolean);A.buttons&&Array.isArray(A.buttons)&&(A.buttons=A.buttons.map((tt,St)=>({...tt,backgroundColor:We[St%We.length]||he,textColor:ae,outlineColor:Pe,hoverBackgroundColor:q,hoverTextColor:We[St%We.length]||he}))),A.bgColor=q}else s==="simpleList"||s==="pomodoro"?(A.bgColor=q,A.textColor=ae,A.accentColor=Pe):(A.bgColor=q,A.textColor=ae,A.accentColor!==void 0&&(A.accentColor=Pe));p(A)}}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:`flex items-center gap-2 text-xs font-bold uppercase ${a.muted}`,children:[(0,e.jsx)(jr,{className:"w-3 h-3"})," Configure Sections"]}),wo,Rt&&(0,e.jsx)("div",{ref:T,className:`py-4 text-center text-[11px] ${a.muted}`,children:"Keep scrolling to load more controls..."})]}),(0,e.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,e.jsxs)("div",{className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest border-b pb-2 ${a.muted} ${a.border}`,children:[(0,e.jsx)(qe,{className:"w-3 h-3"})," Light Mode Colors"]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:`block text-xs font-medium ${a.mutedStrong}`,children:"Text Color"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-1 rounded ${a.border}`,children:[(0,e.jsx)("input",{type:"color",value:l.lightMode?.textColor||U.colors.graphite,onChange:b=>z("lightMode",{textColor:b.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.lightMode?.textColor||U.colors.graphite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:`block text-xs font-medium ${a.mutedStrong}`,children:"Panel Color"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-1 rounded ${a.border}`,children:[(0,e.jsx)("input",{type:"color",value:l.lightMode?.panelColor||U.colors.stardustWhite,onChange:b=>z("lightMode",{panelColor:b.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.lightMode?.panelColor||U.colors.stardustWhite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:`block text-xs font-medium ${a.mutedStrong}`,children:"Digit Color"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-1 rounded ${a.border}`,children:[(0,e.jsx)("input",{type:"color",value:l.lightMode?.digitColor||U.colors.nightBlack,onChange:b=>z("lightMode",{digitColor:b.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.lightMode?.digitColor||U.colors.nightBlack})]})]})]}),(0,e.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,e.jsxs)("div",{className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest border-b pb-2 ${a.muted} ${a.border}`,children:[(0,e.jsx)(qe,{className:"w-3 h-3"})," Dark Mode Colors"]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:`block text-xs font-medium ${a.mutedStrong}`,children:"Text Color"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-1 rounded ${a.border}`,children:[(0,e.jsx)("input",{type:"color",value:l.darkMode?.textColor||U.colors.stardustWhite,onChange:b=>z("darkMode",{textColor:b.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.darkMode?.textColor||U.colors.stardustWhite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:`block text-xs font-medium ${a.mutedStrong}`,children:"Panel Color"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-1 rounded ${a.border}`,children:[(0,e.jsx)("input",{type:"color",value:l.darkMode?.panelColor||U.colors.graphite,onChange:b=>z("darkMode",{panelColor:b.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.darkMode?.panelColor||U.colors.graphite})]})]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:`block text-xs font-medium ${a.mutedStrong}`,children:"Digit Color"}),(0,e.jsxs)("div",{className:`flex items-center gap-2 border p-1 rounded ${a.border}`,children:[(0,e.jsx)("input",{type:"color",value:l.darkMode?.digitColor||U.colors.stardustWhite,onChange:b=>z("darkMode",{digitColor:b.target.value}),className:"w-6 h-6 rounded cursor-pointer border-none"}),(0,e.jsx)("span",{className:`text-[10px] font-mono ${a.muted}`,children:l.darkMode?.digitColor||U.colors.stardustWhite})]})]})]}),(0,e.jsx)("hr",{className:a.border}),s==="clock"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("hr",{className:`my-4 ${a.border}`}),(0,e.jsxs)("div",{className:`p-3 rounded text-xs flex items-start gap-2 ${_?"bg-blue-500/10 border border-blue-400/30 text-blue-100":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:[(0,e.jsx)(mr,{className:"w-4 h-4 mt-0.5"}),(0,e.jsxs)("span",{children:[(0,e.jsx)("strong",{children:"Advanced Clock Features:"})," Full light/dark mode support, 7+ clock styles, and custom fonts available in the full version."]})]})]})]}),!Be&&(0,e.jsxs)("div",{className:`fixed bottom-4 left-4 right-4 z-30 flex items-center gap-3 rounded-full px-4 py-2 shadow-lg backdrop-blur border ${_?"bg-[#0A0C12]/95 border-white/10 shadow-black/40":"bg-white/95 border-slate-200 shadow-slate-200/70"}`,children:[(0,e.jsx)("button",{type:"button",onClick:()=>W(!0),className:`flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-400 ${a.ghostButton}`,children:"Sections"}),(0,e.jsx)("button",{type:"button",onClick:()=>Ue(!0),className:`flex-1 px-3 py-2 rounded-full text-xs font-semibold uppercase tracking-[0.3em] border transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-300 ${a.ghostButton}`,children:"Export"})]})]})]})]})}function Vs(){const t=(0,h.useMemo)(()=>new URLSearchParams(window.location.search),[]),o=t.get("embed")==="1",r=t.get("widget"),n=t.get("config"),[u,c]=(0,h.useState)("landing"),[s,m]=(0,h.useState)("clock"),[d,g]=(0,h.useState)(()=>Gs()),[l,p]=(0,h.useState)("landing"),[x,k]=(0,h.useState)(!1),[F,N]=(0,h.useState)(null),{theme:y}=Ee(),v=y?.isDark?"var(--jazer-night-black)":"#F0F9FF",j=B=>{m(B),c("builder")},w=()=>{p(u),c("brand-generator")},T=()=>{c("landing")},f=(0,h.useCallback)(()=>{c(l||"landing")},[l]),H=B=>{g(B?Ie(B):null)};if(ca({"cmd+k":()=>{T()},"cmd+e":()=>{},"cmd+b":()=>{w()},"cmd+/":()=>{F&&F.focus()},"?":B=>{B.target.tagName==="INPUT"||B.target.tagName==="TEXTAREA"||k(!0)},Escape:()=>{k(!1)}},!o),o&&r&&Re[r]){const B=Re[r];let C=B.defaultConfig||{};n&&(C=Hs(n)||C);const Z=qs(C,!1),$=B.Component;return(0,e.jsx)("div",{style:{margin:0,padding:0,width:"100vw",height:"100vh",backgroundColor:Z.bg,color:Z.text,fontFamily:"sans-serif",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,e.jsx)("div",{className:"w-full h-full",children:(0,e.jsx)($,{config:C,brandTheme:C.brandThemeSnapshot})})})}const Q=d?.presetName||d?.name||"Custom Brand Theme",D=d?`${d.presetName||d.name||"custom"}-${d.appliedAt||d.backgroundColor||"base"}`:"none";return(0,e.jsxs)(ma,{children:[(0,e.jsx)("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap');
        ${bo.jazer.extraCSS}
      `}),(0,e.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:v},children:[(0,e.jsx)(ia,{currentView:u,onNavigateHome:T,onNavigateBuilder:()=>j(s||"clock"),onNavigateBrand:w,onOpenHelp:()=>k(!0),selectedWidgetId:s,selectedWidgetLabel:Re[s]?.label||"",hasBrandTheme:!!d,brandLabel:Q}),(0,e.jsx)("div",{className:"flex-1 w-full",children:u==="landing"?(0,e.jsx)(Ks,{onSelect:j,onBrandGenerator:w,setSearchInputRef:N}):u==="brand-generator"?(0,e.jsx)(go,{children:(0,e.jsx)(Bs,{onBack:f,onThemeGenerated:H})}):(0,e.jsx)(Xs,{initialWidgetId:s,onBack:T,globalBrandTheme:d,onBrandThemeUpdate:H,onLaunchBrandGenerator:w},D)}),(0,e.jsx)(ua,{isOpen:x,onClose:()=>k(!1)})]})]})}var en=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,tn=()=>{if(typeof window>"u")return"system";try{const t=window.localStorage.getItem("jazer_color_mode");return t==="light"||t==="dark"||t==="system"?t:"system"}catch{return"system"}};const rn=({children:t})=>{const[o,r]=(0,h.useState)(Y),[n,u]=(0,h.useState)(()=>en()),[c,s]=(0,h.useState)(()=>tn()),[m,d]=(0,h.useState)("jazer-neon");(0,h.useEffect)(()=>{if(typeof window<"u"){const y=window.matchMedia("(prefers-color-scheme: dark)"),v=j=>u(j.matches);return y.addEventListener?y.addEventListener("change",v):y.addListener(v),()=>{y.removeEventListener?y.removeEventListener("change",v):y.removeListener(v)}}},[]),(0,h.useEffect)(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem("jazer_color_mode",c)}catch{}},[c]);const g=(0,h.useMemo)(()=>c==="system"?n:c==="dark",[c,n]),l=(0,h.useCallback)((y,v="custom")=>{r(y),d(v)},[]),p=(0,h.useCallback)(()=>{r(Y),d("jazer-neon")},[]),x=(0,h.useCallback)((y,v=Y.colors.stardustWhite)=>o?.colors?.[y]||v,[o]),k=(0,h.useMemo)(()=>({...o,isDark:g,colorMode:c,activeBrandId:m,isJazerNeon:m==="jazer-neon"}),[o,g,c,m]),F=(0,h.useCallback)(()=>{s(y=>y==="dark"?"light":"dark")},[]),N=(0,h.useMemo)(()=>({theme:k,setTheme:l,resetToJazerNeon:p,getColor:x,activeBrandId:m,colorMode:c,setColorMode:s,toggleColorMode:F,baseTheme:Y}),[k,l,p,x,m,c,s,F]);return(0,e.jsx)(Qr.Provider,{value:N,children:t})};(0,sa.createRoot)(document.getElementById("root")).render((0,e.jsx)(h.StrictMode,{children:(0,e.jsx)(rn,{children:(0,e.jsx)(Vs,{})})}));
